



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Static HTML - NB 5, Mohr Circle</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.2.min.js"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.2.min.js"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="5720d249-1a91-4784-bc68-22774a9817b2" data-root-id="11653"></div>
            
          
        
      
      
        <script type="application/json" id="15386">
          {"b7563e4b-e8d8-4463-9722-07bec94ca3f8":{"defs":[],"roots":{"references":[{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"height":{"value":320.0},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"width":{"value":160.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10695","type":"Rect"},{"attributes":{"source":{"id":"10693"}},"id":"10698","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"10702"},"glyph":{"id":"10703"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10705"},"nonselection_glyph":{"id":"10704"},"view":{"id":"10707"}},"id":"10706","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"height":{"value":320.0},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"width":{"value":160.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10696","type":"Rect"},{"attributes":{"interval":50},"id":"10699","type":"SingleIntervalTicker"},{"attributes":{"coordinates":null,"data_source":{"id":"10693"},"glyph":{"id":"10694"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10696"},"nonselection_glyph":{"id":"10695"},"view":{"id":"10698"}},"id":"10697","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"hatch_alpha":{"value":0.1},"hatch_pattern":{"value":"/"},"height":{"value":200},"line_alpha":{"value":0.1},"line_width":{"value":3},"width":{"value":100},"x":{"field":"x"},"y":{"field":"y"}},"id":"10704","type":"Rect"},{"attributes":{"source":{"id":"10702"}},"id":"10707","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"white"},"hatch_alpha":{"value":0.2},"hatch_pattern":{"value":"/"},"height":{"value":200},"line_alpha":{"value":0.2},"line_width":{"value":3},"width":{"value":100},"x":{"field":"x"},"y":{"field":"y"}},"id":"10705","type":"Rect"},{"attributes":{"coordinates":null,"end":{"id":"11584"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11680"},"start":null,"x_end":{"value":140.0},"x_start":{"value":140.0},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"11585","type":"Arrow"},{"attributes":{},"id":"11825","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"height":{"value":18.0},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"width":{"value":72.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10746","type":"Rect"},{"attributes":{},"id":"11826","type":"Selection"},{"attributes":{"end":200,"js_property_callbacks":{"change:value":[{"id":"11627"}]},"start":10,"step":10,"title":"Change the width b [mm]","value":100},"id":"10709","type":"Slider"},{"attributes":{},"id":"11702","type":"UnionRenderers"},{"attributes":{"data":{"x":[30.0],"y":[0]},"selected":{"id":"11793"},"selection_policy":{"id":"11792"}},"id":"10744","type":"ColumnDataSource"},{"attributes":{"data":{"text":["P"],"x":[6.5],"y":[0.2]},"selected":{"id":"11834"},"selection_policy":{"id":"11833"}},"id":"10753","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"end":{"id":"10750"},"group":null,"line_color":{"value":"green"},"line_width":{"value":2.3978952727983707},"source":{"id":"11764"},"start":null,"x_end":{"value":6},"x_start":{"value":7.0},"y_end":{"value":0},"y_start":{"value":0}},"id":"10751","type":"Arrow"},{"attributes":{},"id":"11703","type":"Selection"},{"attributes":{"below":[{"id":"10722"}],"center":[{"id":"10725"},{"id":"10729"},{"id":"10790"},{"id":"10793"},{"id":"10796"},{"id":"10799"},{"id":"10802"},{"id":"10805"}],"height":200,"left":[{"id":"10726"}],"match_aspect":true,"renderers":[{"id":"10748"},{"id":"10763"},{"id":"10769"},{"id":"10775"},{"id":"10781"},{"id":"10787"},{"id":"10812"},{"id":"10818"}],"title":{"id":"10712"},"toolbar":{"id":"10737"},"toolbar_location":null,"x_range":{"id":"10714"},"x_scale":{"id":"10718"},"y_range":{"id":"10716"},"y_scale":{"id":"10720"}},"id":"10711","subtype":"Figure","type":"Plot"},{"attributes":{"end":400,"js_property_callbacks":{"change:value":[{"id":"11628"}]},"start":20,"step":20,"title":"Change the height h [mm]","value":200},"id":"10710","type":"Slider"},{"attributes":{},"id":"10714","type":"DataRange1d"},{"attributes":{"source":{"id":"10744"}},"id":"10749","type":"CDSView"},{"attributes":{},"id":"10716","type":"DataRange1d"},{"attributes":{},"id":"10718","type":"LinearScale"},{"attributes":{},"id":"11778","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"formatter":{"id":"11749"},"group":null,"major_label_policy":{"id":"11750"},"ticker":{"id":"10723"},"visible":false},"id":"10722","type":"LinearAxis"},{"attributes":{},"id":"10735","type":"HelpTool"},{"attributes":{"coordinates":null,"group":null,"text":"Forces and Moments Scheme"},"id":"10712","type":"Title"},{"attributes":{},"id":"11779","type":"AllLabels"},{"attributes":{"axis":{"id":"10722"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"10725","type":"Grid"},{"attributes":{},"id":"11827","type":"UnionRenderers"},{"attributes":{},"id":"10730","type":"PanTool"},{"attributes":{},"id":"11781","type":"BasicTickFormatter"},{"attributes":{},"id":"11704","type":"UnionRenderers"},{"attributes":{},"id":"10720","type":"LinearScale"},{"attributes":{},"id":"11828","type":"Selection"},{"attributes":{},"id":"11782","type":"AllLabels"},{"attributes":{},"id":"11705","type":"Selection"},{"attributes":{"overlay":{"id":"10736"}},"id":"10732","type":"BoxZoomTool"},{"attributes":{},"id":"10723","type":"BasicTicker"},{"attributes":{},"id":"10731","type":"WheelZoomTool"},{"attributes":{},"id":"10733","type":"SaveTool"},{"attributes":{},"id":"10734","type":"ResetTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"10736","type":"BoxAnnotation"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"height":{"value":18.0},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"width":{"value":72.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10747","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"10814"},"glyph":{"id":"10815"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10817"},"nonselection_glyph":{"id":"10816"},"view":{"id":"10819"}},"id":"10818","type":"GlyphRenderer"},{"attributes":{"end":5.0,"js_property_callbacks":{"change:value":[{"id":"11631"}]},"start":0.1,"step":0.1,"title":"Change the uniform load q [kN/m]","value":4},"id":"10820","type":"Slider"},{"attributes":{},"id":"11829","type":"UnionRenderers"},{"attributes":{"source":{"id":"10814"}},"id":"10819","type":"CDSView"},{"attributes":{"end":6,"js_property_callbacks":{"change:value":[{"id":"11626"}]},"start":0,"step":0.02,"title":"Change the position x along the beam [m]","value":6},"id":"10821","type":"Slider"},{"attributes":{},"id":"11706","type":"UnionRenderers"},{"attributes":{},"id":"11830","type":"Selection"},{"attributes":{"active":0,"js_property_callbacks":{"change:active":[{"id":"11630"}]},"labels":["Right-hand","Left-hand"]},"id":"10823","type":"RadioButtonGroup"},{"attributes":{},"id":"11707","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"10771"},"glyph":{"id":"10772"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10774"},"nonselection_glyph":{"id":"10773"},"view":{"id":"10776"}},"id":"10775","type":"GlyphRenderer"},{"attributes":{"text":"Free-body diagram (FBD):"},"id":"10822","type":"Div"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"xF"},"y":{"field":"y"}},"id":"10760","type":"Circle"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11587","type":"VeeHead"},{"attributes":{"coordinates":null,"data_source":{"id":"10753"},"glyph":{"id":"10754"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10756"},"nonselection_glyph":{"id":"10755"},"view":{"id":"10758"}},"id":"10757","type":"GlyphRenderer"},{"attributes":{},"id":"11831","type":"UnionRenderers"},{"attributes":{},"id":"11708","type":"UnionRenderers"},{"attributes":{},"id":"11832","type":"Selection"},{"attributes":{"tools":[{"id":"10730"},{"id":"10731"},{"id":"10732"},{"id":"10733"},{"id":"10734"},{"id":"10735"}]},"id":"10737","type":"Toolbar"},{"attributes":{"coordinates":null,"data_source":{"id":"10593"},"glyph":{"id":"10766"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10768"},"nonselection_glyph":{"id":"10767"},"view":{"id":"10770"}},"id":"10769","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"10744"},"glyph":{"id":"10745"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10747"},"nonselection_glyph":{"id":"10746"},"view":{"id":"10749"}},"id":"10748","type":"GlyphRenderer"},{"attributes":{},"id":"11709","type":"Selection"},{"attributes":{"coordinates":null,"end":{"id":"11572"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.4054651081081644},"source":{"id":"11676"},"start":null,"x_end":{"value":145.0},"x_start":{"value":145.5},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"11573","type":"Arrow"},{"attributes":{"children":[{"id":"11648"}]},"id":"11649","type":"Row"},{"attributes":{"line_alpha":0.1,"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11544","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"height":{"value":180.0},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"width":{"value":180.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11520","type":"Rect"},{"attributes":{"children":[{"id":"11642"},{"id":"11649"}]},"id":"11650","type":"Column"},{"attributes":{},"id":"11908","type":"UnionRenderers"},{"attributes":{"children":[{"id":"11452"},{"id":"11485"}]},"id":"11651","type":"Column"},{"attributes":{"children":[{"id":"11652"}]},"id":"11653","type":"Column"},{"attributes":{},"id":"11909","type":"Selection"},{"attributes":{"children":[{"id":"11650"},{"id":"11651"}]},"id":"11652","type":"Row"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"height":{"value":180.0},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"width":{"value":180.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11521","type":"Rect"},{"attributes":{"source":{"id":"11518"}},"id":"11523","type":"CDSView"},{"attributes":{},"id":"11910","type":"UnionRenderers"},{"attributes":{"source":{"id":"11536"}},"id":"11541","type":"CDSView"},{"attributes":{},"id":"11911","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"11518"},"glyph":{"id":"11519"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11521"},"nonselection_glyph":{"id":"11520"},"view":{"id":"11523"}},"id":"11522","type":"GlyphRenderer"},{"attributes":{"data":{"x":[120],"y":[0]},"selected":{"id":"11707"},"selection_policy":{"id":"11706"}},"id":"11530","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"black"},"hatch_alpha":{"value":0.1},"height":{"value":30.0},"line_alpha":{"value":0.1},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11526","type":"Rect"},{"attributes":{"source":{"id":"11524"}},"id":"11529","type":"CDSView"},{"attributes":{"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11537","type":"Line"},{"attributes":{"data":{"x":[0,150.0],"y":[0,0]},"selected":{"id":"11709"},"selection_policy":{"id":"11708"}},"id":"11536","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"11596"},"glyph":{"id":"11597"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11599"},"nonselection_glyph":{"id":"11598"},"view":{"id":"11601"}},"id":"11600","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"black"},"hatch_alpha":{"value":0.2},"height":{"value":30.0},"line_alpha":{"value":0.2},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11527","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"11524"},"glyph":{"id":"11525"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11527"},"nonselection_glyph":{"id":"11526"},"view":{"id":"11529"}},"id":"11528","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":2.8382557567571505}},"id":"11548","type":"VeeHead"},{"attributes":{"line_alpha":0.1,"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11538","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11542"},"glyph":{"id":"11543"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11545"},"nonselection_glyph":{"id":"11544"},"view":{"id":"11547"}},"id":"11546","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":2.8382557567571505}},"id":"11551","type":"VeeHead"},{"attributes":{},"id":"11912","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"11536"},"glyph":{"id":"11537"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11539"},"nonselection_glyph":{"id":"11538"},"view":{"id":"11541"}},"id":"11540","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11539","type":"Line"},{"attributes":{},"id":"11913","type":"Selection"},{"attributes":{"coordinates":null,"end":{"id":"11593"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11683"},"start":null,"x_end":{"value":120.0},"x_start":{"value":120.0},"y_end":{"value":-20.0},"y_start":{"value":-20.0}},"id":"11594","type":"Arrow"},{"attributes":{"source":{"id":"11542"}},"id":"11547","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11545","type":"Line"},{"attributes":{"coordinates":null,"end":{"id":"11548"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.4054651081081644},"source":{"id":"11668"},"start":null,"x_end":{"value":25.0},"x_start":{"value":25.5},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"11549","type":"Arrow"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11560","type":"VeeHead"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11554","type":"VeeHead"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":2.8382557567571505}},"id":"11572","type":"VeeHead"},{"attributes":{"line_color":"blue","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11603","type":"Line"},{"attributes":{"coordinates":null,"end":{"id":"11587"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11681"},"start":null,"x_end":{"value":100.0},"x_start":{"value":100.0},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"11588","type":"Arrow"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11557","type":"VeeHead"},{"attributes":{"coordinates":null,"end":{"id":"11560"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11672"},"start":null,"x_end":{"value":20.0},"x_start":{"value":20.0},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"11561","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"11551"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.4054651081081644},"source":{"id":"11669"},"start":null,"x_end":{"value":-25.0},"x_start":{"value":-25.5},"y_end":{"value":-0.0},"y_start":{"value":-0.0}},"id":"11552","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"11563"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11673"},"start":null,"x_end":{"value":-20.0},"x_start":{"value":-20.0},"y_end":{"value":-0.0},"y_start":{"value":0.0}},"id":"11564","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"11554"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11670"},"start":null,"x_end":{"value":0.0},"x_start":{"value":0.0},"y_end":{"value":25.0},"y_start":{"value":25.0}},"id":"11555","type":"Arrow"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11563","type":"VeeHead"},{"attributes":{"coordinates":null,"end":{"id":"11557"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11671"},"start":null,"x_end":{"value":0.0},"x_start":{"value":0.0},"y_end":{"value":-25.0},"y_start":{"value":-25.0}},"id":"11558","type":"Arrow"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11569","type":"VeeHead"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":2.8382557567571505}},"id":"11575","type":"VeeHead"},{"attributes":{},"id":"11914","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"radius":{"value":0.25},"x":{"field":"x"},"y":{"field":"y"}},"id":"11598","type":"Circle"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11566","type":"VeeHead"},{"attributes":{},"id":"11915","type":"Selection"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11593","type":"VeeHead"},{"attributes":{"coordinates":null,"end":{"id":"11566"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11674"},"start":null,"x_end":{"value":0.0},"x_start":{"value":0.0},"y_end":{"value":20.0},"y_start":{"value":20.0}},"id":"11567","type":"Arrow"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"blue"},"line_alpha":{"value":0.5},"line_color":{"value":"blue"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"11609","type":"Circle"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"radius":{"value":0.25},"x":{"field":"x"},"y":{"field":"y"}},"id":"11597","type":"Circle"},{"attributes":{"coordinates":null,"end":{"id":"11569"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11675"},"start":null,"x_end":{"value":0.0},"x_start":{"value":0.0},"y_end":{"value":-20.0},"y_start":{"value":-20.0}},"id":"11570","type":"Arrow"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11590","type":"VeeHead"},{"attributes":{"coordinates":null,"end":{"id":"11575"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.4054651081081644},"source":{"id":"11677"},"start":null,"x_end":{"value":95.0},"x_start":{"value":94.5},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"11576","type":"Arrow"},{"attributes":{"line_alpha":0.1,"line_color":"red","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11616","type":"Line"},{"attributes":{"data":{"x":[-0.25],"y":[0]},"selected":{"id":"11692"},"selection_policy":{"id":"11691"}},"id":"11596","type":"ColumnDataSource"},{"attributes":{"data":{"x":[-0.5,0.0],"y":[0,-0.0]},"selected":{"id":"11694"},"selection_policy":{"id":"11693"}},"id":"11602","type":"ColumnDataSource"},{"attributes":{"data":{"x":[-0.5,0.0],"y":[0,-0.0]},"selected":{"id":"11696"},"selection_policy":{"id":"11695"}},"id":"11608","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"end":{"id":"11590"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11682"},"start":null,"x_end":{"value":120.0},"x_start":{"value":120.0},"y_end":{"value":20.0},"y_start":{"value":20.0}},"id":"11591","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"11578"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11678"},"start":null,"x_end":{"value":120.0},"x_start":{"value":120.0},"y_end":{"value":25.0},"y_start":{"value":25.0}},"id":"11579","type":"Arrow"},{"attributes":{"source":{"id":"11596"}},"id":"11601","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"radius":{"value":0.25},"x":{"field":"x"},"y":{"field":"y"}},"id":"11599","type":"Circle"},{"attributes":{"source":{"id":"10771"}},"id":"10776","type":"CDSView"},{"attributes":{},"id":"11796","type":"UnionRenderers"},{"attributes":{},"id":"11089","type":"WheelZoomTool"},{"attributes":{"coordinates":null,"group":null,"text":"Bending strain"},"id":"11071","type":"Title"},{"attributes":{"axis":{"id":"11080"},"coordinates":null,"group":null,"ticker":null},"id":"11083","type":"Grid"},{"attributes":{},"id":"11797","type":"Selection"},{"attributes":{},"id":"11114","type":"BasicTicker"},{"attributes":{"axis_label":"Strain \u03b5\u2098 [%]","coordinates":null,"formatter":{"id":"11870"},"group":null,"major_label_policy":{"id":"11871"},"ticker":{"id":"11327"}},"id":"11080","type":"LinearAxis"},{"attributes":{"line_alpha":0.2,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10774","type":"Line"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":0.0}},"id":"11410","type":"VeeHead"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11868"},"group":null,"major_label_policy":{"id":"11869"},"ticker":{"id":"11085"},"visible":false},"id":"11084","type":"LinearAxis"},{"attributes":{"axis":{"id":"11084"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"11087","type":"Grid"},{"attributes":{},"id":"11085","type":"BasicTicker"},{"attributes":{"args":{"Mohr_circle":{"id":"11600"},"N_diag":{"id":"10923"},"N_stress_diag":{"id":"11203"},"arr_head":{"id":"10818"},"arrow_sigma_x1":{"id":"11549"},"arrow_sigma_x1_theta":{"id":"11573"},"arrow_sigma_x2":{"id":"11552"},"arrow_sigma_x2_theta":{"id":"11576"},"arrow_sigma_y1":{"id":"11555"},"arrow_sigma_y1_theta":{"id":"11579"},"arrow_sigma_y2":{"id":"11558"},"arrow_sigma_y2_theta":{"id":"11582"},"arrow_tau_x1_theta":{"id":"11585"},"arrow_tau_x2_theta":{"id":"11588"},"arrow_tau_y1_theta":{"id":"11591"},"arrow_tau_y2_theta":{"id":"11594"},"axial_strain_diag":{"id":"11293"},"div_P":{"id":"10824"},"div_f":{"id":"10826"},"fN":{"id":"10802"},"fP":{"id":"10790"},"fRx":{"id":"10799"},"fRyl":{"id":"10796"},"fRyr":{"id":"10793"},"fV":{"id":"10805"},"label_M_section":{"id":"11436"},"label_N_section":{"id":"11430"},"label_V_section":{"id":"11442"},"line_stress_state":{"id":"11606"},"line_stress_state_theta":{"id":"11618"},"neutral_axis":{"id":"11269"},"points_stress_state":{"id":"11612"},"points_stress_state_theta":{"id":"11624"},"s_M":{"id":"10807"},"s_section_M":{"id":"11413"},"section_M_head":{"id":"11424"},"section_N":{"id":"11408"},"section_V":{"id":"11411"},"sigma_stress_diag":{"id":"11257"},"source":{"id":"10596"},"tau_stress_diag":{"id":"11275"}},"code":"\n// retrieve var from the object that uses callback\nvar f = cb_obj.active // checkbox P\nif (f.length==0) f = [1]\nconst P = 10*(1-f)\nconst db = source.data\nconst N = compute_N(P)\nconst M = db['M'][0]\nconst A = db['A'][0]\nconst Iy = db['Iy'][0]\nconst yG = db['yG'][0]\nconst y_var = db['y_var'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = db['tau_0'][0]\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// apply the changes\ndb['P'][0] = P\ndb['N'][0] = N\ndb['Rx'][0] = compute_Rx(db['P'][0])\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\nupdate_reactions(db, fRx, fRyl, fRyr)\nupdate_external_forces(db, fP, div_P)\nupdate_N_diagram(db, N_diag)\nupdate_internal_forces(db, fN, fV, arr_head, s_M)\nupdate_div_forces(db, div_f)\nupdate_axial_stress_strain(db, N_stress_diag, axial_strain_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\nupdate_NVM_section(db, section_N, section_V, section_M_head, s_section_M, label_N_section, label_V_section, label_M_section)\n// Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// emit the changes\nsource.change.emit()\n\n// declare functions\n\n    function update_external_forces(data, glyph_P, div_P, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_P) // P\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_P, alpha) // P\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_P, 1) //P\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        if (P==0) {\n            div_P.text = \"Axial force P: removed\"\n            update_arrow(glyph_P) // P\n        } else {\n            div_P.text = \"Axial force P: applied\"\n            update_arrow(glyph_P, P, L+P, L, 0, 0) // P\n        }\n    }\n    \n\n    function update_reactions(data, glyph_Rx, glyph_Ry_l, glyph_Ry_r, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        const Ry_l = data['Ry_l'][0]\n        const Ry_r = data['Ry_r'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_Rx) // Rx\n                arrow_alpha(glyph_Ry_l) // Ry left\n                arrow_alpha(glyph_Ry_r) // Ry right\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_Rx, 1) // Rx\n                arrow_alpha(glyph_Ry_l, 1) // Ry left\n                arrow_alpha(glyph_Ry_r, alpha) // Ry right\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_Rx, alpha) //Rx\n                arrow_alpha(glyph_Ry_l, alpha) //Ry left\n                arrow_alpha(glyph_Ry_r, 1) // Ry right\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        update_arrow(glyph_Rx, -P, -P, 0, 0, 0) // Rx\n        update_arrow(glyph_Ry_r, Ry_r, L, L, -Ry_r, 0) // Ry right\n        update_arrow(glyph_Ry_l, Ry_l, 0, 0, -Ry_l, 0) // Ry left\n    }\n    \n\n    function compute_Rx(P) {\n        return P\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function arrow_alpha(straight_arrow, alpha=1) {\n        straight_arrow.end.line_alpha = alpha\n        straight_arrow.end.fill_alpha = alpha\n        straight_arrow.line_alpha = alpha\n    }\n    \n\n    function update_NVM_diagram(diagram, y) {\n        const y_ = [...y]\n        const source = diagram.data_source\n        y_.unshift(0)\n        y_.push(0)\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function compute_N(P) {\n        return -P\n    }\n    \n\n        function update_N_diagram(data, glyph, discr=100) {\n            const P = data['P'][0]\n            const N_discr = Array.from({length: discr}, (_, i) =&gt; compute_N(P))\n            update_NVM_diagram(glyph, N_discr)\n        }\n    \n\n    function update_internal_forces(data, glyph_N, glyph_V, glyph_M_head, source_M, lambda=0.25, offset_N=1.5, offset_V=1) {\n        const pos = data['pos'][0]\n        const SCALE = data['SCALE'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        switch(data['state'][0]) {\n            case 'IDLE':\n                // internal forces\n                update_arrow(glyph_N)\n                update_arrow(glyph_V)\n                update_curvedArrow(0, 0, 0, 0, 0, source_M, glyph_M_head)\n                break;\n            case 'R_SEC':\n                // internal forces\n                update_arrow(glyph_N, -N, pos*SCALE-N+offset_N, pos*SCALE+offset_N, 0, 0)\n                update_arrow(glyph_V, -V, pos*SCALE+offset_V, pos*SCALE+offset_V, -V/2, V/2)\n                var b = 6\n                var c = -M/2*0.8\n                var a = b-lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            case 'L_SEC':\n                // internal forces\n                update_arrow(glyph_N, N, pos*SCALE+N-offset_N, pos*SCALE-offset_N, 0, 0)\n                update_arrow(glyph_V, V, pos*SCALE-offset_V, pos*SCALE-offset_V, V/2, -V/2)\n                var b = -6\n                var c = -M/2*0.8\n                var a = b+lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_curvedArrow(a, b, c, pos_x, pos_y, source, arr_head, discr=10, AHF=6) {\n        const data_M = source.data\n        if (c==0) {\n            var a1 = 0\n            var a3 = 0\n        } else {\n            var a1 = b\n            var a3 = (a-b)/c**2\n        }\n        const step = 2*c / (discr-1);\n        const x = Array.from({length: discr}, (_, i) =&gt; -c + step * i);\n        const y = Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 +  a1)\n        var theta = -Math.atan(2/c*(a-b))\n        if (c&lt;0) {\n            theta = theta+Math.PI\n        }\n        data_M['x'] = y.map(y =&gt; y+pos_x)\n        data_M['y'] = x.map(x =&gt; x+pos_y)\n        \n        arr_head.glyph.size = arrow_growth(2*c)*AHF\n        arr_head.glyph.angle = theta\n        arr_head.glyph.x = y[y.length-1]+pos_x\n        arr_head.glyph.y = x[x.length-1]+pos_y\n        source.change.emit()\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function compute_epsilon_axial(sigma_axial, E) {\n        return sigma_axial/E\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function update_div_forces(data, div) {\n        switch(data['state'][0]) {\n            case 'IDLE':\n                var str_sec = \"No cross section analysed.\"\n                break\n            case 'R_SEC':\n            case 'L_SEC':\n                var str_sec = \"Cross section at \"+Math.round(data['pos'][0]*10)/10+\" m.\"\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        const P = data['P'][0]\n        const Rx = data['Rx'][0]\n        const Ry_l = Math.round(data['Ry_l'][0]*10)/10\n        const Ry_r = Math.round(data['Ry_r'][0]*10)/10\n        const N = Math.abs(data['N'][0])\n        const V = Math.round(Math.abs(data['V'][0])*10)/10\n        const M = Math.round(data['M'][0]*10)/10\n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Forces and Moments:&lt;/b&gt;&lt;/p&gt;\n    P = `+P+` kN&lt;br&gt;\n    Rx = `+Rx+` kN&lt;br&gt;\n    Ry (left) = `+Ry_r+` kN&lt;br&gt;\n    Ry (right) = `+Ry_l+` kN&lt;br&gt;\n    `+str_sec+`&lt;br&gt;\n    N = `+N+` kN&lt;br&gt;\n    V = `+V+` kN&lt;br&gt;\n    M = `+M+` kNm\n    ` \n    }\n    \n\n    function update_NVM_section(data, glyph_N, glyph_V, glyph_M_head, source_M, label_N_section, label_V_section, label_M_section, lambda=0.25, offset_N=1.5, offset_V=2) {\n        const x = 0\n        const y = 0\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        \n        update_arrow(glyph_N, -N, x-N+offset_N, x+offset_N, y, y)\n        update_arrow(glyph_V, -V, x+offset_V, x+offset_V, y-V/2, y+V/2)\n        var b = 6\n        var c = -M/2*0.8\n        var a = b-lambda*c\n        update_curvedArrow(a, b, c, x, y, source_M, glyph_M_head)\n        \n        if (N==0) {\n            label_N_section.glyph.text=''\n        } else {\n            label_N_section.glyph.text='N'\n        }\n        \n        if (V==0) {\n            label_V_section.glyph.text=''\n        } else {\n            label_V_section.glyph.text='V'\n        }\n        \n        if (M==0) {\n            label_M_section.glyph.text=''\n        } else {\n            label_M_section.glyph.text='M'\n        }\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n        }\n        const tau = r_circle*Math.sin(2*theta)\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"11629","type":"CustomJS"},{"attributes":{},"id":"11093","type":"HelpTool"},{"attributes":{},"id":"11710","type":"UnionRenderers"},{"attributes":{},"id":"11088","type":"PanTool"},{"attributes":{"overlay":{"id":"11094"}},"id":"11090","type":"BoxZoomTool"},{"attributes":{},"id":"11091","type":"SaveTool"},{"attributes":{},"id":"11711","type":"Selection"},{"attributes":{},"id":"11798","type":"UnionRenderers"},{"attributes":{},"id":"11092","type":"ResetTool"},{"attributes":{},"id":"11799","type":"Selection"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11094","type":"BoxAnnotation"},{"attributes":{},"id":"11107","type":"DataRange1d"},{"attributes":{},"id":"11763","type":"AllLabels"},{"attributes":{},"id":"11731","type":"UnionRenderers"},{"attributes":{"fill_alpha":0.3,"fill_color":"blue","hatch_alpha":0.3,"hatch_color":"navy","line_alpha":0.3,"line_color":"navy","x":{"field":"x_fade"},"y":{"field":"y"}},"id":"10784","type":"Patch"},{"attributes":{},"id":"11800","type":"UnionRenderers"},{"attributes":{"args":{"M_stress_diag":{"id":"11221"},"Mohr_circle":{"id":"11600"},"N_stress_diag":{"id":"11203"},"V_stress_diag":{"id":"11239"},"arrow_sigma_x1":{"id":"11549"},"arrow_sigma_x1_theta":{"id":"11573"},"arrow_sigma_x2":{"id":"11552"},"arrow_sigma_x2_theta":{"id":"11576"},"arrow_sigma_y1":{"id":"11555"},"arrow_sigma_y1_theta":{"id":"11579"},"arrow_sigma_y2":{"id":"11558"},"arrow_sigma_y2_theta":{"id":"11582"},"arrow_tau_x1":{"id":"11561"},"arrow_tau_x1_theta":{"id":"11585"},"arrow_tau_x2":{"id":"11564"},"arrow_tau_x2_theta":{"id":"11588"},"arrow_tau_y1":{"id":"11567"},"arrow_tau_y1_theta":{"id":"11591"},"arrow_tau_y2":{"id":"11570"},"arrow_tau_y2_theta":{"id":"11594"},"axial_strain_diag":{"id":"11293"},"bending_strain_diag":{"id":"11313"},"centroid":{"id":"11233"},"div":{"id":"10708"},"line_stress_state":{"id":"11606"},"line_stress_state_theta":{"id":"11618"},"neutral_axis":{"id":"11269"},"points_stress_state":{"id":"11612"},"points_stress_state_theta":{"id":"11624"},"section":{"id":"10706"},"sigma_stress_diag":{"id":"11257"},"source":{"id":"10596"},"support_r":{"id":"10646"},"tau_stress_diag":{"id":"11275"}},"code":"\n// retrieve data used\nconst db = source.data\nconst b = cb_obj.value // value of the slider\nconst h = db['h'][0]\nconst A = compute_area(b, h)\nconst Iy = compute_inertia_y(b, h)\nconst yG = db['yG'][0]\nconst N = db['N'][0]\nconst M = db['M'][0]\nconst V = db['V'][0]\nconst y_var = db['y_var'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// apply the changes\ndb['b'][0] = b\ndb['A'][0] = A\ndb['Iy'][0] = Iy\ndb['Iz'][0] = compute_inertia_z(b, h)\ndb['y_n_axis'][0] = compute_neutral_axis(N, A, Iy, M, yG)\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\nupdate_div_geo(db, div)\nupdate_section(db, section)\nupdate_axial_stress_strain(db, N_stress_diag, axial_strain_diag)\nupdate_bending_stress_strain(db, M_stress_diag, bending_strain_diag, centroid)\nupdate_shear_stress(db, V_stress_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\n// Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// emit the changes\nsource.change.emit()\n\n\n    function update_div_geo(data, div) {\n        // compute the parameters and dimensions\n        const L = Math.round(data['L'][0]*10)/10\n        const b = Math.round(data['b'][0])\n        const h = Math.round(data['h'][0])\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const Iz = data['Iz'][0]\n        // change the div text\n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Geometrical and mechanical parameters:&lt;/b&gt;&lt;/p&gt;\n    h = `+h+` mm&lt;br&gt;\n    b = `+b+` mm&lt;br&gt;\n    L = `+L+` m&lt;br&gt;\n    A = `+A.toExponential(2)+` mm&lt;sup&gt;2&lt;/sup&gt;&lt;br&gt;\n    Iy = `+Iy.toExponential(2)+` mm&lt;sup&gt;4&lt;/sup&gt;&lt;br&gt;\n    Iz = `+Iz.toExponential(2)+` mm&lt;sup&gt;4&lt;/sup&gt;` \n    }\n    \n\n    function update_section(data, glyph_section) {\n        // change the plot of the section\n        glyph_section.glyph.width = data['b'][0]\n        glyph_section.glyph.height = data['h'][0]\n    }\n    \n\n    function compute_area(b, h) {\n        return b*h\n    }\n    \n\n    function compute_inertia_y(b, h) {\n        return b*h**3/12\n    }\n    \n\n    function compute_inertia_z(b, h) {\n        return h*b**3/12\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_bending_stress_strain(data, glyph_stress, glyph_strain, glyph_centroid, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const E = data['E'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const M = data['M'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_bending = new Array(discr)\n        let strain_bending = new Array(discr)\n        const src_centroid = glyph_centroid.data_source\n        \n        // apply the changes\n        src_centroid.data.y = [yG, yG]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            strain_bending[i] = compute_epsilon_bending(sigma_bending[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_bending, y_discr)\n        update_strain_diagram(glyph_strain, strain_bending, y_discr)\n        src_centroid.change.emit()\n    }\n    \n\n    function update_shear_stress(data, glyph_stress, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const yG = data['yG'][0]\n        const Iy = data['Iy'][0]\n        const V = data['V'][0]\n        const y_discr = linspace(0, h, discr)\n        let tau_shear = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, tau_shear, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function compute_epsilon_axial(sigma_axial, E) {\n        return sigma_axial/E\n    }\n    \n\n    function compute_epsilon_bending(sigma_bending, E) {\n        return sigma_bending/E\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function compute_centroid_y(h) {\n        return h/2\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n        }\n        const tau = r_circle*Math.sin(2*theta)\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"11627","type":"CustomJS"},{"attributes":{"args":{"Mohr_circle":{"id":"11600"},"arrow_sigma_x1":{"id":"11549"},"arrow_sigma_x1_theta":{"id":"11573"},"arrow_sigma_x2":{"id":"11552"},"arrow_sigma_x2_theta":{"id":"11576"},"arrow_sigma_y1":{"id":"11555"},"arrow_sigma_y1_theta":{"id":"11579"},"arrow_sigma_y2":{"id":"11558"},"arrow_sigma_y2_theta":{"id":"11582"},"arrow_tau_x1":{"id":"11561"},"arrow_tau_x1_theta":{"id":"11585"},"arrow_tau_x2":{"id":"11564"},"arrow_tau_x2_theta":{"id":"11588"},"arrow_tau_y1":{"id":"11567"},"arrow_tau_y1_theta":{"id":"11591"},"arrow_tau_y2":{"id":"11570"},"arrow_tau_y2_theta":{"id":"11594"},"beam_position":{"id":"11448"},"line_stress_state":{"id":"11606"},"line_stress_state_theta":{"id":"11618"},"points_stress_state":{"id":"11612"},"points_stress_state_theta":{"id":"11624"},"rotating_axis":{"id":"11540"},"source":{"id":"10596"},"stress_state":{"id":"11528"},"stress_state_theta":{"id":"11534"}},"code":"\n// retrieve data\nconst db = source.data\nconst y_var = cb_obj.value\nconst N =  db['N'][0]\nconst V =  db['V'][0]\nconst M =  db['M'][0]\nconst A =  db['A'][0]\nconst b =  db['b'][0]\nconst h =  db['h'][0]\nconst yG =  db['yG'][0]\nconst Iy =  db['Iy'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// update data\ndb['y_var'][0] = y_var\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\nconsole.log(\"sigma x, sigma y, tau, theta:\")\nconsole.log(new_state[0])\nconsole.log(new_state[1])\nconsole.log(new_state[2])\nconsole.log(theta)\n\n// update\n// square point:\nbeam_position.glyph.y = y_var\n// update Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state element\nupdate_stress_state_elements(db, stress_state_theta, rotating_axis)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// apply changes\nsource.change.emit()\n\n// declare functions\n\n    function update_stress_state_elements(data, glyph_stress_state_theta, glyph_axis, max_stress=60, max_dim=150.0) {\n        // set variables\n        const theta_element = data['theta_element'][0]\n        const x_new = max_stress*Math.cos(theta_element)\n        const y_new = max_stress*Math.sin(theta_element)\n        \n        // update rotating axis\n        const src_axis = glyph_axis.data_source\n        src_axis.data.x = [0, x_new*max_dim/max_stress]\n        src_axis.data.y = [0, y_new*max_dim/max_stress]\n        src_axis.change.emit()\n        \n        // update stress state\n        //glyph_stress_state.glyph.angle = theta_element\n        //TODO: arrows using above functions\n        \n        // update stress state theta\n        glyph_stress_state_theta.glyph.angle = theta_element\n        glyph_stress_state_theta.glyph.x = x_new*2\n        glyph_stress_state_theta.glyph.y = y_new*2\n        //TODO: arrows using above functions\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n        }\n        const tau = r_circle*Math.sin(2*theta)\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"11633","type":"CustomJS"},{"attributes":{"args":{"E":200000.0,"M_stress_diag":{"id":"11221"},"Mohr_circle":{"id":"11600"},"N_stress_diag":{"id":"11203"},"V_stress_diag":{"id":"11239"},"arr_head":{"id":"10818"},"arrow_sigma_x1":{"id":"11549"},"arrow_sigma_x1_theta":{"id":"11573"},"arrow_sigma_x2":{"id":"11552"},"arrow_sigma_x2_theta":{"id":"11576"},"arrow_sigma_y1":{"id":"11555"},"arrow_sigma_y1_theta":{"id":"11579"},"arrow_sigma_y2":{"id":"11558"},"arrow_sigma_y2_theta":{"id":"11582"},"arrow_tau_x1":{"id":"11561"},"arrow_tau_x1_theta":{"id":"11585"},"arrow_tau_x2":{"id":"11564"},"arrow_tau_x2_theta":{"id":"11588"},"arrow_tau_y1":{"id":"11567"},"arrow_tau_y1_theta":{"id":"11591"},"arrow_tau_y2":{"id":"11570"},"arrow_tau_y2_theta":{"id":"11594"},"axial_strain_diag":{"id":"11293"},"bending_strain_diag":{"id":"11313"},"centroid":{"id":"11233"},"discr_stress":10,"div_P":{"id":"10824"},"div_f":{"id":"10826"},"fN":{"id":"10802"},"fP":{"id":"10790"},"fRx":{"id":"10799"},"fRyl":{"id":"10796"},"fRyr":{"id":"10793"},"fV":{"id":"10805"},"label_M_section":{"id":"11436"},"label_N_section":{"id":"11430"},"label_V_section":{"id":"11442"},"line_stress_state":{"id":"11606"},"line_stress_state_theta":{"id":"11618"},"neutral_axis":{"id":"11269"},"points_stress_state":{"id":"11612"},"points_stress_state_theta":{"id":"11624"},"s_M":{"id":"10807"},"s_q":{"id":"10594"},"s_sb":{"id":"10593"},"s_section_M":{"id":"11413"},"section_M_head":{"id":"11424"},"section_N":{"id":"11408"},"section_V":{"id":"11411"},"sigma_stress_diag":{"id":"11257"},"source":{"id":"10596"},"tau_stress_diag":{"id":"11275"}},"code":"\n// retrieve data\nconst db = source.data\nconst data_sb = s_sb.data\nconst data_q = s_q.data\nconst FBD = db['FBD'][0]\nconst pos = cb_obj.value\nconst q = db['q'][0]\nconst L = db['L'][0]\nconst N = compute_N(db['P'][0])\nconst V = compute_V(pos, q, L)\nconst M = compute_M(pos, q, L)\n\n// update data\ndb['N'][0] = N\ndb['V'][0] = V\ndb['M'][0] = M\ndb['pos'][0] = pos\n\n// check state\ncheck_state(db)\n\n// update:\nupdate_internal_forces(db, fN, fV, arr_head, s_M)\nupdate_scheme_position(db, data_sb, data_q)\nupdate_reactions(db, fRx, fRyl, fRyr)\nupdate_external_forces(db, fP, div_P)\nupdate_div_forces(db, div_f)\nupdate_axial_stress_strain(db, N_stress_diag, axial_strain_diag)\nupdate_bending_stress_strain(db, M_stress_diag, bending_strain_diag, centroid)\nupdate_shear_stress(db, V_stress_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\nupdate_NVM_section(db, section_N, section_V, section_M_head, s_section_M, label_N_section, label_V_section, label_M_section)\n\nconst y_var = db['y_var'][0]\nconst A =  db['A'][0]\nconst b =  db['b'][0]\nconst h =  db['h'][0]\nconst yG =  db['yG'][0]\nconst Iy =  db['Iy'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// update data\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// apply the changes\nsource.change.emit()\ns_sb.change.emit()\ns_q.change.emit()\n\n// declare functions\n\n    function compute_N(P) {\n        return -P\n    }\n    \n\n    function compute_V(x, q, L) {\n        return q*x-q*L/2\n    }\n    \n\n    function compute_M(x, q, L) {\n        return q*x/2*(x-L)\n    }\n    \n\n    function update_internal_forces(data, glyph_N, glyph_V, glyph_M_head, source_M, lambda=0.25, offset_N=1.5, offset_V=1) {\n        const pos = data['pos'][0]\n        const SCALE = data['SCALE'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        switch(data['state'][0]) {\n            case 'IDLE':\n                // internal forces\n                update_arrow(glyph_N)\n                update_arrow(glyph_V)\n                update_curvedArrow(0, 0, 0, 0, 0, source_M, glyph_M_head)\n                break;\n            case 'R_SEC':\n                // internal forces\n                update_arrow(glyph_N, -N, pos*SCALE-N+offset_N, pos*SCALE+offset_N, 0, 0)\n                update_arrow(glyph_V, -V, pos*SCALE+offset_V, pos*SCALE+offset_V, -V/2, V/2)\n                var b = 6\n                var c = -M/2*0.8\n                var a = b-lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            case 'L_SEC':\n                // internal forces\n                update_arrow(glyph_N, N, pos*SCALE+N-offset_N, pos*SCALE-offset_N, 0, 0)\n                update_arrow(glyph_V, V, pos*SCALE-offset_V, pos*SCALE-offset_V, V/2, -V/2)\n                var b = -6\n                var c = -M/2*0.8\n                var a = b+lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_scheme_position(data, data_scheme_beam, data_scheme_q) {\n        const L = data['L'][0]*data['SCALE'][0]\n        const pos = data['pos'][0]*data['SCALE'][0]\n        \n        // move position of the point\n        data['xF'][0] = pos\n        data['x'][0] = data['pos'][0]\n        \n        switch(data['state'][0]) {\n            case 'IDLE':\n                // beam\n                data_scheme_beam['x'][0] = 0\n                data_scheme_beam['x'][1] = L\n                // unif load\n                data_scheme_q['x'][0] = 0\n                data_scheme_q['x'][1] = 0\n                data_scheme_q['x'][2] = L\n                data_scheme_q['x'][3] = L\n                break\n            case 'R_SEC':\n                // beam\n                data_scheme_beam['x'][0] = 0\n                data_scheme_beam['x'][1] = pos\n                // unif load\n                data_scheme_q['x'][0] = 0\n                data_scheme_q['x'][1] = 0\n                data_scheme_q['x'][2] = pos\n                data_scheme_q['x'][3] = pos\n                break\n            case 'L_SEC':\n                // beam\n                data_scheme_beam['x'][0] = L\n                data_scheme_beam['x'][1] = pos\n                // unif load\n                data_scheme_q['x'][0] = L\n                data_scheme_q['x'][1] = L\n                data_scheme_q['x'][2] = pos\n                data_scheme_q['x'][3] = pos\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_reactions(data, glyph_Rx, glyph_Ry_l, glyph_Ry_r, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        const Ry_l = data['Ry_l'][0]\n        const Ry_r = data['Ry_r'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_Rx) // Rx\n                arrow_alpha(glyph_Ry_l) // Ry left\n                arrow_alpha(glyph_Ry_r) // Ry right\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_Rx, 1) // Rx\n                arrow_alpha(glyph_Ry_l, 1) // Ry left\n                arrow_alpha(glyph_Ry_r, alpha) // Ry right\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_Rx, alpha) //Rx\n                arrow_alpha(glyph_Ry_l, alpha) //Ry left\n                arrow_alpha(glyph_Ry_r, 1) // Ry right\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        update_arrow(glyph_Rx, -P, -P, 0, 0, 0) // Rx\n        update_arrow(glyph_Ry_r, Ry_r, L, L, -Ry_r, 0) // Ry right\n        update_arrow(glyph_Ry_l, Ry_l, 0, 0, -Ry_l, 0) // Ry left\n    }\n    \n\n    function update_external_forces(data, glyph_P, div_P, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_P) // P\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_P, alpha) // P\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_P, 1) //P\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        if (P==0) {\n            div_P.text = \"Axial force P: removed\"\n            update_arrow(glyph_P) // P\n        } else {\n            div_P.text = \"Axial force P: applied\"\n            update_arrow(glyph_P, P, L+P, L, 0, 0) // P\n        }\n    }\n    \n\n    function update_div_forces(data, div) {\n        switch(data['state'][0]) {\n            case 'IDLE':\n                var str_sec = \"No cross section analysed.\"\n                break\n            case 'R_SEC':\n            case 'L_SEC':\n                var str_sec = \"Cross section at \"+Math.round(data['pos'][0]*10)/10+\" m.\"\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        const P = data['P'][0]\n        const Rx = data['Rx'][0]\n        const Ry_l = Math.round(data['Ry_l'][0]*10)/10\n        const Ry_r = Math.round(data['Ry_r'][0]*10)/10\n        const N = Math.abs(data['N'][0])\n        const V = Math.round(Math.abs(data['V'][0])*10)/10\n        const M = Math.round(data['M'][0]*10)/10\n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Forces and Moments:&lt;/b&gt;&lt;/p&gt;\n    P = `+P+` kN&lt;br&gt;\n    Rx = `+Rx+` kN&lt;br&gt;\n    Ry (left) = `+Ry_r+` kN&lt;br&gt;\n    Ry (right) = `+Ry_l+` kN&lt;br&gt;\n    `+str_sec+`&lt;br&gt;\n    N = `+N+` kN&lt;br&gt;\n    V = `+V+` kN&lt;br&gt;\n    M = `+M+` kNm\n    ` \n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function parabola(x, a1, a2, a3) {\n        return Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 + a2 * x[i] +  a1);\n    }\n    \n\n    function arrow_alpha(straight_arrow, alpha=1) {\n        straight_arrow.end.line_alpha = alpha\n        straight_arrow.end.fill_alpha = alpha\n        straight_arrow.line_alpha = alpha\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function update_curvedArrow(a, b, c, pos_x, pos_y, source, arr_head, discr=10, AHF=6) {\n        const data_M = source.data\n        if (c==0) {\n            var a1 = 0\n            var a3 = 0\n        } else {\n            var a1 = b\n            var a3 = (a-b)/c**2\n        }\n        const step = 2*c / (discr-1);\n        const x = Array.from({length: discr}, (_, i) =&gt; -c + step * i);\n        const y = Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 +  a1)\n        var theta = -Math.atan(2/c*(a-b))\n        if (c&lt;0) {\n            theta = theta+Math.PI\n        }\n        data_M['x'] = y.map(y =&gt; y+pos_x)\n        data_M['y'] = x.map(x =&gt; x+pos_y)\n        \n        arr_head.glyph.size = arrow_growth(2*c)*AHF\n        arr_head.glyph.angle = theta\n        arr_head.glyph.x = y[y.length-1]+pos_x\n        arr_head.glyph.y = x[x.length-1]+pos_y\n        source.change.emit()\n    }\n    \n\n    function update_NVM_diagram(diagram, y) {\n        const y_ = [...y]\n        const source = diagram.data_source\n        y_.unshift(0)\n        y_.push(0)\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function check_state(data) {\n        const FBD = data['FBD'][0]\n        const pos = data['pos'][0]\n        const L = data['L'][0]\n        if (FBD == 0 &amp;&amp; pos != L) {\n            data['state'][0] = 'R_SEC'\n        } else if (FBD == 1 &amp;&amp; pos != 0) {\n            data['state'][0] = 'L_SEC'\n        } else {\n            data['state'][0] = 'IDLE'\n        }\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function compute_epsilon_axial(sigma_axial, E) {\n        return sigma_axial/E\n    }\n    \n\n    function compute_epsilon_bending(sigma_bending, E) {\n        return sigma_bending/E\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_bending_stress_strain(data, glyph_stress, glyph_strain, glyph_centroid, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const E = data['E'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const M = data['M'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_bending = new Array(discr)\n        let strain_bending = new Array(discr)\n        const src_centroid = glyph_centroid.data_source\n        \n        // apply the changes\n        src_centroid.data.y = [yG, yG]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            strain_bending[i] = compute_epsilon_bending(sigma_bending[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_bending, y_discr)\n        update_strain_diagram(glyph_strain, strain_bending, y_discr)\n        src_centroid.change.emit()\n    }\n    \n\n    function update_shear_stress(data, glyph_stress, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const yG = data['yG'][0]\n        const Iy = data['Iy'][0]\n        const V = data['V'][0]\n        const y_discr = linspace(0, h, discr)\n        let tau_shear = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, tau_shear, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function update_NVM_section(data, glyph_N, glyph_V, glyph_M_head, source_M, label_N_section, label_V_section, label_M_section, lambda=0.25, offset_N=1.5, offset_V=2) {\n        const x = 0\n        const y = 0\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        \n        update_arrow(glyph_N, -N, x-N+offset_N, x+offset_N, y, y)\n        update_arrow(glyph_V, -V, x+offset_V, x+offset_V, y-V/2, y+V/2)\n        var b = 6\n        var c = -M/2*0.8\n        var a = b-lambda*c\n        update_curvedArrow(a, b, c, x, y, source_M, glyph_M_head)\n        \n        if (N==0) {\n            label_N_section.glyph.text=''\n        } else {\n            label_N_section.glyph.text='N'\n        }\n        \n        if (V==0) {\n            label_V_section.glyph.text=''\n        } else {\n            label_V_section.glyph.text='V'\n        }\n        \n        if (M==0) {\n            label_M_section.glyph.text=''\n        } else {\n            label_M_section.glyph.text='M'\n        }\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n        }\n        const tau = r_circle*Math.sin(2*theta)\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"11626","type":"CustomJS"},{"attributes":{},"id":"11118","type":"BasicTicker"},{"attributes":{},"id":"11801","type":"Selection"},{"attributes":{"args":{"M_stress_diag":{"id":"11221"},"Mohr_circle":{"id":"11600"},"N_stress_diag":{"id":"11203"},"V_stress_diag":{"id":"11239"},"arrow_sigma_x1":{"id":"11549"},"arrow_sigma_x1_theta":{"id":"11573"},"arrow_sigma_x2":{"id":"11552"},"arrow_sigma_x2_theta":{"id":"11576"},"arrow_sigma_y1":{"id":"11555"},"arrow_sigma_y1_theta":{"id":"11579"},"arrow_sigma_y2":{"id":"11558"},"arrow_sigma_y2_theta":{"id":"11582"},"arrow_tau_x1":{"id":"11561"},"arrow_tau_x1_theta":{"id":"11585"},"arrow_tau_x2":{"id":"11564"},"arrow_tau_x2_theta":{"id":"11588"},"arrow_tau_y1":{"id":"11567"},"arrow_tau_y1_theta":{"id":"11591"},"arrow_tau_y2":{"id":"11570"},"arrow_tau_y2_theta":{"id":"11594"},"axial_strain_diag":{"id":"11293"},"beam":{"id":"10634"},"bending_strain_diag":{"id":"11313"},"centroid":{"id":"11233"},"div":{"id":"10708"},"line_stress_state":{"id":"11606"},"line_stress_state_theta":{"id":"11618"},"neutral_axis":{"id":"11269"},"points_stress_state":{"id":"11612"},"points_stress_state_theta":{"id":"11624"},"s_ss":{"id":"10595"},"section":{"id":"10706"},"sigma_stress_diag":{"id":"11257"},"slider_y":{"id":"11450"},"source":{"id":"10596"},"support_r":{"id":"10646"},"tau_stress_diag":{"id":"11275"}},"code":"\n// solve sliders conflict\nconst db = source.data\nconst h = cb_obj.value // value of the slider\nif (h &lt; db['y_var'][0]) {\n    db['y_var'][0] = h\n}\nslider_y.end = h\nif (h &lt; slider_y.value) {\n    slider_y.value = h\n}\n\n// retrieve data used\nconst data_ss = s_ss.data\nconst b = db['b'][0]\nconst A = compute_area(b, h)\nconst Iy = compute_inertia_y(b, h)\nconst N = db['N'][0]\nconst V = db['V'][0]\nconst M = db['M'][0]\nconst yG = compute_centroid_y(h)\nconst y_var = db['y_var'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// apply the changes\ndb['h'][0] = h\ndb['A'][0] = A\ndb['Iy'][0] = Iy\ndb['Iz'][0] = compute_inertia_z(b, h)\ndb['yG'][0] = yG\ndb['y_n_axis'][0] = compute_neutral_axis(N, A, Iy, M, yG)\nbeam.glyph.height = h // change the beam height\nbeam.glyph.y = h/2\ndata_ss['y'][1] = h // change the height of the section in the diagrams\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\nupdate_div_geo(db, div)\nupdate_section(db, section)\nupdate_axial_stress_strain(db, N_stress_diag, axial_strain_diag)\nupdate_bending_stress_strain(db, M_stress_diag, bending_strain_diag, centroid)\nupdate_shear_stress(db, V_stress_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\n// Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// emit the changes\nsource.change.emit()\ns_ss.change.emit()\n\n\n    function update_div_geo(data, div) {\n        // compute the parameters and dimensions\n        const L = Math.round(data['L'][0]*10)/10\n        const b = Math.round(data['b'][0])\n        const h = Math.round(data['h'][0])\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const Iz = data['Iz'][0]\n        // change the div text\n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Geometrical and mechanical parameters:&lt;/b&gt;&lt;/p&gt;\n    h = `+h+` mm&lt;br&gt;\n    b = `+b+` mm&lt;br&gt;\n    L = `+L+` m&lt;br&gt;\n    A = `+A.toExponential(2)+` mm&lt;sup&gt;2&lt;/sup&gt;&lt;br&gt;\n    Iy = `+Iy.toExponential(2)+` mm&lt;sup&gt;4&lt;/sup&gt;&lt;br&gt;\n    Iz = `+Iz.toExponential(2)+` mm&lt;sup&gt;4&lt;/sup&gt;` \n    }\n    \n\n    function update_section(data, glyph_section) {\n        // change the plot of the section\n        glyph_section.glyph.width = data['b'][0]\n        glyph_section.glyph.height = data['h'][0]\n    }\n    \n\n    function compute_area(b, h) {\n        return b*h\n    }\n    \n\n    function compute_inertia_y(b, h) {\n        return b*h**3/12\n    }\n    \n\n    function compute_inertia_z(b, h) {\n        return h*b**3/12\n    }\n    \n\n    function compute_centroid_y(h) {\n        return h/2\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_bending_stress_strain(data, glyph_stress, glyph_strain, glyph_centroid, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const E = data['E'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const M = data['M'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_bending = new Array(discr)\n        let strain_bending = new Array(discr)\n        const src_centroid = glyph_centroid.data_source\n        \n        // apply the changes\n        src_centroid.data.y = [yG, yG]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            strain_bending[i] = compute_epsilon_bending(sigma_bending[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_bending, y_discr)\n        update_strain_diagram(glyph_strain, strain_bending, y_discr)\n        src_centroid.change.emit()\n    }\n    \n\n    function update_shear_stress(data, glyph_stress, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const yG = data['yG'][0]\n        const Iy = data['Iy'][0]\n        const V = data['V'][0]\n        const y_discr = linspace(0, h, discr)\n        let tau_shear = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, tau_shear, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function compute_epsilon_axial(sigma_axial, E) {\n        return sigma_axial/E\n    }\n    \n\n    function compute_epsilon_bending(sigma_bending, E) {\n        return sigma_bending/E\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n        }\n        const tau = r_circle*Math.sin(2*theta)\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"11628","type":"CustomJS"},{"attributes":{},"id":"11111","type":"LinearScale"},{"attributes":{"coordinates":null,"group":null,"text":"Shear stress"},"id":"11103","type":"Title"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10817","type":"Scatter"},{"attributes":{"axis_label":"Stress \u03c4\u1d65 [MPa]","coordinates":null,"formatter":{"id":"11895"},"group":null,"major_label_policy":{"id":"11896"},"ticker":{"id":"11114"}},"id":"11113","type":"LinearAxis"},{"attributes":{"axis":{"id":"11113"},"coordinates":null,"group":null,"ticker":null},"id":"11116","type":"Grid"},{"attributes":{"below":[{"id":"11145"}],"center":[{"id":"11148"},{"id":"11152"}],"height":200,"renderers":[{"id":"11257"},{"id":"11263"},{"id":"11269"}],"right":[{"id":"11149"}],"title":{"id":"11136"},"toolbar":{"id":"11160"},"toolbar_location":null,"width":200,"x_range":{"id":"11138"},"x_scale":{"id":"11141"},"y_range":{"id":"10978"},"y_scale":{"id":"11143"}},"id":"11135","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"11713","type":"UnionRenderers"},{"attributes":{},"id":"11109","type":"LinearScale"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11892"},"group":null,"major_label_policy":{"id":"11893"},"ticker":{"id":"11118"},"visible":false},"id":"11117","type":"LinearAxis"},{"attributes":{},"id":"11714","type":"Selection"},{"attributes":{},"id":"11122","type":"WheelZoomTool"},{"attributes":{"axis":{"id":"11117"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"11120","type":"Grid"},{"attributes":{},"id":"11715","type":"UnionRenderers"},{"attributes":{},"id":"11126","type":"HelpTool"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11578","type":"VeeHead"},{"attributes":{},"id":"11121","type":"PanTool"},{"attributes":{"overlay":{"id":"11127"}},"id":"11123","type":"BoxZoomTool"},{"attributes":{},"id":"11716","type":"Selection"},{"attributes":{},"id":"11762","type":"BasicTickFormatter"},{"attributes":{},"id":"11125","type":"ResetTool"},{"attributes":{},"id":"11124","type":"SaveTool"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11584","type":"VeeHead"},{"attributes":{},"id":"11717","type":"UnionRenderers"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11127","type":"BoxAnnotation"},{"attributes":{"tools":[{"id":"11121"},{"id":"11122"},{"id":"11123"},{"id":"11124"},{"id":"11125"},{"id":"11126"}]},"id":"11128","type":"Toolbar"},{"attributes":{},"id":"11718","type":"Selection"},{"attributes":{},"id":"11802","type":"UnionRenderers"},{"attributes":{},"id":"11803","type":"Selection"},{"attributes":{},"id":"11719","type":"UnionRenderers"},{"attributes":{},"id":"11720","type":"Selection"},{"attributes":{},"id":"11721","type":"UnionRenderers"},{"attributes":{},"id":"11840","type":"UnionRenderers"},{"attributes":{},"id":"11722","type":"Selection"},{"attributes":{},"id":"11841","type":"Selection"},{"attributes":{},"id":"11723","type":"UnionRenderers"},{"attributes":{},"id":"11945","type":"UnionRenderers"},{"attributes":{},"id":"11724","type":"Selection"},{"attributes":{},"id":"11946","type":"Selection"},{"attributes":{},"id":"11725","type":"UnionRenderers"},{"attributes":{},"id":"11868","type":"BasicTickFormatter"},{"attributes":{},"id":"11726","type":"Selection"},{"attributes":{},"id":"11869","type":"AllLabels"},{"attributes":{},"id":"11727","type":"UnionRenderers"},{"attributes":{},"id":"11870","type":"BasicTickFormatter"},{"attributes":{},"id":"11728","type":"Selection"},{"attributes":{},"id":"11871","type":"AllLabels"},{"attributes":{},"id":"11729","type":"UnionRenderers"},{"attributes":{},"id":"11730","type":"Selection"},{"attributes":{},"id":"11732","type":"Selection"},{"attributes":{},"id":"11733","type":"UnionRenderers"},{"attributes":{},"id":"11948","type":"UnionRenderers"},{"attributes":{},"id":"11734","type":"Selection"},{"attributes":{},"id":"11949","type":"Selection"},{"attributes":{},"id":"11843","type":"UnionRenderers"},{"attributes":{},"id":"11735","type":"UnionRenderers"},{"attributes":{},"id":"11844","type":"Selection"},{"attributes":{},"id":"11736","type":"Selection"},{"attributes":{},"id":"11737","type":"UnionRenderers"},{"attributes":{},"id":"11873","type":"BasicTickFormatter"},{"attributes":{},"id":"11950","type":"UnionRenderers"},{"attributes":{},"id":"11738","type":"Selection"},{"attributes":{},"id":"11874","type":"AllLabels"},{"attributes":{},"id":"11951","type":"Selection"},{"attributes":{},"id":"11876","type":"BasicTickFormatter"},{"attributes":{},"id":"11739","type":"UnionRenderers"},{"attributes":{},"id":"11877","type":"AllLabels"},{"attributes":{},"id":"11740","type":"Selection"},{"attributes":{},"id":"11741","type":"UnionRenderers"},{"attributes":{},"id":"11742","type":"Selection"},{"attributes":{},"id":"11817","type":"UnionRenderers"},{"attributes":{},"id":"11818","type":"Selection"},{"attributes":{"axis":{"id":"10867"},"coordinates":null,"group":null,"ticker":null},"id":"10870","type":"Grid"},{"attributes":{},"id":"10865","type":"LinearScale"},{"attributes":{},"id":"11811","type":"UnionRenderers"},{"attributes":{},"id":"10891","type":"DataRange1d"},{"attributes":{},"id":"10863","type":"LinearScale"},{"attributes":{},"id":"10868","type":"BasicTicker"},{"attributes":{},"id":"11819","type":"BasicTickFormatter"},{"attributes":{"axis_label":"Position [m]","coordinates":null,"formatter":{"id":"11775"},"group":null,"major_label_policy":{"id":"11776"},"ticker":{"id":"10868"},"visible":false},"id":"10867","type":"LinearAxis"},{"attributes":{"coordinates":null,"data_source":{"id":"10919"},"glyph":{"id":"10920"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10922"},"nonselection_glyph":{"id":"10921"},"view":{"id":"10924"}},"id":"10923","type":"GlyphRenderer"},{"attributes":{},"id":"11820","type":"AllLabels"},{"attributes":{},"id":"10898","type":"BasicTicker"},{"attributes":{},"id":"10876","type":"WheelZoomTool"},{"attributes":{},"id":"11821","type":"BasicTickFormatter"},{"attributes":{"axis_label":"Axial force V [kN]","coordinates":null,"formatter":{"id":"11772"},"group":null,"major_label_policy":{"id":"11773"},"ticker":{"id":"10872"}},"id":"10871","type":"LinearAxis"},{"attributes":{"axis":{"id":"10871"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"10874","type":"Grid"},{"attributes":{},"id":"11822","type":"AllLabels"},{"attributes":{},"id":"10872","type":"BasicTicker"},{"attributes":{},"id":"10880","type":"HelpTool"},{"attributes":{},"id":"10875","type":"PanTool"},{"attributes":{"data":{"x":[0.0],"y":[0.0]},"selected":{"id":"11805"},"selection_policy":{"id":"11804"}},"id":"10814","type":"ColumnDataSource"},{"attributes":{"overlay":{"id":"10881"}},"id":"10877","type":"BoxZoomTool"},{"attributes":{},"id":"10878","type":"SaveTool"},{"attributes":{},"id":"10879","type":"ResetTool"},{"attributes":{"tools":[{"id":"10875"},{"id":"10876"},{"id":"10877"},{"id":"10878"},{"id":"10879"},{"id":"10880"}]},"id":"10882","type":"Toolbar"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"10881","type":"BoxAnnotation"},{"attributes":{"axis":{"id":"10897"},"coordinates":null,"group":null,"ticker":null},"id":"10900","type":"Grid"},{"attributes":{"axis_label":"Position [m]","coordinates":null,"formatter":{"id":"11781"},"group":null,"major_label_policy":{"id":"11782"},"ticker":{"id":"10898"}},"id":"10897","type":"LinearAxis"},{"attributes":{"coordinates":null,"data_source":{"id":"10931"},"glyph":{"id":"10932"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10934"},"nonselection_glyph":{"id":"10933"},"view":{"id":"10936"}},"id":"10935","type":"GlyphRenderer"},{"attributes":{},"id":"11823","type":"UnionRenderers"},{"attributes":{},"id":"10893","type":"LinearScale"},{"attributes":{},"id":"11824","type":"Selection"},{"attributes":{},"id":"10895","type":"LinearScale"},{"attributes":{},"id":"11903","type":"UnionRenderers"},{"attributes":{},"id":"11904","type":"Selection"},{"attributes":{},"id":"11905","type":"UnionRenderers"},{"attributes":{},"id":"11906","type":"Selection"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10815","type":"Scatter"},{"attributes":{},"id":"11939","type":"Selection"},{"attributes":{},"id":"11857","type":"BasicTickFormatter"},{"attributes":{},"id":"11858","type":"AllLabels"},{"attributes":{},"id":"11859","type":"BasicTickFormatter"},{"attributes":{},"id":"11860","type":"AllLabels"},{"attributes":{},"id":"11766","type":"BasicTickFormatter"},{"attributes":{},"id":"11940","type":"UnionRenderers"},{"attributes":{},"id":"11767","type":"AllLabels"},{"attributes":{},"id":"11941","type":"Selection"},{"attributes":{},"id":"11769","type":"BasicTickFormatter"},{"attributes":{},"id":"11770","type":"AllLabels"},{"attributes":{},"id":"11862","type":"BasicTickFormatter"},{"attributes":{},"id":"11863","type":"AllLabels"},{"attributes":{"data":{"x":[0,0,60,60],"x_fade":[0,0,60,60],"y":[4,8,8,4]},"selected":{"id":"11801"},"selection_policy":{"id":"11800"}},"id":"10594","type":"ColumnDataSource"},{"attributes":{},"id":"11943","type":"UnionRenderers"},{"attributes":{},"id":"11865","type":"BasicTickFormatter"},{"attributes":{},"id":"11944","type":"Selection"},{"attributes":{},"id":"11866","type":"AllLabels"},{"attributes":{},"id":"11772","type":"BasicTickFormatter"},{"attributes":{},"id":"11773","type":"AllLabels"},{"attributes":{},"id":"11775","type":"BasicTickFormatter"},{"attributes":{"data":{"x":[0,60],"y":[0,0]},"selected":{"id":"11797"},"selection_policy":{"id":"11796"}},"id":"10593","type":"ColumnDataSource"},{"attributes":{"data":{"x":[0,6],"y":[0,0]},"selected":{"id":"11841"},"selection_policy":{"id":"11840"}},"id":"10592","type":"ColumnDataSource"},{"attributes":{},"id":"11776","type":"AllLabels"},{"attributes":{"data":{"x":[0,0],"y":[0,200]},"selected":{"id":"11924"},"selection_policy":{"id":"11923"}},"id":"10595","type":"ColumnDataSource"},{"attributes":{"data":{"A":[20000],"E":[200000.0],"FBD":[0],"Iy":[66666666.666666664],"Iz":[16666666.666666666],"L":[6],"M":[0.0],"N":[-10.0],"P":[10],"Rx":[10],"Ry_l":[12.0],"Ry_r":[12.0],"SCALE":[10],"V":[12.0],"b":[100],"h":[200],"pos":[6],"q":[4],"r_circle_mohr":[0.25],"sigma_average_mohr":[-0.25],"sigma_x":[-0.5],"sigma_x0":[-0.5],"sigma_y":[0.0],"sigma_y0":[0],"state":["IDLE"],"tau":[0.0],"tau_0":[0.0],"theta":[0.0],"theta_element":[0],"x":[6],"xF":[60],"y":[0],"yG":[100.0],"y_n_axis":[100.0],"y_var":[200]},"selected":{"id":"11795"},"selection_policy":{"id":"11794"}},"id":"10596","type":"ColumnDataSource"},{"attributes":{"text_color":{"value":"green"},"x":{"field":"x"},"y":{"field":"y"}},"id":"10754","type":"Text"},{"attributes":{},"id":"11476","type":"HelpTool"},{"attributes":{"data":{},"selected":{"id":"11814"},"selection_policy":{"id":"11813"}},"id":"11754","type":"ColumnDataSource"},{"attributes":{},"id":"11474","type":"SaveTool"},{"attributes":{"coordinates":null,"data_source":{"id":"10592"},"glyph":{"id":"10938"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10940"},"nonselection_glyph":{"id":"10939"},"view":{"id":"10942"}},"id":"10941","type":"GlyphRenderer"},{"attributes":{"data":{},"selected":{"id":"11816"},"selection_policy":{"id":"11815"}},"id":"11755","type":"ColumnDataSource"},{"attributes":{},"id":"11475","type":"ResetTool"},{"attributes":{"source":{"id":"10753"}},"id":"10758","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"10596"},"glyph":{"id":"10760"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10762"},"nonselection_glyph":{"id":"10761"},"view":{"id":"10764"}},"id":"10763","type":"GlyphRenderer"},{"attributes":{"below":[{"id":"10671"}],"center":[{"id":"10674"},{"id":"10678"}],"height":500,"left":[{"id":"10675"}],"match_aspect":true,"renderers":[{"id":"10697"},{"id":"10706"}],"title":{"id":"10661"},"toolbar":{"id":"10686"},"toolbar_location":null,"width":250,"x_range":{"id":"10663"},"x_scale":{"id":"10667"},"y_range":{"id":"10665"},"y_scale":{"id":"10669"}},"id":"10660","subtype":"Figure","type":"Plot"},{"attributes":{"text_alpha":{"value":0.1},"text_color":{"value":"green"},"x":{"field":"x"},"y":{"field":"y"}},"id":"10755","type":"Text"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11477","type":"BoxAnnotation"},{"attributes":{},"id":"10835","type":"LinearScale"},{"attributes":{"data":{},"selected":{"id":"11818"},"selection_policy":{"id":"11817"}},"id":"11756","type":"ColumnDataSource"},{"attributes":{"text_alpha":{"value":0.2},"text_color":{"value":"green"},"x":{"field":"x"},"y":{"field":"y"}},"id":"10756","type":"Text"},{"attributes":{},"id":"11490","type":"DataRange1d"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"xF"},"y":{"field":"y"}},"id":"10761","type":"Circle"},{"attributes":{"fill_color":"white","x":{"field":"x"},"y":{"field":"y"}},"id":"10637","type":"Patch"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"xF"},"y":{"field":"y"}},"id":"10762","type":"Circle"},{"attributes":{"fill_alpha":0.1,"fill_color":"white","hatch_alpha":0.1,"line_alpha":0.1,"x":{"field":"x"},"y":{"field":"y"}},"id":"10638","type":"Patch"},{"attributes":{"source":{"id":"10596"}},"id":"10764","type":"CDSView"},{"attributes":{"data":{"x":[0,0.125,-0.125],"y":[0,-69.28203230275508,-69.28203230275508]},"selected":{"id":"11826"},"selection_policy":{"id":"11825"}},"id":"10636","type":"ColumnDataSource"},{"attributes":{"below":[{"id":"10897"}],"center":[{"id":"10900"},{"id":"10904"}],"height":200,"left":[{"id":"10901"}],"renderers":[{"id":"10947"},{"id":"10953"},{"id":"10971"}],"title":{"id":"11689"},"toolbar":{"id":"10912"},"toolbar_location":null,"x_range":{"id":"10600"},"x_scale":{"id":"10893"},"y_range":{"id":"10891"},"y_scale":{"id":"10895"}},"id":"10889","subtype":"Figure","type":"Plot"},{"attributes":{"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11543","type":"Line"},{"attributes":{"source":{"id":"10636"}},"id":"10641","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"10636"},"glyph":{"id":"10637"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10639"},"nonselection_glyph":{"id":"10638"},"view":{"id":"10641"}},"id":"10640","type":"GlyphRenderer"},{"attributes":{"data":{"x":[0,60],"y":[0,0]},"selected":{"id":"11799"},"selection_policy":{"id":"11798"}},"id":"10771","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10772","type":"Line"},{"attributes":{"fill_color":{"value":"white"},"radius":{"value":0.125},"x":{"field":"x"},"y":{"field":"y"}},"id":"10643","type":"Circle"},{"attributes":{"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10766","type":"Line"},{"attributes":{"fill_alpha":0.2,"fill_color":"white","hatch_alpha":0.2,"line_alpha":0.2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10639","type":"Patch"},{"attributes":{},"id":"10833","type":"LinearScale"},{"attributes":{"data":{"x":[6],"y":[-40.0]},"selected":{"id":"11828"},"selection_policy":{"id":"11827"}},"id":"10642","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"black"},"hatch_alpha":{"value":0.2},"height":{"value":30.0},"line_alpha":{"value":0.2},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11533","type":"Rect"},{"attributes":{"line_alpha":0.1,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10767","type":"Line"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"navy"},"height":{"value":158.4},"line_alpha":{"value":0.2},"line_color":{"value":"navy"},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"10651","type":"Rect"},{"attributes":{"source":{"id":"11530"}},"id":"11535","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"10594"},"glyph":{"id":"10778"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10780"},"nonselection_glyph":{"id":"10779"},"view":{"id":"10782"}},"id":"10781","type":"GlyphRenderer"},{"attributes":{},"id":"10663","type":"DataRange1d"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"black"},"hatch_alpha":{"value":0.1},"height":{"value":30.0},"line_alpha":{"value":0.1},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11532","type":"Rect"},{"attributes":{"line_alpha":0.2,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10768","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"radius":{"value":0.125},"x":{"field":"x"},"y":{"field":"y"}},"id":"10644","type":"Circle"},{"attributes":{"fill_alpha":0.1,"fill_color":"blue","hatch_alpha":0.1,"hatch_color":"navy","line_alpha":0.1,"line_color":"navy","x":{"field":"x"},"y":{"field":"y"}},"id":"10779","type":"Patch"},{"attributes":{"source":{"id":"10593"}},"id":"10770","type":"CDSView"},{"attributes":{"data":{"x":[0],"y":[0]},"selected":{"id":"11906"},"selection_policy":{"id":"11905"}},"id":"10702","type":"ColumnDataSource"},{"attributes":{},"id":"10667","type":"LinearScale"},{"attributes":{"fill_color":{"value":"green"},"line_color":{"value":"green"},"size":{"value":16.785266909588593}},"id":"10789","type":"VeeHead"},{"attributes":{"source":{"id":"10642"}},"id":"10647","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"black"},"height":{"value":30.0},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11531","type":"Rect"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"white"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"radius":{"value":0.125},"x":{"field":"x"},"y":{"field":"y"}},"id":"10645","type":"Circle"},{"attributes":{"source":{"id":"10594"}},"id":"10782","type":"CDSView"},{"attributes":{"data":{"x":[0],"y":[0]},"selected":{"id":"11904"},"selection_policy":{"id":"11903"}},"id":"10693","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"10642"},"glyph":{"id":"10643"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10645"},"nonselection_glyph":{"id":"10644"},"view":{"id":"10647"}},"id":"10646","type":"GlyphRenderer"},{"attributes":{"fill_alpha":0.1,"fill_color":"blue","hatch_alpha":0.1,"hatch_color":"navy","line_alpha":0.1,"line_color":"navy","x":{"field":"x_fade"},"y":{"field":"y"}},"id":"10785","type":"Patch"},{"attributes":{"line_alpha":0.1,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10773","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"navy"},"height":{"value":158.4},"line_alpha":{"value":0.1},"line_color":{"value":"navy"},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"10650","type":"Rect"},{"attributes":{"fill_alpha":0.2,"fill_color":"blue","hatch_alpha":0.2,"hatch_color":"navy","line_alpha":0.2,"line_color":"navy","x":{"field":"x"},"y":{"field":"y"}},"id":"10780","type":"Patch"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0},"height":{"value":320.0},"line_alpha":{"value":0},"line_color":{"value":"#1f77b4"},"width":{"value":160.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10694","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"10648"},"glyph":{"id":"10649"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10651"},"nonselection_glyph":{"id":"10650"},"view":{"id":"10653"}},"id":"10652","type":"GlyphRenderer"},{"attributes":{"active":[0],"js_property_callbacks":{"change:active":[{"id":"11629"}]},"labels":["Apply or remove axial force P"]},"id":"10825","type":"CheckboxButtonGroup"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":0.0}},"id":"10801","type":"VeeHead"},{"attributes":{"fill_color":{"value":"white"},"hatch_pattern":{"value":"/"},"height":{"value":200},"line_width":{"value":3},"width":{"value":100},"x":{"field":"x"},"y":{"field":"y"}},"id":"10703","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"10654"},"glyph":{"id":"10655"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10657"},"nonselection_glyph":{"id":"10656"},"view":{"id":"10659"}},"id":"10658","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"orange"},"size":{"value":16.785266909588593}},"id":"10798","type":"VeeHead"},{"attributes":{"coordinates":null,"end":{"id":"10789"},"group":null,"line_color":{"value":"green"},"line_width":{"value":2.3978952727983707},"source":{"id":"11751"},"start":null,"x_end":{"value":60},"x_start":{"value":70},"y_end":{"value":0},"y_start":{"value":0}},"id":"10790","type":"Arrow"},{"attributes":{"source":{"id":"10648"}},"id":"10653","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"10594"},"glyph":{"id":"10784"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10786"},"nonselection_glyph":{"id":"10785"},"view":{"id":"10788"}},"id":"10787","type":"GlyphRenderer"},{"attributes":{"data":{"text":["q"],"x":[-0.2],"y":[400]},"selected":{"id":"11832"},"selection_policy":{"id":"11831"}},"id":"10654","type":"ColumnDataSource"},{"attributes":{},"id":"11492","type":"LinearScale"},{"attributes":{"source":{"id":"10594"}},"id":"10788","type":"CDSView"},{"attributes":{"text_color":{"value":"blue"},"x":{"field":"x"},"y":{"field":"y"}},"id":"10655","type":"Text"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":0.0}},"id":"10804","type":"VeeHead"},{"attributes":{"coordinates":null,"end":{"id":"10792"},"group":null,"line_color":{"value":"orange"},"line_width":{"value":2.5649493574615367},"source":{"id":"11752"},"start":null,"x_end":{"value":60},"x_start":{"value":60},"y_end":{"value":0},"y_start":{"value":-12.0}},"id":"10793","type":"Arrow"},{"attributes":{"source":{"id":"10654"}},"id":"10659","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"black"},"height":{"value":30.0},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11525","type":"Rect"},{"attributes":{"fill_alpha":0.2,"fill_color":"blue","hatch_alpha":0.2,"hatch_color":"navy","line_alpha":0.2,"line_color":"navy","x":{"field":"x_fade"},"y":{"field":"y"}},"id":"10786","type":"Patch"},{"attributes":{"axis_label":"Width b [mm]","coordinates":null,"formatter":{"id":"11821"},"group":null,"major_label_policy":{"id":"11822"},"ticker":{"id":"10699"}},"id":"10671","type":"LinearAxis"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"orange"},"size":{"value":17.954645502230758}},"id":"10795","type":"VeeHead"},{"attributes":{"text_alpha":{"value":0.1},"text_color":{"value":"blue"},"x":{"field":"x"},"y":{"field":"y"}},"id":"10656","type":"Text"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"orange"},"size":{"value":17.954645502230758}},"id":"10792","type":"VeeHead"},{"attributes":{},"id":"10665","type":"DataRange1d"},{"attributes":{"text_alpha":{"value":0.2},"text_color":{"value":"blue"},"x":{"field":"x"},"y":{"field":"y"}},"id":"10657","type":"Text"},{"attributes":{"axis":{"id":"10726"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"10729","type":"Grid"},{"attributes":{"coordinates":null,"end":{"id":"10804"},"group":null,"line_color":{"value":"red"},"line_width":{"value":0.0},"source":{"id":"11756"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":0}},"id":"10805","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"10795"},"group":null,"line_color":{"value":"orange"},"line_width":{"value":2.5649493574615367},"source":{"id":"11753"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":-12.0}},"id":"10796","type":"Arrow"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11819"},"group":null,"major_label_policy":{"id":"11820"},"ticker":{"id":"10699"}},"id":"10675","type":"LinearAxis"},{"attributes":{},"id":"11792","type":"UnionRenderers"},{"attributes":{"tools":[{"id":"11471"},{"id":"11472"},{"id":"11473"},{"id":"11474"},{"id":"11475"},{"id":"11476"}]},"id":"11478","type":"Toolbar"},{"attributes":{"coordinates":null,"data_source":{"id":"10807"},"glyph":{"id":"10809"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10811"},"nonselection_glyph":{"id":"10810"},"view":{"id":"10813"}},"id":"10812","type":"GlyphRenderer"},{"attributes":{},"id":"10680","type":"WheelZoomTool"},{"attributes":{},"id":"11488","type":"DataRange1d"},{"attributes":{"coordinates":null,"end":{"id":"10798"},"group":null,"line_color":{"value":"orange"},"line_width":{"value":2.3978952727983707},"source":{"id":"11754"},"start":null,"x_end":{"value":0},"x_start":{"value":-10},"y_end":{"value":0},"y_start":{"value":0}},"id":"10799","type":"Arrow"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]},"y":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"11803"},"selection_policy":{"id":"11802"}},"id":"10807","type":"ColumnDataSource"},{"attributes":{},"id":"11793","type":"Selection"},{"attributes":{"coordinates":null,"end":{"id":"10801"},"group":null,"line_color":{"value":"red"},"line_width":{"value":0.0},"source":{"id":"11755"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":0}},"id":"10802","type":"Arrow"},{"attributes":{"axis":{"id":"10671"},"coordinates":null,"group":null,"ticker":null},"id":"10674","type":"Grid"},{"attributes":{"below":[{"id":"10867"}],"center":[{"id":"10870"},{"id":"10874"}],"height":160,"left":[{"id":"10871"}],"renderers":[{"id":"10935"},{"id":"10941"},{"id":"10965"}],"title":{"id":"11687"},"toolbar":{"id":"10882"},"toolbar_location":null,"x_range":{"id":"10600"},"x_scale":{"id":"10863"},"y_range":{"id":"10861"},"y_scale":{"id":"10865"}},"id":"10859","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"10669","type":"LinearScale"},{"attributes":{"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10809","type":"Line"},{"attributes":{"coordinates":null,"group":null,"text":"Cross-section of the beam"},"id":"10661","type":"Title"},{"attributes":{"coordinates":null,"group":null,"text":"Stress state"},"id":"11486","type":"Title"},{"attributes":{"axis":{"id":"10675"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"10678","type":"Grid"},{"attributes":{"text":"Axial force P: applied"},"id":"10824","type":"Div"},{"attributes":{"coordinates":null,"formatter":{"id":"11666"},"group":null,"major_label_policy":{"id":"11667"},"ticker":{"id":"11497"},"visible":false},"id":"11496","type":"LinearAxis"},{"attributes":{"below":[{"id":"10837"}],"center":[{"id":"10840"},{"id":"10844"}],"height":160,"left":[{"id":"10841"}],"renderers":[{"id":"10923"},{"id":"10929"},{"id":"10959"}],"title":{"id":"10828"},"toolbar":{"id":"10852"},"toolbar_location":null,"x_range":{"id":"10600"},"x_scale":{"id":"10833"},"y_range":{"id":"10831"},"y_scale":{"id":"10835"}},"id":"10827","subtype":"Figure","type":"Plot"},{"attributes":{"text":"\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Geometrical and mechanical parameters:&lt;/b&gt;&lt;/p&gt;\n    h = 200 mm&lt;br&gt;\n    b = 100 mm&lt;br&gt;\n    L = 6 m&lt;br&gt;\n    A = 2.00e+04 mm&lt;sup&gt;2&lt;/sup&gt;&lt;br&gt;\n    Iy = 6.67e+07 mm&lt;sup&gt;4&lt;/sup&gt;&lt;br&gt;\n    Iz = 1.67e+07 mm&lt;sup&gt;4&lt;/sup&gt;","width":170},"id":"10708","type":"Div"},{"attributes":{"axis":{"id":"10837"},"coordinates":null,"group":null,"ticker":null},"id":"10840","type":"Grid"},{"attributes":{},"id":"11494","type":"LinearScale"},{"attributes":{"axis":{"id":"11496"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"11499","type":"Grid"},{"attributes":{"line_alpha":0.1,"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10810","type":"Line"},{"attributes":{"fill_color":{"value":"green"},"line_color":{"value":"green"},"size":{"value":16.785266909588593}},"id":"10750","type":"VeeHead"},{"attributes":{},"id":"11497","type":"BasicTicker"},{"attributes":{"line_alpha":0.2,"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10811","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"10592"},"glyph":{"id":"10926"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10928"},"nonselection_glyph":{"id":"10927"},"view":{"id":"10930"}},"id":"10929","type":"GlyphRenderer"},{"attributes":{},"id":"10684","type":"HelpTool"},{"attributes":{"source":{"id":"10807"}},"id":"10813","type":"CDSView"},{"attributes":{"overlay":{"id":"10685"}},"id":"10681","type":"BoxZoomTool"},{"attributes":{},"id":"10679","type":"PanTool"},{"attributes":{},"id":"10846","type":"WheelZoomTool"},{"attributes":{},"id":"10682","type":"SaveTool"},{"attributes":{},"id":"10683","type":"ResetTool"},{"attributes":{},"id":"10831","type":"DataRange1d"},{"attributes":{"axis":{"id":"11500"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"11503","type":"Grid"},{"attributes":{"text":"\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Forces and Moments:&lt;/b&gt;&lt;/p&gt;\n    P = 10 kN&lt;br&gt;\n    Rx = 10 kN&lt;br&gt;\n    Ry (left) = 12.0 kN&lt;br&gt;\n    Ry (right) = 12.0 kN&lt;br&gt;\n    No cross section analysed.&lt;br&gt;\n    N = 0 kN&lt;br&gt;\n    V = 0 kN&lt;br&gt;\n    M = 0 kNm\n    ","width":170},"id":"10826","type":"Div"},{"attributes":{},"id":"10861","type":"DataRange1d"},{"attributes":{"data":{"x":[0,150.0],"y":[0,0]},"selected":{"id":"11711"},"selection_policy":{"id":"11710"}},"id":"11542","type":"ColumnDataSource"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"10685","type":"BoxAnnotation"},{"attributes":{"coordinates":null,"formatter":{"id":"11663"},"group":null,"major_label_policy":{"id":"11664"},"ticker":{"id":"11501"},"visible":false},"id":"11500","type":"LinearAxis"},{"attributes":{"coordinates":null,"group":null,"text":"N V M Diagrams"},"id":"10828","type":"Title"},{"attributes":{},"id":"11794","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"11530"},"glyph":{"id":"11531"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11533"},"nonselection_glyph":{"id":"11532"},"view":{"id":"11535"}},"id":"11534","type":"GlyphRenderer"},{"attributes":{"axis_label":"Position [m]","coordinates":null,"formatter":{"id":"11769"},"group":null,"major_label_policy":{"id":"11770"},"ticker":{"id":"10838"},"visible":false},"id":"10837","type":"LinearAxis"},{"attributes":{},"id":"11795","type":"Selection"},{"attributes":{},"id":"11509","type":"HelpTool"},{"attributes":{},"id":"10727","type":"BasicTicker"},{"attributes":{},"id":"10838","type":"BasicTicker"},{"attributes":{"tools":[{"id":"10679"},{"id":"10680"},{"id":"10681"},{"id":"10682"},{"id":"10683"},{"id":"10684"}]},"id":"10686","type":"Toolbar"},{"attributes":{},"id":"11501","type":"BasicTicker"},{"attributes":{"axis_label":"Axial force N [kN]","coordinates":null,"formatter":{"id":"11766"},"group":null,"major_label_policy":{"id":"11767"},"ticker":{"id":"10842"}},"id":"10841","type":"LinearAxis"},{"attributes":{"data":{},"selected":{"id":"11837"},"selection_policy":{"id":"11836"}},"id":"11764","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"10841"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"10844","type":"Grid"},{"attributes":{},"id":"11759","type":"BasicTickFormatter"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0},"height":{"value":180.0},"line_alpha":{"value":0},"line_color":{"value":"#1f77b4"},"width":{"value":180.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11519","type":"Rect"},{"attributes":{},"id":"10842","type":"BasicTicker"},{"attributes":{},"id":"11760","type":"AllLabels"},{"attributes":{},"id":"11505","type":"WheelZoomTool"},{"attributes":{},"id":"10850","type":"HelpTool"},{"attributes":{},"id":"11504","type":"PanTool"},{"attributes":{},"id":"10845","type":"PanTool"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0},"height":{"value":18.0},"line_alpha":{"value":0},"line_color":{"value":"#1f77b4"},"width":{"value":72.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10745","type":"Rect"},{"attributes":{"overlay":{"id":"10851"}},"id":"10847","type":"BoxZoomTool"},{"attributes":{"overlay":{"id":"11510"}},"id":"11506","type":"BoxZoomTool"},{"attributes":{},"id":"10848","type":"SaveTool"},{"attributes":{},"id":"11507","type":"SaveTool"},{"attributes":{},"id":"10849","type":"ResetTool"},{"attributes":{},"id":"11508","type":"ResetTool"},{"attributes":{"coordinates":null,"formatter":{"id":"11746"},"group":null,"major_label_policy":{"id":"11747"},"ticker":{"id":"10727"},"visible":false},"id":"10726","type":"LinearAxis"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"10851","type":"BoxAnnotation"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11510","type":"BoxAnnotation"},{"attributes":{"tools":[{"id":"10845"},{"id":"10846"},{"id":"10847"},{"id":"10848"},{"id":"10849"},{"id":"10850"}]},"id":"10852","type":"Toolbar"},{"attributes":{"tools":[{"id":"11504"},{"id":"11505"},{"id":"11506"},{"id":"11507"},{"id":"11508"},{"id":"11509"}]},"id":"11511","type":"Toolbar"},{"attributes":{"below":[{"id":"11463"}],"center":[{"id":"11466"},{"id":"11470"}],"left":[{"id":"11467"}],"match_aspect":true,"renderers":[{"id":"11600"},{"id":"11606"},{"id":"11612"},{"id":"11618"},{"id":"11624"}],"title":{"id":"11453"},"toolbar":{"id":"11478"},"toolbar_location":null,"x_range":{"id":"11455"},"x_scale":{"id":"11459"},"y_range":{"id":"11457"},"y_scale":{"id":"11461"}},"id":"11452","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"10906","type":"WheelZoomTool"},{"attributes":{"data":{"x":[60.0],"y":[60.0]},"selected":{"id":"11703"},"selection_policy":{"id":"11702"}},"id":"11518","type":"ColumnDataSource"},{"attributes":{},"id":"11901","type":"BasicTickFormatter"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10920","type":"Line"},{"attributes":{},"id":"11468","type":"BasicTicker"},{"attributes":{"axis_label":"Axial force M [kNm]","coordinates":null,"formatter":{"id":"11778"},"group":null,"major_label_policy":{"id":"11779"},"ticker":{"id":"10902"}},"id":"10901","type":"LinearAxis"},{"attributes":{"axis":{"id":"10901"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"10904","type":"Grid"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"marker":{"value":"square"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y_var"}},"id":"11446","type":"Scatter"},{"attributes":{},"id":"11902","type":"AllLabels"},{"attributes":{},"id":"11464","type":"BasicTicker"},{"attributes":{},"id":"10902","type":"BasicTicker"},{"attributes":{"end":200,"js_property_callbacks":{"change:value":[{"id":"11633"}]},"start":0,"title":"Change the height y along the section [mm]","value":200},"id":"11450","type":"Slider"},{"attributes":{},"id":"10910","type":"HelpTool"},{"attributes":{"end":90,"js_property_callbacks":{"change:value":[{"id":"11632"}]},"start":0,"step":0.5,"title":"Change the angle \u03b8 of the element [\u00b0]","value":0},"id":"11451","type":"Slider"},{"attributes":{},"id":"10905","type":"PanTool"},{"attributes":{"overlay":{"id":"10911"}},"id":"10907","type":"BoxZoomTool"},{"attributes":{"source":{"id":"10596"}},"id":"11449","type":"CDSView"},{"attributes":{},"id":"10908","type":"SaveTool"},{"attributes":{},"id":"10909","type":"ResetTool"},{"attributes":{"axis_label":"Stress \u03c3 [MPa]","coordinates":null,"fixed_location":0,"formatter":{"id":"11660"},"group":null,"major_label_policy":{"id":"11661"},"ticker":{"id":"11464"}},"id":"11463","type":"LinearAxis"},{"attributes":{},"id":"11933","type":"UnionRenderers"},{"attributes":{},"id":"11455","type":"DataRange1d"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"10911","type":"BoxAnnotation"},{"attributes":{"overlay":{"id":"11477"}},"id":"11473","type":"BoxZoomTool"},{"attributes":{"line_alpha":0.1,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10927","type":"Line"},{"attributes":{},"id":"11934","type":"Selection"},{"attributes":{},"id":"11459","type":"LinearScale"},{"attributes":{},"id":"11457","type":"DataRange1d"},{"attributes":{"args":{"arr_head":{"id":"10818"},"div_P":{"id":"10824"},"fN":{"id":"10802"},"fP":{"id":"10790"},"fRx":{"id":"10799"},"fRyl":{"id":"10796"},"fRyr":{"id":"10793"},"fV":{"id":"10805"},"label_M_section":{"id":"11436"},"label_N_section":{"id":"11430"},"label_V_section":{"id":"11442"},"s_M":{"id":"10807"},"s_q":{"id":"10594"},"s_sb":{"id":"10593"},"s_section_M":{"id":"11413"},"section_M_head":{"id":"11424"},"section_N":{"id":"11408"},"section_V":{"id":"11411"},"source":{"id":"10596"},"tau_stress_diag":{"id":"11275"}},"code":"\n// retrieve data\nconst db = source.data\nconst FBD = cb_obj.active\nconst data_sb = s_sb.data\nconst data_q = s_q.data\nconst pos = db['x'][0]\n\n// apply the changes\ndb['FBD'][0] = FBD\n\n// update\ncheck_state(db)\nupdate_internal_forces(db, fN, fV, arr_head, s_M)\nupdate_scheme_position(db, data_sb, data_q)\nupdate_reactions(db, fRx, fRyl, fRyr)\nupdate_external_forces(db, fP, div_P)\nupdate_NVM_section(db, section_N, section_V, section_M_head, s_section_M, label_N_section, label_V_section, label_M_section)\n\n// emit the changes\nsource.change.emit()\ns_sb.change.emit()\ns_q.change.emit()\n\n\n    function check_state(data) {\n        const FBD = data['FBD'][0]\n        const pos = data['pos'][0]\n        const L = data['L'][0]\n        if (FBD == 0 &amp;&amp; pos != L) {\n            data['state'][0] = 'R_SEC'\n        } else if (FBD == 1 &amp;&amp; pos != 0) {\n            data['state'][0] = 'L_SEC'\n        } else {\n            data['state'][0] = 'IDLE'\n        }\n    }\n    \n\n    function update_internal_forces(data, glyph_N, glyph_V, glyph_M_head, source_M, lambda=0.25, offset_N=1.5, offset_V=1) {\n        const pos = data['pos'][0]\n        const SCALE = data['SCALE'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        switch(data['state'][0]) {\n            case 'IDLE':\n                // internal forces\n                update_arrow(glyph_N)\n                update_arrow(glyph_V)\n                update_curvedArrow(0, 0, 0, 0, 0, source_M, glyph_M_head)\n                break;\n            case 'R_SEC':\n                // internal forces\n                update_arrow(glyph_N, -N, pos*SCALE-N+offset_N, pos*SCALE+offset_N, 0, 0)\n                update_arrow(glyph_V, -V, pos*SCALE+offset_V, pos*SCALE+offset_V, -V/2, V/2)\n                var b = 6\n                var c = -M/2*0.8\n                var a = b-lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            case 'L_SEC':\n                // internal forces\n                update_arrow(glyph_N, N, pos*SCALE+N-offset_N, pos*SCALE-offset_N, 0, 0)\n                update_arrow(glyph_V, V, pos*SCALE-offset_V, pos*SCALE-offset_V, V/2, -V/2)\n                var b = -6\n                var c = -M/2*0.8\n                var a = b+lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_scheme_position(data, data_scheme_beam, data_scheme_q) {\n        const L = data['L'][0]*data['SCALE'][0]\n        const pos = data['pos'][0]*data['SCALE'][0]\n        \n        // move position of the point\n        data['xF'][0] = pos\n        data['x'][0] = data['pos'][0]\n        \n        switch(data['state'][0]) {\n            case 'IDLE':\n                // beam\n                data_scheme_beam['x'][0] = 0\n                data_scheme_beam['x'][1] = L\n                // unif load\n                data_scheme_q['x'][0] = 0\n                data_scheme_q['x'][1] = 0\n                data_scheme_q['x'][2] = L\n                data_scheme_q['x'][3] = L\n                break\n            case 'R_SEC':\n                // beam\n                data_scheme_beam['x'][0] = 0\n                data_scheme_beam['x'][1] = pos\n                // unif load\n                data_scheme_q['x'][0] = 0\n                data_scheme_q['x'][1] = 0\n                data_scheme_q['x'][2] = pos\n                data_scheme_q['x'][3] = pos\n                break\n            case 'L_SEC':\n                // beam\n                data_scheme_beam['x'][0] = L\n                data_scheme_beam['x'][1] = pos\n                // unif load\n                data_scheme_q['x'][0] = L\n                data_scheme_q['x'][1] = L\n                data_scheme_q['x'][2] = pos\n                data_scheme_q['x'][3] = pos\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_curvedArrow(a, b, c, pos_x, pos_y, source, arr_head, discr=10, AHF=6) {\n        const data_M = source.data\n        if (c==0) {\n            var a1 = 0\n            var a3 = 0\n        } else {\n            var a1 = b\n            var a3 = (a-b)/c**2\n        }\n        const step = 2*c / (discr-1);\n        const x = Array.from({length: discr}, (_, i) =&gt; -c + step * i);\n        const y = Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 +  a1)\n        var theta = -Math.atan(2/c*(a-b))\n        if (c&lt;0) {\n            theta = theta+Math.PI\n        }\n        data_M['x'] = y.map(y =&gt; y+pos_x)\n        data_M['y'] = x.map(x =&gt; x+pos_y)\n        \n        arr_head.glyph.size = arrow_growth(2*c)*AHF\n        arr_head.glyph.angle = theta\n        arr_head.glyph.x = y[y.length-1]+pos_x\n        arr_head.glyph.y = x[x.length-1]+pos_y\n        source.change.emit()\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_reactions(data, glyph_Rx, glyph_Ry_l, glyph_Ry_r, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        const Ry_l = data['Ry_l'][0]\n        const Ry_r = data['Ry_r'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_Rx) // Rx\n                arrow_alpha(glyph_Ry_l) // Ry left\n                arrow_alpha(glyph_Ry_r) // Ry right\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_Rx, 1) // Rx\n                arrow_alpha(glyph_Ry_l, 1) // Ry left\n                arrow_alpha(glyph_Ry_r, alpha) // Ry right\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_Rx, alpha) //Rx\n                arrow_alpha(glyph_Ry_l, alpha) //Ry left\n                arrow_alpha(glyph_Ry_r, 1) // Ry right\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        update_arrow(glyph_Rx, -P, -P, 0, 0, 0) // Rx\n        update_arrow(glyph_Ry_r, Ry_r, L, L, -Ry_r, 0) // Ry right\n        update_arrow(glyph_Ry_l, Ry_l, 0, 0, -Ry_l, 0) // Ry left\n    }\n    \n\n    function update_external_forces(data, glyph_P, div_P, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_P) // P\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_P, alpha) // P\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_P, 1) //P\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        if (P==0) {\n            div_P.text = \"Axial force P: removed\"\n            update_arrow(glyph_P) // P\n        } else {\n            div_P.text = \"Axial force P: applied\"\n            update_arrow(glyph_P, P, L+P, L, 0, 0) // P\n        }\n    }\n    \n\n    function arrow_alpha(straight_arrow, alpha=1) {\n        straight_arrow.end.line_alpha = alpha\n        straight_arrow.end.fill_alpha = alpha\n        straight_arrow.line_alpha = alpha\n    }\n    \n\n    function update_NVM_section(data, glyph_N, glyph_V, glyph_M_head, source_M, label_N_section, label_V_section, label_M_section, lambda=0.25, offset_N=1.5, offset_V=2) {\n        const x = 0\n        const y = 0\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        \n        update_arrow(glyph_N, -N, x-N+offset_N, x+offset_N, y, y)\n        update_arrow(glyph_V, -V, x+offset_V, x+offset_V, y-V/2, y+V/2)\n        var b = 6\n        var c = -M/2*0.8\n        var a = b-lambda*c\n        update_curvedArrow(a, b, c, x, y, source_M, glyph_M_head)\n        \n        if (N==0) {\n            label_N_section.glyph.text=''\n        } else {\n            label_N_section.glyph.text='N'\n        }\n        \n        if (V==0) {\n            label_V_section.glyph.text=''\n        } else {\n            label_V_section.glyph.text='V'\n        }\n        \n        if (M==0) {\n            label_M_section.glyph.text=''\n        } else {\n            label_M_section.glyph.text='M'\n        }\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n"},"id":"11630","type":"CustomJS"},{"attributes":{"coordinates":null,"group":null,"text":"Mohr circle, x axis: stress \u03c3 [MPa], y axis: stress \u03c4 [MPa]"},"id":"11453","type":"Title"},{"attributes":{},"id":"11472","type":"WheelZoomTool"},{"attributes":{"axis":{"id":"11463"},"coordinates":null,"group":null,"ticker":null},"id":"11466","type":"Grid"},{"attributes":{},"id":"11691","type":"UnionRenderers"},{"attributes":{},"id":"11461","type":"LinearScale"},{"attributes":{"axis_label":"Stress \u03c4 [MPa]","coordinates":null,"fixed_location":0,"formatter":{"id":"11657"},"group":null,"major_label_policy":{"id":"11658"},"ticker":{"id":"11468"}},"id":"11467","type":"LinearAxis"},{"attributes":{"axis":{"id":"11467"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"11470","type":"Grid"},{"attributes":{"data":{"x":[0],"y":[0]},"selected":{"id":"11705"},"selection_policy":{"id":"11704"}},"id":"11524","type":"ColumnDataSource"},{"attributes":{"below":[{"id":"11496"}],"center":[{"id":"11499"},{"id":"11503"},{"id":"11549"},{"id":"11552"},{"id":"11555"},{"id":"11558"},{"id":"11561"},{"id":"11564"},{"id":"11567"},{"id":"11570"},{"id":"11573"},{"id":"11576"},{"id":"11579"},{"id":"11582"},{"id":"11585"},{"id":"11588"},{"id":"11591"},{"id":"11594"}],"left":[{"id":"11500"}],"match_aspect":true,"min_border_left":0,"renderers":[{"id":"11522"},{"id":"11528"},{"id":"11534"},{"id":"11540"},{"id":"11546"}],"title":{"id":"11486"},"toolbar":{"id":"11511"},"toolbar_location":null,"x_range":{"id":"11488"},"x_scale":{"id":"11492"},"y_range":{"id":"11490"},"y_scale":{"id":"11494"}},"id":"11485","subtype":"Figure","type":"Plot"},{"attributes":{"source":{"id":"10919"}},"id":"10924","type":"CDSView"},{"attributes":{},"id":"11471","type":"PanTool"},{"attributes":{"args":{"M_diag":{"id":"10947"},"M_stress_diag":{"id":"11221"},"Mohr_circle":{"id":"11600"},"V_diag":{"id":"10935"},"V_stress_diag":{"id":"11239"},"arr_head":{"id":"10818"},"arrow_sigma_x1":{"id":"11549"},"arrow_sigma_x1_theta":{"id":"11573"},"arrow_sigma_x2":{"id":"11552"},"arrow_sigma_x2_theta":{"id":"11576"},"arrow_sigma_y1":{"id":"11555"},"arrow_sigma_y1_theta":{"id":"11579"},"arrow_sigma_y2":{"id":"11558"},"arrow_sigma_y2_theta":{"id":"11582"},"arrow_tau_x1":{"id":"11561"},"arrow_tau_x1_theta":{"id":"11585"},"arrow_tau_x2":{"id":"11564"},"arrow_tau_x2_theta":{"id":"11588"},"arrow_tau_y1":{"id":"11567"},"arrow_tau_y1_theta":{"id":"11591"},"arrow_tau_y2":{"id":"11570"},"arrow_tau_y2_theta":{"id":"11594"},"bending_strain_diag":{"id":"11313"},"centroid":{"id":"11233"},"div_P":{"id":"10824"},"div_f":{"id":"10826"},"fN":{"id":"10802"},"fP":{"id":"10790"},"fRx":{"id":"10799"},"fRyl":{"id":"10796"},"fRyr":{"id":"10793"},"fV":{"id":"10805"},"label_M_section":{"id":"11436"},"label_N_section":{"id":"11430"},"label_V_section":{"id":"11442"},"line_stress_state":{"id":"11606"},"line_stress_state_theta":{"id":"11618"},"neutral_axis":{"id":"11269"},"points_stress_state":{"id":"11612"},"points_stress_state_theta":{"id":"11624"},"s_M":{"id":"10807"},"s_q":{"id":"10594"},"s_section_M":{"id":"11413"},"section_M_head":{"id":"11424"},"section_N":{"id":"11408"},"section_V":{"id":"11411"},"sigma_stress_diag":{"id":"11257"},"source":{"id":"10596"},"tau_stress_diag":{"id":"11275"}},"code":"\n// retrieve data\nconst db = source.data\nconst q = cb_obj.value\nconst pos = db['x'][0]\nconst L = db['L'][0]\nconst N = db['N'][0]\nconst V = compute_V(pos, q, L)\nconst M = compute_M(pos, q, L)\nconst y_var = db['y_var'][0]\nconst A =  db['A'][0]\nconst b =  db['b'][0]\nconst h =  db['h'][0]\nconst yG =  db['yG'][0]\nconst Iy =  db['Iy'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// update data\ndb['q'][0] = q\ndb['V'][0] = V\ndb['M'][0] = M\ndb['Ry_l'][0] = compute_Ry_l(q, L)\ndb['Ry_r'][0] = compute_Ry_r(q, L)\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\nupdate_u_load(db, s_q)\nupdate_reactions(db, fRx, fRyl, fRyr)\nupdate_external_forces(db, fP, div_P)\nupdate_V_diagram(db, V_diag)\nupdate_M_diagram(db, M_diag)\nupdate_internal_forces(db, fN, fV, arr_head, s_M)\nupdate_div_forces(db, div_f)\nupdate_bending_stress_strain(db, M_stress_diag, bending_strain_diag, centroid)\nupdate_shear_stress(db, V_stress_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\nupdate_NVM_section(db, section_N, section_V, section_M_head, s_section_M, label_N_section, label_V_section, label_M_section)\n// Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// apply changes\nsource.change.emit()\n\n// declare functions\n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function parabola(x, a1, a2, a3) {\n        return Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 + a2 * x[i] +  a1);\n    }\n    \n\n    function arrow_alpha(straight_arrow, alpha=1) {\n        straight_arrow.end.line_alpha = alpha\n        straight_arrow.end.fill_alpha = alpha\n        straight_arrow.line_alpha = alpha\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function compute_V(x, q, L) {\n        return q*x-q*L/2\n    }\n    \n\n    function compute_M(x, q, L) {\n        return q*x/2*(x-L)\n    }\n    \n\n    function compute_Ry_l(q, L) {\n        return q*L/2\n    }\n    \n\n    function compute_Ry_r(q, L) {\n        return q*L/2\n    }\n    \n\n    function update_NVM_diagram(diagram, y) {\n        const y_ = [...y]\n        const source = diagram.data_source\n        y_.unshift(0)\n        y_.push(0)\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n        function update_V_diagram(data, glyph, discr=100) {\n            const L = data['L'][0]\n            const q = data['q'][0]\n            const x = linspace(0, L, 100)\n            const V_discr = Array.from({length: discr}, (_, i) =&gt; compute_V(x[i], q, L))\n            update_NVM_diagram(glyph, V_discr)\n        }\n    \n\n        function update_M_diagram(data, glyph, discr=100) {\n            const L = data['L'][0]\n            const q = data['q'][0]\n            const x = linspace(0, L, 100)\n            const M_discr = Array.from({length: discr}, (_, i) =&gt; compute_M(x[i], q, L))\n            update_NVM_diagram(glyph, M_discr)\n        }\n    \n\n    function update_reactions(data, glyph_Rx, glyph_Ry_l, glyph_Ry_r, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        const Ry_l = data['Ry_l'][0]\n        const Ry_r = data['Ry_r'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_Rx) // Rx\n                arrow_alpha(glyph_Ry_l) // Ry left\n                arrow_alpha(glyph_Ry_r) // Ry right\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_Rx, 1) // Rx\n                arrow_alpha(glyph_Ry_l, 1) // Ry left\n                arrow_alpha(glyph_Ry_r, alpha) // Ry right\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_Rx, alpha) //Rx\n                arrow_alpha(glyph_Ry_l, alpha) //Ry left\n                arrow_alpha(glyph_Ry_r, 1) // Ry right\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        update_arrow(glyph_Rx, -P, -P, 0, 0, 0) // Rx\n        update_arrow(glyph_Ry_r, Ry_r, L, L, -Ry_r, 0) // Ry right\n        update_arrow(glyph_Ry_l, Ry_l, 0, 0, -Ry_l, 0) // Ry left\n    }\n    \n\n    function update_external_forces(data, glyph_P, div_P, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_P) // P\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_P, alpha) // P\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_P, 1) //P\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        if (P==0) {\n            div_P.text = \"Axial force P: removed\"\n            update_arrow(glyph_P) // P\n        } else {\n            div_P.text = \"Axial force P: applied\"\n            update_arrow(glyph_P, P, L+P, L, 0, 0) // P\n        }\n    }\n    \n\n    function update_u_load(data, source_q, OFFSET_Q=4) {\n        const q = data['q'][0]\n        source_q.data['y'][1] = OFFSET_Q+q\n        source_q.data['y'][2] = OFFSET_Q+q\n        source_q.change.emit()\n    }\n    \n\n    function update_internal_forces(data, glyph_N, glyph_V, glyph_M_head, source_M, lambda=0.25, offset_N=1.5, offset_V=1) {\n        const pos = data['pos'][0]\n        const SCALE = data['SCALE'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        switch(data['state'][0]) {\n            case 'IDLE':\n                // internal forces\n                update_arrow(glyph_N)\n                update_arrow(glyph_V)\n                update_curvedArrow(0, 0, 0, 0, 0, source_M, glyph_M_head)\n                break;\n            case 'R_SEC':\n                // internal forces\n                update_arrow(glyph_N, -N, pos*SCALE-N+offset_N, pos*SCALE+offset_N, 0, 0)\n                update_arrow(glyph_V, -V, pos*SCALE+offset_V, pos*SCALE+offset_V, -V/2, V/2)\n                var b = 6\n                var c = -M/2*0.8\n                var a = b-lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            case 'L_SEC':\n                // internal forces\n                update_arrow(glyph_N, N, pos*SCALE+N-offset_N, pos*SCALE-offset_N, 0, 0)\n                update_arrow(glyph_V, V, pos*SCALE-offset_V, pos*SCALE-offset_V, V/2, -V/2)\n                var b = -6\n                var c = -M/2*0.8\n                var a = b+lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_curvedArrow(a, b, c, pos_x, pos_y, source, arr_head, discr=10, AHF=6) {\n        const data_M = source.data\n        if (c==0) {\n            var a1 = 0\n            var a3 = 0\n        } else {\n            var a1 = b\n            var a3 = (a-b)/c**2\n        }\n        const step = 2*c / (discr-1);\n        const x = Array.from({length: discr}, (_, i) =&gt; -c + step * i);\n        const y = Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 +  a1)\n        var theta = -Math.atan(2/c*(a-b))\n        if (c&lt;0) {\n            theta = theta+Math.PI\n        }\n        data_M['x'] = y.map(y =&gt; y+pos_x)\n        data_M['y'] = x.map(x =&gt; x+pos_y)\n        \n        arr_head.glyph.size = arrow_growth(2*c)*AHF\n        arr_head.glyph.angle = theta\n        arr_head.glyph.x = y[y.length-1]+pos_x\n        arr_head.glyph.y = x[x.length-1]+pos_y\n        source.change.emit()\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_bending_stress_strain(data, glyph_stress, glyph_strain, glyph_centroid, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const E = data['E'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const M = data['M'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_bending = new Array(discr)\n        let strain_bending = new Array(discr)\n        const src_centroid = glyph_centroid.data_source\n        \n        // apply the changes\n        src_centroid.data.y = [yG, yG]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            strain_bending[i] = compute_epsilon_bending(sigma_bending[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_bending, y_discr)\n        update_strain_diagram(glyph_strain, strain_bending, y_discr)\n        src_centroid.change.emit()\n    }\n    \n\n    function update_shear_stress(data, glyph_stress, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const yG = data['yG'][0]\n        const Iy = data['Iy'][0]\n        const V = data['V'][0]\n        const y_discr = linspace(0, h, discr)\n        let tau_shear = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, tau_shear, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function compute_epsilon_bending(sigma_bending, E) {\n        return sigma_bending/E\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function compute_centroid_y(h) {\n        return h/2\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function update_div_forces(data, div) {\n        switch(data['state'][0]) {\n            case 'IDLE':\n                var str_sec = \"No cross section analysed.\"\n                break\n            case 'R_SEC':\n            case 'L_SEC':\n                var str_sec = \"Cross section at \"+Math.round(data['pos'][0]*10)/10+\" m.\"\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        const P = data['P'][0]\n        const Rx = data['Rx'][0]\n        const Ry_l = Math.round(data['Ry_l'][0]*10)/10\n        const Ry_r = Math.round(data['Ry_r'][0]*10)/10\n        const N = Math.abs(data['N'][0])\n        const V = Math.round(Math.abs(data['V'][0])*10)/10\n        const M = Math.round(data['M'][0]*10)/10\n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Forces and Moments:&lt;/b&gt;&lt;/p&gt;\n    P = `+P+` kN&lt;br&gt;\n    Rx = `+Rx+` kN&lt;br&gt;\n    Ry (left) = `+Ry_r+` kN&lt;br&gt;\n    Ry (right) = `+Ry_l+` kN&lt;br&gt;\n    `+str_sec+`&lt;br&gt;\n    N = `+N+` kN&lt;br&gt;\n    V = `+V+` kN&lt;br&gt;\n    M = `+M+` kNm\n    ` \n    }\n    \n\n    function update_NVM_section(data, glyph_N, glyph_V, glyph_M_head, source_M, label_N_section, label_V_section, label_M_section, lambda=0.25, offset_N=1.5, offset_V=2) {\n        const x = 0\n        const y = 0\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        \n        update_arrow(glyph_N, -N, x-N+offset_N, x+offset_N, y, y)\n        update_arrow(glyph_V, -V, x+offset_V, x+offset_V, y-V/2, y+V/2)\n        var b = 6\n        var c = -M/2*0.8\n        var a = b-lambda*c\n        update_curvedArrow(a, b, c, x, y, source_M, glyph_M_head)\n        \n        if (N==0) {\n            label_N_section.glyph.text=''\n        } else {\n            label_N_section.glyph.text='N'\n        }\n        \n        if (V==0) {\n            label_V_section.glyph.text=''\n        } else {\n            label_V_section.glyph.text='V'\n        }\n        \n        if (M==0) {\n            label_M_section.glyph.text=''\n        } else {\n            label_M_section.glyph.text='M'\n        }\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n        }\n        const tau = r_circle*Math.sin(2*theta)\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"11631","type":"CustomJS"},{"attributes":{"fill_alpha":{"value":0.6},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.6},"hatch_color":{"value":"navy"},"height":{"value":158.4},"line_alpha":{"value":0.6},"line_color":{"value":"navy"},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"10649","type":"Rect"},{"attributes":{"below":[{"id":"10608"}],"center":[{"id":"10611"},{"id":"10615"},{"id":"10751"}],"height":200,"left":[{"id":"10612"}],"min_border_left":0,"renderers":[{"id":"10634"},{"id":"10640"},{"id":"10646"},{"id":"10652"},{"id":"10658"},{"id":"10757"},{"id":"11448"}],"title":{"id":"10598"},"toolbar":{"id":"10623"},"toolbar_location":null,"x_range":{"id":"10600"},"x_scale":{"id":"10604"},"y_range":{"id":"10602"},"y_scale":{"id":"10606"}},"id":"10597","subtype":"Figure","type":"Plot"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10934","type":"Line"},{"attributes":{"end":560.0,"start":-80.0},"id":"10602","type":"Range1d"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10922","type":"Line"},{"attributes":{"fill_color":{"value":"lightgray"},"height":{"value":200},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"10631","type":"Rect"},{"attributes":{"data":{"x":[0,0.0,0.06060606060606061,0.12121212121212122,0.18181818181818182,0.24242424242424243,0.30303030303030304,0.36363636363636365,0.42424242424242425,0.48484848484848486,0.5454545454545454,0.6060606060606061,0.6666666666666667,0.7272727272727273,0.7878787878787878,0.8484848484848485,0.9090909090909092,0.9696969696969697,1.0303030303030303,1.0909090909090908,1.1515151515151516,1.2121212121212122,1.2727272727272727,1.3333333333333335,1.393939393939394,1.4545454545454546,1.5151515151515151,1.5757575757575757,1.6363636363636365,1.696969696969697,1.7575757575757576,1.8181818181818183,1.878787878787879,1.9393939393939394,2.0,2.0606060606060606,2.121212121212121,2.1818181818181817,2.2424242424242427,2.303030303030303,2.3636363636363638,2.4242424242424243,2.484848484848485,2.5454545454545454,2.606060606060606,2.666666666666667,2.7272727272727275,2.787878787878788,2.8484848484848486,2.909090909090909,2.9696969696969697,3.0303030303030303,3.090909090909091,3.1515151515151514,3.2121212121212124,3.272727272727273,3.3333333333333335,3.393939393939394,3.4545454545454546,3.515151515151515,3.5757575757575757,3.6363636363636367,3.6969696969696972,3.757575757575758,3.8181818181818183,3.878787878787879,3.9393939393939394,4.0,4.0606060606060606,4.121212121212121,4.181818181818182,4.242424242424242,4.303030303030303,4.363636363636363,4.424242424242425,4.484848484848485,4.545454545454546,4.606060606060606,4.666666666666667,4.7272727272727275,4.787878787878788,4.848484848484849,4.909090909090909,4.96969696969697,5.03030303030303,5.090909090909091,5.151515151515151,5.212121212121212,5.2727272727272725,5.333333333333334,5.3939393939393945,5.454545454545455,5.515151515151516,5.575757575757576,5.636363636363637,5.696969696969697,5.757575757575758,5.818181818181818,5.878787878787879,5.9393939393939394,6.0,6],"y":[0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,0]},"selected":{"id":"11839"},"selection_policy":{"id":"11838"}},"id":"10919","type":"ColumnDataSource"},{"attributes":{"data":{"x":[3.0],"y":[100.0]},"selected":{"id":"11824"},"selection_policy":{"id":"11823"}},"id":"10630","type":"ColumnDataSource"},{"attributes":{},"id":"10604","type":"LinearScale"},{"attributes":{"tools":[{"id":"10905"},{"id":"10906"},{"id":"10907"},{"id":"10908"},{"id":"10909"},{"id":"10910"}]},"id":"10912","type":"Toolbar"},{"attributes":{"coordinates":null,"group":null},"id":"11689","type":"Title"},{"attributes":{"data":{"x":[3.0],"y":[480.0]},"selected":{"id":"11830"},"selection_policy":{"id":"11829"}},"id":"10648","type":"ColumnDataSource"},{"attributes":{"end":7.2,"start":-1.2000000000000002},"id":"10600","type":"Range1d"},{"attributes":{},"id":"11696","type":"Selection"},{"attributes":{"axis":{"id":"10608"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"10611","type":"Grid"},{"attributes":{"below":[{"id":"11016"}],"center":[{"id":"11019"},{"id":"11023"}],"height":200,"left":[{"id":"11020"}],"renderers":[{"id":"11293"},{"id":"11299"},{"id":"11305"}],"title":{"id":"11007"},"toolbar":{"id":"11031"},"toolbar_location":null,"width":200,"x_range":{"id":"11009"},"x_scale":{"id":"11012"},"y_range":{"id":"10978"},"y_scale":{"id":"11014"}},"id":"11006","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"10609","type":"BasicTicker"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10932","type":"Line"},{"attributes":{"coordinates":null,"group":null,"text":"Simple supported beam"},"id":"10598","type":"Title"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10921","type":"Line"},{"attributes":{"args":{"Mohr_circle":{"id":"11600"},"arrow_sigma_x1_theta":{"id":"11573"},"arrow_sigma_x2_theta":{"id":"11576"},"arrow_sigma_y1_theta":{"id":"11579"},"arrow_sigma_y2_theta":{"id":"11582"},"arrow_tau_x1_theta":{"id":"11585"},"arrow_tau_x2_theta":{"id":"11588"},"arrow_tau_y1_theta":{"id":"11591"},"arrow_tau_y2_theta":{"id":"11594"},"beam_position":{"id":"11448"},"line_stress_state":{"id":"11606"},"line_stress_state_theta":{"id":"11618"},"points_stress_state":{"id":"11612"},"points_stress_state_theta":{"id":"11624"},"rotating_axis":{"id":"11540"},"source":{"id":"10596"},"stress_state":{"id":"11528"},"stress_state_theta":{"id":"11534"}},"code":"\n// retrieve data\nconst db = source.data\nconst theta_element = cb_obj.value/180*Math.PI\nconst sigma_x0 = db['sigma_x0'][0]\nconst sigma_y0 = db['sigma_y0'][0]\nconst tau_0 = db['tau_0'][0]\nconst sigma_average = db['sigma_average_mohr'][0]\nconst r_circle = db['r_circle_mohr'][0]\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// update data\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta_element'][0] = theta_element\ndb['theta'][0] = theta\n\n// update\n// square point:\nbeam_position.glyph.angle = theta_element\n// stress state element\nupdate_stress_state_elements(db, stress_state_theta, rotating_axis)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n// update Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n\n// apply changes\nsource.change.emit()\n\n// declare functions\n\n    function update_stress_state_elements(data, glyph_stress_state_theta, glyph_axis, max_stress=60, max_dim=150.0) {\n        // set variables\n        const theta_element = data['theta_element'][0]\n        const x_new = max_stress*Math.cos(theta_element)\n        const y_new = max_stress*Math.sin(theta_element)\n        \n        // update rotating axis\n        const src_axis = glyph_axis.data_source\n        src_axis.data.x = [0, x_new*max_dim/max_stress]\n        src_axis.data.y = [0, y_new*max_dim/max_stress]\n        src_axis.change.emit()\n        \n        // update stress state\n        //glyph_stress_state.glyph.angle = theta_element\n        //TODO: arrows using above functions\n        \n        // update stress state theta\n        glyph_stress_state_theta.glyph.angle = theta_element\n        glyph_stress_state_theta.glyph.x = x_new*2\n        glyph_stress_state_theta.glyph.y = y_new*2\n        //TODO: arrows using above functions\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n        }\n        const tau = r_circle*Math.sin(2*theta)\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"11632","type":"CustomJS"},{"attributes":{},"id":"10606","type":"LinearScale"},{"attributes":{"axis_label":"Position [m]","coordinates":null,"formatter":{"id":"11762"},"group":null,"major_label_policy":{"id":"11763"},"ticker":{"id":"10609"}},"id":"10608","type":"LinearAxis"},{"attributes":{},"id":"11935","type":"UnionRenderers"},{"attributes":{},"id":"10621","type":"HelpTool"},{"attributes":{"line_alpha":0.2,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10928","type":"Line"},{"attributes":{},"id":"11695","type":"UnionRenderers"},{"attributes":{"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10926","type":"Line"},{"attributes":{"coordinates":null,"formatter":{"id":"11759"},"group":null,"major_label_policy":{"id":"11760"},"ticker":{"id":"10613"},"visible":false},"id":"10612","type":"LinearAxis"},{"attributes":{"coordinates":null,"data_source":{"id":"10592"},"glyph":{"id":"10950"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10952"},"nonselection_glyph":{"id":"10951"},"view":{"id":"10954"}},"id":"10953","type":"GlyphRenderer"},{"attributes":{},"id":"11936","type":"Selection"},{"attributes":{"axis":{"id":"10612"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"10615","type":"Grid"},{"attributes":{"data":{"x":[0,0.0,0.06060606060606061,0.12121212121212122,0.18181818181818182,0.24242424242424243,0.30303030303030304,0.36363636363636365,0.42424242424242425,0.48484848484848486,0.5454545454545454,0.6060606060606061,0.6666666666666667,0.7272727272727273,0.7878787878787878,0.8484848484848485,0.9090909090909092,0.9696969696969697,1.0303030303030303,1.0909090909090908,1.1515151515151516,1.2121212121212122,1.2727272727272727,1.3333333333333335,1.393939393939394,1.4545454545454546,1.5151515151515151,1.5757575757575757,1.6363636363636365,1.696969696969697,1.7575757575757576,1.8181818181818183,1.878787878787879,1.9393939393939394,2.0,2.0606060606060606,2.121212121212121,2.1818181818181817,2.2424242424242427,2.303030303030303,2.3636363636363638,2.4242424242424243,2.484848484848485,2.5454545454545454,2.606060606060606,2.666666666666667,2.7272727272727275,2.787878787878788,2.8484848484848486,2.909090909090909,2.9696969696969697,3.0303030303030303,3.090909090909091,3.1515151515151514,3.2121212121212124,3.272727272727273,3.3333333333333335,3.393939393939394,3.4545454545454546,3.515151515151515,3.5757575757575757,3.6363636363636367,3.6969696969696972,3.757575757575758,3.8181818181818183,3.878787878787879,3.9393939393939394,4.0,4.0606060606060606,4.121212121212121,4.181818181818182,4.242424242424242,4.303030303030303,4.363636363636363,4.424242424242425,4.484848484848485,4.545454545454546,4.606060606060606,4.666666666666667,4.7272727272727275,4.787878787878788,4.848484848484849,4.909090909090909,4.96969696969697,5.03030303030303,5.090909090909091,5.151515151515151,5.212121212121212,5.2727272727272725,5.333333333333334,5.3939393939393945,5.454545454545455,5.515151515151516,5.575757575757576,5.636363636363637,5.696969696969697,5.757575757575758,5.818181818181818,5.878787878787879,5.9393939393939394,6.0,6],"y":[0,-12.0,-11.757575757575758,-11.515151515151516,-11.272727272727273,-11.030303030303031,-10.787878787878787,-10.545454545454545,-10.303030303030303,-10.06060606060606,-9.818181818181818,-9.575757575757576,-9.333333333333332,-9.09090909090909,-8.848484848484848,-8.606060606060606,-8.363636363636363,-8.121212121212121,-7.878787878787879,-7.636363636363637,-7.393939393939394,-7.151515151515151,-6.909090909090909,-6.666666666666666,-6.424242424242424,-6.181818181818182,-5.9393939393939394,-5.696969696969697,-5.454545454545454,-5.212121212121212,-4.96969696969697,-4.727272727272727,-4.484848484848484,-4.242424242424242,-4.0,-3.757575757575758,-3.5151515151515156,-3.2727272727272734,-3.0303030303030294,-2.787878787878787,-2.545454545454545,-2.3030303030303028,-2.0606060606060606,-1.8181818181818183,-1.5757575757575761,-1.3333333333333321,-1.09090909090909,-0.8484848484848477,-0.6060606060606055,-0.3636363636363633,-0.1212121212121211,0.1212121212121211,0.3636363636363633,0.6060606060606055,0.8484848484848495,1.0909090909090917,1.333333333333334,1.5757575757575761,1.8181818181818183,2.0606060606060606,2.3030303030303028,2.5454545454545467,2.787878787878789,3.030303030303031,3.2727272727272734,3.5151515151515156,3.757575757575758,4.0,4.242424242424242,4.484848484848484,4.727272727272727,4.969696969696969,5.212121212121211,5.454545454545453,5.696969696969699,5.939393939393941,6.181818181818183,6.424242424242426,6.666666666666668,6.90909090909091,7.151515151515152,7.3939393939393945,7.636363636363637,7.878787878787879,8.121212121212121,8.363636363636363,8.606060606060606,8.848484848484848,9.09090909090909,9.333333333333336,9.575757575757578,9.81818181818182,10.060606060606062,10.303030303030305,10.545454545454547,10.787878787878789,11.030303030303031,11.272727272727273,11.515151515151516,11.757575757575758,12.0,0]},"selected":{"id":"11844"},"selection_policy":{"id":"11843"}},"id":"10931","type":"ColumnDataSource"},{"attributes":{},"id":"11692","type":"Selection"},{"attributes":{},"id":"10613","type":"BasicTicker"},{"attributes":{"line_alpha":0.1,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10939","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"10630"},"glyph":{"id":"10631"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10633"},"nonselection_glyph":{"id":"10632"},"view":{"id":"10635"}},"id":"10634","type":"GlyphRenderer"},{"attributes":{"source":{"id":"10592"}},"id":"10930","type":"CDSView"},{"attributes":{},"id":"10617","type":"WheelZoomTool"},{"attributes":{"source":{"id":"10943"}},"id":"10948","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"10943"},"glyph":{"id":"10944"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10946"},"nonselection_glyph":{"id":"10945"},"view":{"id":"10948"}},"id":"10947","type":"GlyphRenderer"},{"attributes":{},"id":"10616","type":"PanTool"},{"attributes":{"overlay":{"id":"10622"}},"id":"10618","type":"BoxZoomTool"},{"attributes":{"source":{"id":"10931"}},"id":"10936","type":"CDSView"},{"attributes":{},"id":"10619","type":"SaveTool"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10933","type":"Line"},{"attributes":{},"id":"10620","type":"ResetTool"},{"attributes":{"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10938","type":"Line"},{"attributes":{"line_alpha":0.2,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10940","type":"Line"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"10622","type":"BoxAnnotation"},{"attributes":{"data":{"x":[0,0.0,0.06060606060606061,0.12121212121212122,0.18181818181818182,0.24242424242424243,0.30303030303030304,0.36363636363636365,0.42424242424242425,0.48484848484848486,0.5454545454545454,0.6060606060606061,0.6666666666666667,0.7272727272727273,0.7878787878787878,0.8484848484848485,0.9090909090909092,0.9696969696969697,1.0303030303030303,1.0909090909090908,1.1515151515151516,1.2121212121212122,1.2727272727272727,1.3333333333333335,1.393939393939394,1.4545454545454546,1.5151515151515151,1.5757575757575757,1.6363636363636365,1.696969696969697,1.7575757575757576,1.8181818181818183,1.878787878787879,1.9393939393939394,2.0,2.0606060606060606,2.121212121212121,2.1818181818181817,2.2424242424242427,2.303030303030303,2.3636363636363638,2.4242424242424243,2.484848484848485,2.5454545454545454,2.606060606060606,2.666666666666667,2.7272727272727275,2.787878787878788,2.8484848484848486,2.909090909090909,2.9696969696969697,3.0303030303030303,3.090909090909091,3.1515151515151514,3.2121212121212124,3.272727272727273,3.3333333333333335,3.393939393939394,3.4545454545454546,3.515151515151515,3.5757575757575757,3.6363636363636367,3.6969696969696972,3.757575757575758,3.8181818181818183,3.878787878787879,3.9393939393939394,4.0,4.0606060606060606,4.121212121212121,4.181818181818182,4.242424242424242,4.303030303030303,4.363636363636363,4.424242424242425,4.484848484848485,4.545454545454546,4.606060606060606,4.666666666666667,4.7272727272727275,4.787878787878788,4.848484848484849,4.909090909090909,4.96969696969697,5.03030303030303,5.090909090909091,5.151515151515151,5.212121212121212,5.2727272727272725,5.333333333333334,5.3939393939393945,5.454545454545455,5.515151515151516,5.575757575757576,5.636363636363637,5.696969696969697,5.757575757575758,5.818181818181818,5.878787878787879,5.9393939393939394,6.0,6],"y":[0,-0.0,-0.7199265381083563,-1.4251606978879707,-2.115702479338843,-2.7915518824609737,-3.452708907254362,-4.099173553719009,-4.730945821854913,-5.348025711662076,-5.950413223140496,-6.5381083562901745,-7.111111111111112,-7.669421487603306,-8.213039485766759,-8.74196510560147,-9.25619834710744,-9.755739210284665,-10.240587695133149,-10.710743801652892,-11.166207529843895,-11.606978879706153,-12.03305785123967,-12.444444444444445,-12.841138659320476,-13.223140495867767,-13.590449954086317,-13.943067033976122,-14.28099173553719,-14.604224058769512,-14.912764003673093,-15.206611570247935,-15.485766758494032,-15.750229568411386,-16.0,-16.235078053259873,-16.455463728191,-16.661157024793386,-16.852157943067034,-17.02846648301194,-17.1900826446281,-17.33700642791552,-17.469237832874196,-17.58677685950413,-17.689623507805326,-17.77777777777778,-17.85123966942149,-17.910009182736456,-17.95408631772268,-17.983471074380166,-17.99816345270891,-17.99816345270891,-17.983471074380166,-17.95408631772268,-17.910009182736456,-17.85123966942149,-17.77777777777778,-17.689623507805326,-17.58677685950413,-17.469237832874196,-17.33700642791552,-17.1900826446281,-17.028466483011936,-16.852157943067034,-16.661157024793386,-16.455463728191,-16.235078053259873,-16.0,-15.750229568411386,-15.485766758494032,-15.206611570247935,-14.912764003673095,-14.604224058769514,-14.280991735537192,-13.943067033976122,-13.590449954086315,-13.223140495867765,-12.841138659320475,-12.444444444444443,-12.033057851239668,-11.606978879706151,-11.166207529843893,-10.710743801652892,-10.240587695133149,-9.755739210284665,-9.25619834710744,-8.741965105601471,-8.21303948576676,-7.669421487603308,-7.111111111111105,-6.538108356290169,-5.950413223140491,-5.348025711662071,-4.730945821854909,-4.099173553719005,-3.452708907254359,-2.791551882460971,-2.1157024793388413,-1.4251606978879694,-0.7199265381083556,0.0,0]},"selected":{"id":"11847"},"selection_policy":{"id":"11846"}},"id":"10943","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"N"}},"id":"10956","type":"Circle"},{"attributes":{"source":{"id":"10592"}},"id":"10942","type":"CDSView"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10944","type":"Line"},{"attributes":{"line_alpha":0.1,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10951","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"lightgray"},"hatch_alpha":{"value":0.1},"height":{"value":200},"line_alpha":{"value":0.1},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"10632","type":"Rect"},{"attributes":{"tools":[{"id":"10992"},{"id":"10993"},{"id":"10994"},{"id":"10995"},{"id":"10996"},{"id":"10997"}]},"id":"10999","type":"Toolbar"},{"attributes":{"source":{"id":"10596"}},"id":"10960","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10946","type":"Line"},{"attributes":{"source":{"id":"10630"}},"id":"10635","type":"CDSView"},{"attributes":{"below":[{"id":"11048"}],"center":[{"id":"11051"},{"id":"11055"}],"height":200,"left":[{"id":"11052"}],"renderers":[{"id":"11221"},{"id":"11227"},{"id":"11233"}],"title":{"id":"11039"},"toolbar":{"id":"11063"},"toolbar_location":null,"width":200,"x_range":{"id":"11041"},"x_scale":{"id":"11044"},"y_range":{"id":"10978"},"y_scale":{"id":"11046"}},"id":"11038","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"M"}},"id":"10968","type":"Circle"},{"attributes":{},"id":"11694","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"lightgray"},"hatch_alpha":{"value":0.2},"height":{"value":200},"line_alpha":{"value":0.2},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"10633","type":"Rect"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"10945","type":"Line"},{"attributes":{},"id":"11693","type":"UnionRenderers"},{"attributes":{"line_alpha":0.2,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10952","type":"Line"},{"attributes":{"source":{"id":"10592"}},"id":"10954","type":"CDSView"},{"attributes":{"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"10950","type":"Line"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"V"}},"id":"10962","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"N"}},"id":"10957","type":"Circle"},{"attributes":{},"id":"11938","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"10596"},"glyph":{"id":"10956"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10958"},"nonselection_glyph":{"id":"10957"},"view":{"id":"10960"}},"id":"10959","type":"GlyphRenderer"},{"attributes":{"tools":[{"id":"10616"},{"id":"10617"},{"id":"10618"},{"id":"10619"},{"id":"10620"},{"id":"10621"}]},"id":"10623","type":"Toolbar"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"N"}},"id":"10958","type":"Circle"},{"attributes":{},"id":"11666","type":"BasicTickFormatter"},{"attributes":{},"id":"11667","type":"AllLabels"},{"attributes":{},"id":"11663","type":"BasicTickFormatter"},{"attributes":{},"id":"11833","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"marker":{"value":"square"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y_var"}},"id":"11445","type":"Scatter"},{"attributes":{"data":{},"selected":{"id":"11716"},"selection_policy":{"id":"11715"}},"id":"11669","type":"ColumnDataSource"},{"attributes":{},"id":"11834","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"11614"},"glyph":{"id":"11615"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11617"},"nonselection_glyph":{"id":"11616"},"view":{"id":"11619"}},"id":"11618","type":"GlyphRenderer"},{"attributes":{},"id":"11700","type":"Selection"},{"attributes":{"coordinates":null,"end":{"id":"11581"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"11679"},"start":null,"x_end":{"value":120.0},"x_start":{"value":120.0},"y_end":{"value":-25.0},"y_start":{"value":-25.0}},"id":"11582","type":"Arrow"},{"attributes":{},"id":"11664","type":"AllLabels"},{"attributes":{"width":200},"id":"11645","type":"Spacer"},{"attributes":{},"id":"11699","type":"UnionRenderers"},{"attributes":{"children":[{"id":"10711"},{"id":"11638"}]},"id":"11639","type":"Column"},{"attributes":{"data":{},"selected":{"id":"11724"},"selection_policy":{"id":"11723"}},"id":"11673","type":"ColumnDataSource"},{"attributes":{},"id":"11697","type":"UnionRenderers"},{"attributes":{"children":[{"id":"10660"},{"id":"11634"},{"id":"11637"}]},"id":"11638","type":"Row"},{"attributes":{},"id":"11698","type":"Selection"},{"attributes":{"data":{},"selected":{"id":"11718"},"selection_policy":{"id":"11717"}},"id":"11670","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"11714"},"selection_policy":{"id":"11713"}},"id":"11668","type":"ColumnDataSource"},{"attributes":{"width":200},"id":"11644","type":"Spacer"},{"attributes":{"height":10},"id":"11636","type":"Spacer"},{"attributes":{"children":[{"id":"11329"},{"id":"11006"},{"id":"10973"},{"id":"11070"},{"id":"11038"},{"id":"11135"}]},"id":"11643","type":"Row"},{"attributes":{"data":{},"selected":{"id":"11722"},"selection_policy":{"id":"11721"}},"id":"11672","type":"ColumnDataSource"},{"attributes":{"width":200},"id":"11646","type":"Spacer"},{"attributes":{"children":[{"id":"10597"},{"id":"11640"},{"id":"10827"},{"id":"10859"},{"id":"10889"}]},"id":"11641","type":"Column"},{"attributes":{"data":{},"selected":{"id":"11726"},"selection_policy":{"id":"11725"}},"id":"11674","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"11720"},"selection_policy":{"id":"11719"}},"id":"11671","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"11643"},{"id":"11647"}]},"id":"11648","type":"Column"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"11581","type":"VeeHead"},{"attributes":{},"id":"11836","type":"UnionRenderers"},{"attributes":{},"id":"11837","type":"Selection"},{"attributes":{"children":[{"id":"11635"},{"id":"10709"},{"id":"10710"},{"id":"11450"},{"id":"11451"},{"id":"11636"},{"id":"10821"},{"id":"10820"},{"id":"10822"},{"id":"10823"},{"id":"10824"},{"id":"10825"}]},"id":"11637","type":"Column"},{"attributes":{"data":{},"selected":{"id":"11730"},"selection_policy":{"id":"11729"}},"id":"11676","type":"ColumnDataSource"},{"attributes":{"width":10},"id":"11634","type":"Spacer"},{"attributes":{},"id":"11838","type":"UnionRenderers"},{"attributes":{"data":{},"selected":{"id":"11732"},"selection_policy":{"id":"11731"}},"id":"11677","type":"ColumnDataSource"},{"attributes":{},"id":"11839","type":"Selection"},{"attributes":{"height":10},"id":"11640","type":"Spacer"},{"attributes":{"children":[{"id":"11362"},{"id":"11644"},{"id":"11102"},{"id":"11645"},{"id":"11646"},{"id":"11167"}]},"id":"11647","type":"Row"},{"attributes":{"data":{},"selected":{"id":"11734"},"selection_policy":{"id":"11733"}},"id":"11678","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"11639"},{"id":"11641"}]},"id":"11642","type":"Row"},{"attributes":{"data":{},"selected":{"id":"11728"},"selection_policy":{"id":"11727"}},"id":"11675","type":"ColumnDataSource"},{"attributes":{"height":10},"id":"11635","type":"Spacer"},{"attributes":{},"id":"11743","type":"UnionRenderers"},{"attributes":{},"id":"11744","type":"Selection"},{"attributes":{},"id":"11657","type":"BasicTickFormatter"},{"attributes":{},"id":"11660","type":"BasicTickFormatter"},{"attributes":{},"id":"11746","type":"BasicTickFormatter"},{"attributes":{},"id":"11747","type":"AllLabels"},{"attributes":{},"id":"11661","type":"AllLabels"},{"attributes":{},"id":"11749","type":"BasicTickFormatter"},{"attributes":{},"id":"11750","type":"AllLabels"},{"attributes":{"data":{},"selected":{"id":"11808"},"selection_policy":{"id":"11807"}},"id":"11751","type":"ColumnDataSource"},{"attributes":{},"id":"11658","type":"AllLabels"},{"attributes":{"data":{},"selected":{"id":"11810"},"selection_policy":{"id":"11809"}},"id":"11752","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"11812"},"selection_policy":{"id":"11811"}},"id":"11753","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"blue","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11604","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"blue","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11605","type":"Line"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11248","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11602"},"glyph":{"id":"11603"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11605"},"nonselection_glyph":{"id":"11604"},"view":{"id":"11607"}},"id":"11606","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11250","type":"Line"},{"attributes":{"line_color":"red","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11615","type":"Line"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11254","type":"Line"},{"attributes":{"data":{},"selected":{"id":"11954"},"selection_policy":{"id":"11953"}},"id":"11890","type":"ColumnDataSource"},{"attributes":{"data":{"x":[-0.5,0.0],"y":[0,-0.0]},"selected":{"id":"11698"},"selection_policy":{"id":"11697"}},"id":"11614","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"10595"},"glyph":{"id":"11224"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11226"},"nonselection_glyph":{"id":"11225"},"view":{"id":"11228"}},"id":"11227","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11256","type":"Line"},{"attributes":{"source":{"id":"11602"}},"id":"11607","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11249","type":"Line"},{"attributes":{"source":{"id":"11608"}},"id":"11613","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"11253"},"glyph":{"id":"11254"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11256"},"nonselection_glyph":{"id":"11255"},"view":{"id":"11258"}},"id":"11257","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"blue"},"line_alpha":{"value":0.2},"line_color":{"value":"blue"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"11611","type":"Circle"},{"attributes":{"source":{"id":"11247"}},"id":"11252","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"blue"},"line_alpha":{"value":0.1},"line_color":{"value":"blue"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"11610","type":"Circle"},{"attributes":{"data":{"x":[0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"11944"},"selection_policy":{"id":"11943"}},"id":"11253","type":"ColumnDataSource"},{"attributes":{},"id":"11146","type":"BasicTicker"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"red"},"line_alpha":{"value":0.5},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"11621","type":"Circle"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11272","type":"Line"},{"attributes":{"source":{"id":"11614"}},"id":"11619","type":"CDSView"},{"attributes":{},"id":"11141","type":"LinearScale"},{"attributes":{"data":{"x":[-30.0,30.0],"y":[100.0,100.0]},"selected":{"id":"11946"},"selection_policy":{"id":"11945"}},"id":"11265","type":"ColumnDataSource"},{"attributes":{"data":{"x":[-0.5,0.0],"y":[0,-0.0]},"selected":{"id":"11700"},"selection_policy":{"id":"11699"}},"id":"11620","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11261","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11608"},"glyph":{"id":"11609"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11611"},"nonselection_glyph":{"id":"11610"},"view":{"id":"11613"}},"id":"11612","type":"GlyphRenderer"},{"attributes":{"source":{"id":"11253"}},"id":"11258","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"11736"},"selection_policy":{"id":"11735"}},"id":"11679","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11255","type":"Line"},{"attributes":{"coordinates":null,"group":null,"text":"Total stress \u03c3 and neutral axis"},"id":"11136","type":"Title"},{"attributes":{"source":{"id":"11620"}},"id":"11625","type":"CDSView"},{"attributes":{},"id":"11170","type":"DataRange1d"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11260","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"red"},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"11622","type":"Circle"},{"attributes":{"coordinates":null,"data_source":{"id":"11199"},"glyph":{"id":"11200"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11202"},"nonselection_glyph":{"id":"11201"},"view":{"id":"11204"}},"id":"11203","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"red"},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"11623","type":"Circle"},{"attributes":{"axis":{"id":"11145"},"coordinates":null,"group":null,"ticker":null},"id":"11148","type":"Grid"},{"attributes":{"data":{"x":[-0.00012,0.00012],"y":[0,0]},"selected":{"id":"11926"},"selection_policy":{"id":"11925"}},"id":"11301","type":"ColumnDataSource"},{"attributes":{},"id":"11154","type":"WheelZoomTool"},{"attributes":{},"id":"11143","type":"LinearScale"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11262","type":"Line"},{"attributes":{"data":{},"selected":{"id":"11738"},"selection_policy":{"id":"11737"}},"id":"11680","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"10595"},"glyph":{"id":"11278"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11280"},"nonselection_glyph":{"id":"11279"},"view":{"id":"11282"}},"id":"11281","type":"GlyphRenderer"},{"attributes":{"axis_label":"Stress \u03c3 [MPa]","coordinates":null,"formatter":{"id":"11882"},"group":null,"major_label_policy":{"id":"11883"},"ticker":{"id":"11146"}},"id":"11145","type":"LinearAxis"},{"attributes":{"source":{"id":"10595"}},"id":"11264","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"11740"},"selection_policy":{"id":"11739"}},"id":"11681","type":"ColumnDataSource"},{"attributes":{"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"11266","type":"Line"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11879"},"group":null,"major_label_policy":{"id":"11880"},"ticker":{"id":"11150"}},"id":"11149","type":"LinearAxis"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11274","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11620"},"glyph":{"id":"11621"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11623"},"nonselection_glyph":{"id":"11622"},"view":{"id":"11625"}},"id":"11624","type":"GlyphRenderer"},{"attributes":{"axis":{"id":"11149"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"11152","type":"Grid"},{"attributes":{"coordinates":null,"data_source":{"id":"11271"},"glyph":{"id":"11272"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11274"},"nonselection_glyph":{"id":"11273"},"view":{"id":"11276"}},"id":"11275","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"11268","type":"Line"},{"attributes":{},"id":"11150","type":"BasicTicker"},{"attributes":{"coordinates":null,"data_source":{"id":"11265"},"glyph":{"id":"11266"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11268"},"nonselection_glyph":{"id":"11267"},"view":{"id":"11270"}},"id":"11269","type":"GlyphRenderer"},{"attributes":{"source":{"id":"11265"}},"id":"11270","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"11267","type":"Line"},{"attributes":{},"id":"11158","type":"HelpTool"},{"attributes":{},"id":"11153","type":"PanTool"},{"attributes":{"overlay":{"id":"11159"}},"id":"11155","type":"BoxZoomTool"},{"attributes":{"data":{"x":[0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"11961"},"selection_policy":{"id":"11960"}},"id":"11271","type":"ColumnDataSource"},{"attributes":{},"id":"11156","type":"SaveTool"},{"attributes":{"source":{"id":"11271"}},"id":"11276","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"11742"},"selection_policy":{"id":"11741"}},"id":"11682","type":"ColumnDataSource"},{"attributes":{},"id":"11157","type":"ResetTool"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11279","type":"Line"},{"attributes":{"data":{"x":[-1.2,1.2],"y":[0,0]},"selected":{"id":"11963"},"selection_policy":{"id":"11962"}},"id":"11283","type":"ColumnDataSource"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]},"y":{"__ndarray__":"AAAAAAAAAACO4ziO4zg2QI7jOI7jOEZAqqqqqqqqUECO4ziO4zhWQHIcx3Ecx1tAqqqqqqqqYEAcx3Ecx3FjQI7jOI7jOGZAAAAAAAAAaUA=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"11922"},"selection_policy":{"id":"11921"}},"id":"11289","type":"ColumnDataSource"},{"attributes":{},"id":"11892","type":"BasicTickFormatter"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11273","type":"Line"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11159","type":"BoxAnnotation"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11297","type":"Line"},{"attributes":{"data":{},"selected":{"id":"11744"},"selection_policy":{"id":"11743"}},"id":"11683","type":"ColumnDataSource"},{"attributes":{},"id":"11173","type":"LinearScale"},{"attributes":{},"id":"11893","type":"AllLabels"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11278","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"11292","type":"Line"},{"attributes":{"source":{"id":"11289"}},"id":"11294","type":"CDSView"},{"attributes":{},"id":"11895","type":"BasicTickFormatter"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11280","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"10595"},"glyph":{"id":"11296"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11298"},"nonselection_glyph":{"id":"11297"},"view":{"id":"11300"}},"id":"11299","type":"GlyphRenderer"},{"attributes":{},"id":"11896","type":"AllLabels"},{"attributes":{"source":{"id":"10595"}},"id":"11282","type":"CDSView"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"11290","type":"Line"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11296","type":"Line"},{"attributes":{},"id":"11850","type":"BasicTickFormatter"},{"attributes":{"line_alpha":0.1,"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"11291","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11289"},"glyph":{"id":"11290"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11292"},"nonselection_glyph":{"id":"11291"},"view":{"id":"11294"}},"id":"11293","type":"GlyphRenderer"},{"attributes":{},"id":"11851","type":"AllLabels"},{"attributes":{"tools":[{"id":"11381"},{"id":"11382"},{"id":"11383"},{"id":"11384"},{"id":"11385"},{"id":"11386"}]},"id":"11388","type":"Toolbar"},{"attributes":{},"id":"11853","type":"BasicTickFormatter"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11298","type":"Line"},{"attributes":{"interval":0.0001},"id":"11307","type":"SingleIntervalTicker"},{"attributes":{"source":{"id":"10595"}},"id":"11300","type":"CDSView"},{"attributes":{},"id":"11854","type":"AllLabels"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11302","type":"Line"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11317","type":"Line"},{"attributes":{"axis":{"id":"11177"},"coordinates":null,"group":null,"ticker":null},"id":"11180","type":"Grid"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11304","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11301"},"glyph":{"id":"11302"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11304"},"nonselection_glyph":{"id":"11303"},"view":{"id":"11306"}},"id":"11305","type":"GlyphRenderer"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]},"y":{"__ndarray__":"AAAAAAAAAACO4ziO4zg2QI7jOI7jOEZAqqqqqqqqUECO4ziO4zhWQHIcx3Ecx1tAqqqqqqqqYEAcx3Ecx3FjQI7jOI7jOGZAAAAAAAAAaUA=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"11934"},"selection_policy":{"id":"11933"}},"id":"11309","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11303","type":"Line"},{"attributes":{"data":{"x":[0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"11929"},"selection_policy":{"id":"11928"}},"id":"11199","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"11309"},"glyph":{"id":"11310"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11312"},"nonselection_glyph":{"id":"11311"},"view":{"id":"11314"}},"id":"11313","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"11235"},"glyph":{"id":"11236"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11238"},"nonselection_glyph":{"id":"11237"},"view":{"id":"11240"}},"id":"11239","type":"GlyphRenderer"},{"attributes":{"source":{"id":"11301"}},"id":"11306","type":"CDSView"},{"attributes":{"data":{"x":[-0.00012,0.00012],"y":[0,0]},"selected":{"id":"11936"},"selection_policy":{"id":"11935"}},"id":"11321","type":"ColumnDataSource"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"11310","type":"Line"},{"attributes":{"data":{},"selected":{"id":"11920"},"selection_policy":{"id":"11919"}},"id":"11855","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"11312","type":"Line"},{"attributes":{},"id":"11178","type":"BasicTicker"},{"attributes":{"source":{"id":"11309"}},"id":"11314","type":"CDSView"},{"attributes":{"tools":[{"id":"11153"},{"id":"11154"},{"id":"11155"},{"id":"11156"},{"id":"11157"},{"id":"11158"}]},"id":"11160","type":"Toolbar"},{"attributes":{"line_alpha":0.1,"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"11311","type":"Line"},{"attributes":{},"id":"11186","type":"WheelZoomTool"},{"attributes":{"coordinates":null,"group":null,"text":"Total stress \u03c4"},"id":"11168","type":"Title"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11316","type":"Line"},{"attributes":{},"id":"11175","type":"LinearScale"},{"attributes":{},"id":"11185","type":"PanTool"},{"attributes":{"axis_label":"Stress \u03c4 [MPa]","coordinates":null,"formatter":{"id":"11901"},"group":null,"major_label_policy":{"id":"11902"},"ticker":{"id":"11178"}},"id":"11177","type":"LinearAxis"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11318","type":"Line"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11898"},"group":null,"major_label_policy":{"id":"11899"},"ticker":{"id":"11182"}},"id":"11181","type":"LinearAxis"},{"attributes":{"interval":0.0001},"id":"11327","type":"SingleIntervalTicker"},{"attributes":{"axis":{"id":"11181"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"11184","type":"Grid"},{"attributes":{"source":{"id":"10595"}},"id":"11320","type":"CDSView"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11322","type":"Line"},{"attributes":{},"id":"11182","type":"BasicTicker"},{"attributes":{},"id":"11898","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"group":null},"id":"11687","type":"Title"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11324","type":"Line"},{"attributes":{"source":{"id":"11321"}},"id":"11326","type":"CDSView"},{"attributes":{},"id":"11188","type":"SaveTool"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11323","type":"Line"},{"attributes":{"overlay":{"id":"11191"}},"id":"11187","type":"BoxZoomTool"},{"attributes":{},"id":"11899","type":"AllLabels"},{"attributes":{"coordinates":null,"data_source":{"id":"11321"},"glyph":{"id":"11322"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11324"},"nonselection_glyph":{"id":"11323"},"view":{"id":"11326"}},"id":"11325","type":"GlyphRenderer"},{"attributes":{},"id":"11189","type":"ResetTool"},{"attributes":{"coordinates":null,"data_source":{"id":"10596"},"glyph":{"id":"10962"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10964"},"nonselection_glyph":{"id":"10963"},"view":{"id":"10966"}},"id":"10965","type":"GlyphRenderer"},{"attributes":{"axis_label":"Strain \u03b5\u2099 [%]","coordinates":null,"formatter":{"id":"11859"},"group":null,"major_label_policy":{"id":"11860"},"ticker":{"id":"11307"}},"id":"11016","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"V"}},"id":"10963","type":"Circle"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11857"},"group":null,"major_label_policy":{"id":"11858"},"ticker":{"id":"11021"},"visible":false},"id":"11020","type":"LinearAxis"},{"attributes":{"below":[{"id":"11177"}],"center":[{"id":"11180"},{"id":"11184"}],"height":200,"renderers":[{"id":"11275"},{"id":"11281"},{"id":"11287"}],"right":[{"id":"11181"}],"title":{"id":"11168"},"toolbar":{"id":"11192"},"toolbar_location":null,"width":200,"x_range":{"id":"11170"},"x_scale":{"id":"11173"},"y_range":{"id":"11107"},"y_scale":{"id":"11175"}},"id":"11167","subtype":"Figure","type":"Plot"},{"attributes":{"source":{"id":"10596"}},"id":"10966","type":"CDSView"},{"attributes":{"tools":[{"id":"11088"},{"id":"11089"},{"id":"11090"},{"id":"11091"},{"id":"11092"},{"id":"11093"}]},"id":"11095","type":"Toolbar"},{"attributes":{},"id":"11804","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"V"}},"id":"10964","type":"Circle"},{"attributes":{"coordinates":null,"data_source":{"id":"10596"},"glyph":{"id":"10968"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"10970"},"nonselection_glyph":{"id":"10969"},"view":{"id":"10972"}},"id":"10971","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"10595"},"glyph":{"id":"11242"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11244"},"nonselection_glyph":{"id":"11243"},"view":{"id":"11246"}},"id":"11245","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"M"}},"id":"10969","type":"Circle"},{"attributes":{},"id":"11805","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"10595"},"glyph":{"id":"11316"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11318"},"nonselection_glyph":{"id":"11317"},"view":{"id":"11320"}},"id":"11319","type":"GlyphRenderer"},{"attributes":{"source":{"id":"10596"}},"id":"10972","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"M"}},"id":"10970","type":"Circle"},{"attributes":{},"id":"10976","type":"DataRange1d"},{"attributes":{},"id":"11046","type":"LinearScale"},{"attributes":{"below":[{"id":"11080"}],"center":[{"id":"11083"},{"id":"11087"}],"height":200,"left":[{"id":"11084"}],"renderers":[{"id":"11313"},{"id":"11319"},{"id":"11325"}],"title":{"id":"11071"},"toolbar":{"id":"11095"},"toolbar_location":null,"width":200,"x_range":{"id":"11073"},"x_scale":{"id":"11076"},"y_range":{"id":"10978"},"y_scale":{"id":"11078"}},"id":"11070","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"11009","type":"DataRange1d"},{"attributes":{"below":[{"id":"10984"}],"center":[{"id":"10987"},{"id":"10991"}],"height":200,"left":[{"id":"10988"}],"renderers":[{"id":"11203"},{"id":"11209"},{"id":"11215"}],"title":{"id":"10974"},"toolbar":{"id":"10999"},"toolbar_location":null,"width":200,"x_range":{"id":"10976"},"x_scale":{"id":"10980"},"y_range":{"id":"10978"},"y_scale":{"id":"10982"}},"id":"10973","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"10985","type":"BasicTicker"},{"attributes":{},"id":"10982","type":"LinearScale"},{"attributes":{},"id":"10978","type":"DataRange1d"},{"attributes":{},"id":"11044","type":"LinearScale"},{"attributes":{"coordinates":null,"group":null,"text":"Axial stress"},"id":"10974","type":"Title"},{"attributes":{"axis":{"id":"10984"},"coordinates":null,"group":null,"ticker":null},"id":"10987","type":"Grid"},{"attributes":{},"id":"11049","type":"BasicTicker"},{"attributes":{},"id":"10980","type":"LinearScale"},{"attributes":{"coordinates":null,"data_source":{"id":"10595"},"glyph":{"id":"11206"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11208"},"nonselection_glyph":{"id":"11207"},"view":{"id":"11210"}},"id":"11209","type":"GlyphRenderer"},{"attributes":{"axis_label":"Stress \u03c3\u2099 [MPa]","coordinates":null,"formatter":{"id":"11865"},"group":null,"major_label_policy":{"id":"11866"},"ticker":{"id":"10985"}},"id":"10984","type":"LinearAxis"},{"attributes":{},"id":"11012","type":"LinearScale"},{"attributes":{},"id":"10993","type":"WheelZoomTool"},{"attributes":{},"id":"11076","type":"LinearScale"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11862"},"group":null,"major_label_policy":{"id":"11863"},"ticker":{"id":"10989"},"visible":false},"id":"10988","type":"LinearAxis"},{"attributes":{"axis":{"id":"10988"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"10991","type":"Grid"},{"attributes":{"coordinates":null,"group":null,"text":"Bending stress and centroid"},"id":"11039","type":"Title"},{"attributes":{},"id":"11928","type":"UnionRenderers"},{"attributes":{},"id":"10989","type":"BasicTicker"},{"attributes":{"axis":{"id":"11048"},"coordinates":null,"group":null,"ticker":null},"id":"11051","type":"Grid"},{"attributes":{"line_alpha":0.2,"line_color":"red","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11617","type":"Line"},{"attributes":{},"id":"11929","type":"Selection"},{"attributes":{},"id":"10997","type":"HelpTool"},{"attributes":{},"id":"11057","type":"WheelZoomTool"},{"attributes":{},"id":"10992","type":"PanTool"},{"attributes":{"overlay":{"id":"10998"}},"id":"10994","type":"BoxZoomTool"},{"attributes":{"axis_label":"Stress \u03c3\u2098 [MPa]","coordinates":null,"formatter":{"id":"11876"},"group":null,"major_label_policy":{"id":"11877"},"ticker":{"id":"11049"}},"id":"11048","type":"LinearAxis"},{"attributes":{},"id":"10995","type":"SaveTool"},{"attributes":{},"id":"10996","type":"ResetTool"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11873"},"group":null,"major_label_policy":{"id":"11874"},"ticker":{"id":"11053"},"visible":false},"id":"11052","type":"LinearAxis"},{"attributes":{"axis":{"id":"11052"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"11055","type":"Grid"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"10998","type":"BoxAnnotation"},{"attributes":{},"id":"11053","type":"BasicTicker"},{"attributes":{"axis":{"id":"11016"},"coordinates":null,"group":null,"ticker":null},"id":"11019","type":"Grid"},{"attributes":{},"id":"11061","type":"HelpTool"},{"attributes":{},"id":"11056","type":"PanTool"},{"attributes":{},"id":"11807","type":"UnionRenderers"},{"attributes":{"overlay":{"id":"11062"}},"id":"11058","type":"BoxZoomTool"},{"attributes":{},"id":"11059","type":"SaveTool"},{"attributes":{},"id":"11060","type":"ResetTool"},{"attributes":{},"id":"11808","type":"Selection"},{"attributes":{},"id":"11078","type":"LinearScale"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11062","type":"BoxAnnotation"},{"attributes":{"tools":[{"id":"11056"},{"id":"11057"},{"id":"11058"},{"id":"11059"},{"id":"11060"},{"id":"11061"}]},"id":"11063","type":"Toolbar"},{"attributes":{},"id":"11809","type":"UnionRenderers"},{"attributes":{},"id":"11073","type":"DataRange1d"},{"attributes":{},"id":"11810","type":"Selection"},{"attributes":{},"id":"11028","type":"ResetTool"},{"attributes":{},"id":"11105","type":"DataRange1d"},{"attributes":{"below":[{"id":"11113"}],"center":[{"id":"11116"},{"id":"11120"}],"height":200,"left":[{"id":"11117"}],"renderers":[{"id":"11239"},{"id":"11245"},{"id":"11251"}],"title":{"id":"11103"},"toolbar":{"id":"11128"},"toolbar_location":null,"width":200,"x_range":{"id":"11105"},"x_scale":{"id":"11109"},"y_range":{"id":"11107"},"y_scale":{"id":"11111"}},"id":"11102","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"11812","type":"Selection"},{"attributes":{"fill_alpha":0.3,"fill_color":"blue","hatch_alpha":0.3,"hatch_color":"navy","line_alpha":0.3,"line_color":"navy","x":{"field":"x"},"y":{"field":"y"}},"id":"10778","type":"Patch"},{"attributes":{},"id":"11930","type":"UnionRenderers"},{"attributes":{"coordinates":null,"group":null,"text":"Axial strain"},"id":"11007","type":"Title"},{"attributes":{},"id":"11931","type":"Selection"},{"attributes":{},"id":"11041","type":"DataRange1d"},{"attributes":{},"id":"11813","type":"UnionRenderers"},{"attributes":{},"id":"11024","type":"PanTool"},{"attributes":{},"id":"11014","type":"LinearScale"},{"attributes":{},"id":"11814","type":"Selection"},{"attributes":{},"id":"11138","type":"DataRange1d"},{"attributes":{},"id":"11025","type":"WheelZoomTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"10816","type":"Scatter"},{"attributes":{"axis":{"id":"11020"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"11023","type":"Grid"},{"attributes":{},"id":"11815","type":"UnionRenderers"},{"attributes":{},"id":"11021","type":"BasicTicker"},{"attributes":{"overlay":{"id":"11030"}},"id":"11026","type":"BoxZoomTool"},{"attributes":{},"id":"11029","type":"HelpTool"},{"attributes":{},"id":"11816","type":"Selection"},{"attributes":{},"id":"11027","type":"SaveTool"},{"attributes":{"tools":[{"id":"11024"},{"id":"11025"},{"id":"11026"},{"id":"11027"},{"id":"11028"},{"id":"11029"}]},"id":"11031","type":"Toolbar"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11030","type":"BoxAnnotation"},{"attributes":{},"id":"11336","type":"LinearScale"},{"attributes":{"coordinates":null,"formatter":{"id":"11853"},"group":null,"major_label_policy":{"id":"11854"},"ticker":{"id":"11341"},"visible":false},"id":"11340","type":"LinearAxis"},{"attributes":{"coordinates":null,"data_source":{"id":"11395"},"glyph":{"id":"11396"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11398"},"nonselection_glyph":{"id":"11397"},"view":{"id":"11400"}},"id":"11399","type":"GlyphRenderer"},{"attributes":{"below":[{"id":"11373"}],"center":[{"id":"11376"},{"id":"11380"},{"id":"11411"}],"height":200,"left":[{"id":"11377"}],"match_aspect":true,"renderers":[{"id":"11405"},{"id":"11442"}],"title":{"id":"11363"},"toolbar":{"id":"11388"},"toolbar_location":null,"width":200,"x_range":{"id":"11365"},"x_scale":{"id":"11369"},"y_range":{"id":"11367"},"y_scale":{"id":"11371"}},"id":"11362","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"11332","type":"DataRange1d"},{"attributes":{},"id":"11334","type":"DataRange1d"},{"attributes":{},"id":"11960","type":"UnionRenderers"},{"attributes":{"overlay":{"id":"11387"}},"id":"11383","type":"BoxZoomTool"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11850"},"group":null,"major_label_policy":{"id":"11851"},"ticker":{"id":"11345"},"visible":false},"id":"11344","type":"LinearAxis"},{"attributes":{"axis":{"id":"11377"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"11380","type":"Grid"},{"attributes":{},"id":"11961","type":"Selection"},{"attributes":{},"id":"11349","type":"WheelZoomTool"},{"attributes":{"axis":{"id":"11340"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"11343","type":"Grid"},{"attributes":{"coordinates":null,"group":null,"text":"N and M at position x"},"id":"11330","type":"Title"},{"attributes":{},"id":"11341","type":"BasicTicker"},{"attributes":{"axis":{"id":"11344"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"11347","type":"Grid"},{"attributes":{},"id":"11338","type":"LinearScale"},{"attributes":{"coordinates":null,"data_source":{"id":"11401"},"glyph":{"id":"11402"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11404"},"nonselection_glyph":{"id":"11403"},"view":{"id":"11406"}},"id":"11405","type":"GlyphRenderer"},{"attributes":{},"id":"11345","type":"BasicTicker"},{"attributes":{},"id":"11353","type":"HelpTool"},{"attributes":{},"id":"11348","type":"PanTool"},{"attributes":{"overlay":{"id":"11354"}},"id":"11350","type":"BoxZoomTool"},{"attributes":{},"id":"11351","type":"SaveTool"},{"attributes":{},"id":"11352","type":"ResetTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11354","type":"BoxAnnotation"},{"attributes":{},"id":"11962","type":"UnionRenderers"},{"attributes":{},"id":"11963","type":"Selection"},{"attributes":{},"id":"11382","type":"WheelZoomTool"},{"attributes":{},"id":"11367","type":"DataRange1d"},{"attributes":{"coordinates":null,"formatter":{"id":"11888"},"group":null,"major_label_policy":{"id":"11889"},"ticker":{"id":"11374"},"visible":false},"id":"11373","type":"LinearAxis"},{"attributes":{},"id":"11365","type":"DataRange1d"},{"attributes":{"tools":[{"id":"11348"},{"id":"11349"},{"id":"11350"},{"id":"11351"},{"id":"11352"},{"id":"11353"}]},"id":"11355","type":"Toolbar"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"11885"},"group":null,"major_label_policy":{"id":"11886"},"ticker":{"id":"11378"},"visible":false},"id":"11377","type":"LinearAxis"},{"attributes":{},"id":"11369","type":"LinearScale"},{"attributes":{},"id":"11385","type":"ResetTool"},{"attributes":{"axis":{"id":"11373"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"11376","type":"Grid"},{"attributes":{},"id":"11384","type":"SaveTool"},{"attributes":{"coordinates":null,"group":null,"text":"V at position x"},"id":"11363","type":"Title"},{"attributes":{},"id":"11374","type":"BasicTicker"},{"attributes":{"data":{"x":[-1.6666666666666667,0,0,-1.6666666666666667],"y":[-10,-10,10,10]},"selected":{"id":"11909"},"selection_policy":{"id":"11908"}},"id":"11395","type":"ColumnDataSource"},{"attributes":{},"id":"11371","type":"LinearScale"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11387","type":"BoxAnnotation"},{"attributes":{},"id":"11378","type":"BasicTicker"},{"attributes":{},"id":"11386","type":"HelpTool"},{"attributes":{},"id":"11381","type":"PanTool"},{"attributes":{},"id":"11916","type":"UnionRenderers"},{"attributes":{},"id":"11190","type":"HelpTool"},{"attributes":{},"id":"11917","type":"Selection"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"11191","type":"BoxAnnotation"},{"attributes":{"data":{"x":[-3.0,3.0],"y":[0,0]},"selected":{"id":"11931"},"selection_policy":{"id":"11930"}},"id":"11211","type":"ColumnDataSource"},{"attributes":{"text_baseline":{"value":"top"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11433","type":"Text"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11398","type":"Line"},{"attributes":{"data":{"x":[-1.6666666666666667,0,0,-1.6666666666666667],"y":[-10,-10,10,10]},"selected":{"id":"11949"},"selection_policy":{"id":"11948"}},"id":"11401","type":"ColumnDataSource"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11396","type":"Line"},{"attributes":{"source":{"id":"11199"}},"id":"11204","type":"CDSView"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11212","type":"Line"},{"attributes":{"coordinates":null,"end":{"id":"11407"},"group":null,"line_color":{"value":"red"},"line_width":{"value":0.0},"source":{"id":"11855"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":0}},"id":"11408","type":"Arrow"},{"attributes":{"source":{"id":"11395"}},"id":"11400","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11202","type":"Line"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11404","type":"Line"},{"attributes":{"tools":[{"id":"11185"},{"id":"11186"},{"id":"11187"},{"id":"11188"},{"id":"11189"},{"id":"11190"}]},"id":"11192","type":"Toolbar"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11397","type":"Line"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"marker":{"value":"square"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y_var"}},"id":"11447","type":"Scatter"},{"attributes":{"data":{"x":[0,-0.0,-0.0,-0.0,-0.0,-0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"11939"},"selection_policy":{"id":"11938"}},"id":"11217","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"10596"},"glyph":{"id":"11445"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11447"},"nonselection_glyph":{"id":"11446"},"view":{"id":"11449"}},"id":"11448","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11207","type":"Line"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11402","type":"Line"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11200","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11201","type":"Line"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11403","type":"Line"},{"attributes":{"source":{"id":"11401"}},"id":"11406","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11285","type":"Line"},{"attributes":{"source":{"id":"11283"}},"id":"11288","type":"CDSView"},{"attributes":{"coordinates":null,"end":{"id":"11410"},"group":null,"line_color":{"value":"red"},"line_width":{"value":0.0},"source":{"id":"11890"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":0}},"id":"11411","type":"Arrow"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11206","type":"Line"},{"attributes":{},"id":"11919","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"11413"},"glyph":{"id":"11415"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11417"},"nonselection_glyph":{"id":"11416"},"view":{"id":"11419"}},"id":"11418","type":"GlyphRenderer"},{"attributes":{"source":{"id":"10595"}},"id":"11210","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11208","type":"Line"},{"attributes":{"text_baseline":{"value":"middle"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11439","type":"Text"},{"attributes":{},"id":"11920","type":"Selection"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]},"y":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"11911"},"selection_policy":{"id":"11910"}},"id":"11413","type":"ColumnDataSource"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11284","type":"Line"},{"attributes":{"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"11415","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11220","type":"Line"},{"attributes":{},"id":"11921","type":"UnionRenderers"},{"attributes":{"data":{"x":[0.0],"y":[0.0]},"selected":{"id":"11913"},"selection_policy":{"id":"11912"}},"id":"11420","type":"ColumnDataSource"},{"attributes":{"data":{"x":[0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"11956"},"selection_policy":{"id":"11955"}},"id":"11235","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11214","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11211"},"glyph":{"id":"11212"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11214"},"nonselection_glyph":{"id":"11213"},"view":{"id":"11216"}},"id":"11215","type":"GlyphRenderer"},{"attributes":{"data":{"text":[""],"x":[6],"y":[-5]},"selected":{"id":"11917"},"selection_policy":{"id":"11916"}},"id":"11432","type":"ColumnDataSource"},{"attributes":{},"id":"11922","type":"Selection"},{"attributes":{"line_alpha":0.1,"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"11416","type":"Line"},{"attributes":{"data":{"x":[-30.0,30.0],"y":[100.0,100.0]},"selected":{"id":"11941"},"selection_policy":{"id":"11940"}},"id":"11229","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11213","type":"Line"},{"attributes":{"source":{"id":"11211"}},"id":"11216","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"11217"},"glyph":{"id":"11218"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11220"},"nonselection_glyph":{"id":"11219"},"view":{"id":"11222"}},"id":"11221","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"11417","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11422","type":"Scatter"},{"attributes":{"source":{"id":"10595"}},"id":"11246","type":"CDSView"},{"attributes":{"source":{"id":"11413"}},"id":"11419","type":"CDSView"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11218","type":"Line"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11225","type":"Line"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11423","type":"Scatter"},{"attributes":{"source":{"id":"11217"}},"id":"11222","type":"CDSView"},{"attributes":{"text_alpha":{"value":0.1},"text_baseline":{"value":"top"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11434","type":"Text"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11219","type":"Line"},{"attributes":{"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11427","type":"Text"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"11286","type":"Line"},{"attributes":{"text_alpha":{"value":0.2},"text_baseline":{"value":"top"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11435","type":"Text"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11224","type":"Line"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"11421","type":"Scatter"},{"attributes":{"data":{"x":[-1.2,1.2],"y":[0,0]},"selected":{"id":"11958"},"selection_policy":{"id":"11957"}},"id":"11247","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"11283"},"glyph":{"id":"11284"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11286"},"nonselection_glyph":{"id":"11285"},"view":{"id":"11288"}},"id":"11287","type":"GlyphRenderer"},{"attributes":{"text_alpha":{"value":0.1},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11428","type":"Text"},{"attributes":{},"id":"11923","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"11420"},"glyph":{"id":"11421"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11423"},"nonselection_glyph":{"id":"11422"},"view":{"id":"11425"}},"id":"11424","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11244","type":"Line"},{"attributes":{"source":{"id":"11420"}},"id":"11425","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11226","type":"Line"},{"attributes":{"data":{"text":[""],"x":[5],"y":[0]},"selected":{"id":"11951"},"selection_policy":{"id":"11950"}},"id":"11438","type":"ColumnDataSource"},{"attributes":{},"id":"11924","type":"Selection"},{"attributes":{"data":{"text":[""],"x":[11.0],"y":[1]},"selected":{"id":"11915"},"selection_policy":{"id":"11914"}},"id":"11426","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":0.0}},"id":"11407","type":"VeeHead"},{"attributes":{"source":{"id":"10595"}},"id":"11228","type":"CDSView"},{"attributes":{"text_alpha":{"value":0.2},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11429","type":"Text"},{"attributes":{"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"11230","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11426"},"glyph":{"id":"11427"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11429"},"nonselection_glyph":{"id":"11428"},"view":{"id":"11431"}},"id":"11430","type":"GlyphRenderer"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11242","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11247"},"glyph":{"id":"11248"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11250"},"nonselection_glyph":{"id":"11249"},"view":{"id":"11252"}},"id":"11251","type":"GlyphRenderer"},{"attributes":{"source":{"id":"11426"}},"id":"11431","type":"CDSView"},{"attributes":{"below":[{"id":"11340"}],"center":[{"id":"11343"},{"id":"11347"},{"id":"11408"}],"height":200,"left":[{"id":"11344"}],"match_aspect":true,"renderers":[{"id":"11399"},{"id":"11418"},{"id":"11424"},{"id":"11430"},{"id":"11436"}],"title":{"id":"11330"},"toolbar":{"id":"11355"},"toolbar_location":null,"width":200,"x_range":{"id":"11332"},"x_scale":{"id":"11336"},"y_range":{"id":"11334"},"y_scale":{"id":"11338"}},"id":"11329","subtype":"Figure","type":"Plot"},{"attributes":{"text_alpha":{"value":0.1},"text_baseline":{"value":"middle"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11440","type":"Text"},{"attributes":{"coordinates":null,"data_source":{"id":"10595"},"glyph":{"id":"11260"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11262"},"nonselection_glyph":{"id":"11261"},"view":{"id":"11264"}},"id":"11263","type":"GlyphRenderer"},{"attributes":{"source":{"id":"11432"}},"id":"11437","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"11232","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"11432"},"glyph":{"id":"11433"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11435"},"nonselection_glyph":{"id":"11434"},"view":{"id":"11437"}},"id":"11436","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"11229"},"glyph":{"id":"11230"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11232"},"nonselection_glyph":{"id":"11231"},"view":{"id":"11234"}},"id":"11233","type":"GlyphRenderer"},{"attributes":{"source":{"id":"11229"}},"id":"11234","type":"CDSView"},{"attributes":{"source":{"id":"11438"}},"id":"11443","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"11231","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11238","type":"Line"},{"attributes":{"text_alpha":{"value":0.2},"text_baseline":{"value":"middle"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"11441","type":"Text"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11237","type":"Line"},{"attributes":{},"id":"11925","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"11438"},"glyph":{"id":"11439"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"11441"},"nonselection_glyph":{"id":"11440"},"view":{"id":"11443"}},"id":"11442","type":"GlyphRenderer"},{"attributes":{"source":{"id":"11235"}},"id":"11240","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"11243","type":"Line"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"11236","type":"Line"},{"attributes":{},"id":"11926","type":"Selection"},{"attributes":{},"id":"11953","type":"UnionRenderers"},{"attributes":{},"id":"11879","type":"BasicTickFormatter"},{"attributes":{},"id":"11954","type":"Selection"},{"attributes":{},"id":"11955","type":"UnionRenderers"},{"attributes":{},"id":"11880","type":"AllLabels"},{"attributes":{},"id":"11956","type":"Selection"},{"attributes":{},"id":"11882","type":"BasicTickFormatter"},{"attributes":{},"id":"11883","type":"AllLabels"},{"attributes":{},"id":"11846","type":"UnionRenderers"},{"attributes":{},"id":"11847","type":"Selection"},{"attributes":{},"id":"11957","type":"UnionRenderers"},{"attributes":{},"id":"11958","type":"Selection"},{"attributes":{},"id":"11885","type":"BasicTickFormatter"},{"attributes":{},"id":"11886","type":"AllLabels"},{"attributes":{},"id":"11888","type":"BasicTickFormatter"},{"attributes":{},"id":"11889","type":"AllLabels"}],"root_ids":["11653"]},"title":"Bokeh Application","version":"2.4.2"}}
        </script>
        <script type="text/javascript">
          (function() {
            const fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  const docs_json = document.getElementById('15386').textContent;
                  const render_items = [{"docid":"b7563e4b-e8d8-4463-9722-07bec94ca3f8","root_ids":["11653"],"roots":{"11653":"5720d249-1a91-4784-bc68-22774a9817b2"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    let attempts = 0;
                    const timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>