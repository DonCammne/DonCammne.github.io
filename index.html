



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Static HTML file</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.4.2.min.js"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.4.2.min.js"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="50a654f0-f7e1-4f79-b545-aa236d11267e" data-root-id="6858"></div>
            
          
        
      
      
        <script type="application/json" id="10591">
          {"5c043f96-a055-4bec-b2b1-002fbff75659":{"defs":[],"roots":{"references":[{"attributes":{"data":{},"selected":{"id":"6949"},"selection_policy":{"id":"6948"}},"id":"6888","type":"ColumnDataSource"},{"attributes":{},"id":"6901","type":"Selection"},{"attributes":{},"id":"6905","type":"Selection"},{"attributes":{"data":{},"selected":{"id":"6945"},"selection_policy":{"id":"6944"}},"id":"6886","type":"ColumnDataSource"},{"attributes":{},"id":"6900","type":"UnionRenderers"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":2.8382557567571505}},"id":"6780","type":"VeeHead"},{"attributes":{"data":{},"selected":{"id":"6943"},"selection_policy":{"id":"6942"}},"id":"6885","type":"ColumnDataSource"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6137","type":"Line"},{"attributes":{},"id":"6903","type":"Selection"},{"attributes":{"coordinates":null,"end":{"id":"6780"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.4054651081081644},"source":{"id":"6882"},"start":null,"x_end":{"value":95.0},"x_start":{"value":94.5},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"6781","type":"Arrow"},{"attributes":{},"id":"6904","type":"UnionRenderers"},{"attributes":{},"id":"6902","type":"UnionRenderers"},{"attributes":{"data":{},"selected":{"id":"6941"},"selection_policy":{"id":"6940"}},"id":"6884","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6138","type":"Line"},{"attributes":{"source":{"id":"5949"}},"id":"5954","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.6},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.6},"hatch_color":{"value":"navy"},"height":{"value":158.4},"line_alpha":{"value":0.6},"line_color":{"value":"navy"},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"5854","type":"Rect"},{"attributes":{"end":560.0,"start":-80.0},"id":"5807","type":"Range1d"},{"attributes":{"below":[{"id":"5813"}],"center":[{"id":"5816"},{"id":"5820"},{"id":"5956"}],"height":200,"left":[{"id":"5817"}],"min_border_left":0,"renderers":[{"id":"5839"},{"id":"5845"},{"id":"5851"},{"id":"5857"},{"id":"5863"},{"id":"5962"},{"id":"6653"}],"title":{"id":"5803"},"toolbar":{"id":"5828"},"toolbar_location":null,"x_range":{"id":"5805"},"x_scale":{"id":"5809"},"y_range":{"id":"5807"},"y_scale":{"id":"5811"}},"id":"5802","subtype":"Figure","type":"Plot"},{"attributes":{"fill_color":{"value":"lightgray"},"height":{"value":200},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"5836","type":"Rect"},{"attributes":{"data":{"x":[3.0],"y":[100.0]},"selected":{"id":"7029"},"selection_policy":{"id":"7028"}},"id":"5835","type":"ColumnDataSource"},{"attributes":{},"id":"5809","type":"LinearScale"},{"attributes":{"data":{"x":[3.0],"y":[480.0]},"selected":{"id":"7035"},"selection_policy":{"id":"7034"}},"id":"5853","type":"ColumnDataSource"},{"attributes":{"end":7.2,"start":-1.2000000000000002},"id":"5805","type":"Range1d"},{"attributes":{"data":{},"selected":{"id":"6947"},"selection_policy":{"id":"6946"}},"id":"6887","type":"ColumnDataSource"},{"attributes":{},"id":"5811","type":"LinearScale"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"black"},"height":{"value":30.0},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6730","type":"Rect"},{"attributes":{},"id":"5814","type":"BasicTicker"},{"attributes":{"axis_label":"Position [m]","coordinates":null,"formatter":{"id":"6967"},"group":null,"major_label_policy":{"id":"6968"},"ticker":{"id":"5814"}},"id":"5813","type":"LinearAxis"},{"attributes":{"axis":{"id":"5813"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"5816","type":"Grid"},{"attributes":{"coordinates":null,"group":null,"text":"Simple supported beam"},"id":"5803","type":"Title"},{"attributes":{"coordinates":null,"data_source":{"id":"5797"},"glyph":{"id":"6131"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6133"},"nonselection_glyph":{"id":"6132"},"view":{"id":"6135"}},"id":"6134","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":0.0}},"id":"6009","type":"VeeHead"},{"attributes":{"coordinates":null,"data_source":{"id":"6012"},"glyph":{"id":"6014"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6016"},"nonselection_glyph":{"id":"6015"},"view":{"id":"6018"}},"id":"6017","type":"GlyphRenderer"},{"attributes":{"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6131","type":"Line"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]},"y":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"7008"},"selection_policy":{"id":"7007"}},"id":"6012","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6132","type":"Line"},{"attributes":{},"id":"5885","type":"WheelZoomTool"},{"attributes":{"coordinates":null,"end":{"id":"6009"},"group":null,"line_color":{"value":"red"},"line_width":{"value":0.0},"source":{"id":"6961"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":0}},"id":"6010","type":"Arrow"},{"attributes":{"below":[{"id":"6285"}],"center":[{"id":"6288"},{"id":"6292"}],"height":200,"left":[{"id":"6289"}],"renderers":[{"id":"6518"},{"id":"6524"},{"id":"6530"}],"title":{"id":"6276"},"toolbar":{"id":"6300"},"toolbar_location":null,"width":200,"x_range":{"id":"6278"},"x_scale":{"id":"6281"},"y_range":{"id":"6183"},"y_scale":{"id":"6283"}},"id":"6275","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"height":{"value":320.0},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"width":{"value":160.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"5900","type":"Rect"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7024"},"group":null,"major_label_policy":{"id":"7025"},"ticker":{"id":"5904"}},"id":"5880","type":"LinearAxis"},{"attributes":{},"id":"7028","type":"UnionRenderers"},{"attributes":{"coordinates":null,"end":{"id":"6006"},"group":null,"line_color":{"value":"red"},"line_width":{"value":0.0},"source":{"id":"6960"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":0}},"id":"6007","type":"Arrow"},{"attributes":{"axis":{"id":"5880"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"5883","type":"Grid"},{"attributes":{"line_alpha":0.2,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6133","type":"Line"},{"attributes":{"below":[{"id":"6072"}],"center":[{"id":"6075"},{"id":"6079"}],"height":160,"left":[{"id":"6076"}],"renderers":[{"id":"6140"},{"id":"6146"},{"id":"6170"}],"title":{"id":"6892"},"toolbar":{"id":"6087"},"toolbar_location":null,"x_range":{"id":"5805"},"x_scale":{"id":"6068"},"y_range":{"id":"6066"},"y_scale":{"id":"6070"}},"id":"6064","subtype":"Figure","type":"Plot"},{"attributes":{"coordinates":null,"data_source":{"id":"5797"},"glyph":{"id":"6155"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6157"},"nonselection_glyph":{"id":"6156"},"view":{"id":"6159"}},"id":"6158","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"hatch_alpha":{"value":0.1},"hatch_pattern":{"value":"/"},"height":{"value":200},"line_alpha":{"value":0.1},"line_width":{"value":3},"width":{"value":100},"x":{"field":"x"},"y":{"field":"y"}},"id":"5909","type":"Rect"},{"attributes":{"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6014","type":"Line"},{"attributes":{"line_alpha":0.2,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6145","type":"Line"},{"attributes":{},"id":"7029","type":"Selection"},{"attributes":{"data":{"x":[0.0],"y":[0.0]},"selected":{"id":"7010"},"selection_policy":{"id":"7009"}},"id":"6019","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6144","type":"Line"},{"attributes":{},"id":"6036","type":"DataRange1d"},{"attributes":{"source":{"id":"5797"}},"id":"6135","type":"CDSView"},{"attributes":{},"id":"5889","type":"HelpTool"},{"attributes":{},"id":"5884","type":"PanTool"},{"attributes":{"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6143","type":"Line"},{"attributes":{"overlay":{"id":"5890"}},"id":"5886","type":"BoxZoomTool"},{"attributes":{"line_alpha":0.1,"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6015","type":"Line"},{"attributes":{},"id":"6214","type":"DataRange1d"},{"attributes":{},"id":"5887","type":"SaveTool"},{"attributes":{},"id":"5888","type":"ResetTool"},{"attributes":{"line_alpha":0.2,"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6016","type":"Line"},{"attributes":{"below":[{"id":"6042"}],"center":[{"id":"6045"},{"id":"6049"}],"height":160,"left":[{"id":"6046"}],"renderers":[{"id":"6128"},{"id":"6134"},{"id":"6164"}],"title":{"id":"6033"},"toolbar":{"id":"6057"},"toolbar_location":null,"x_range":{"id":"5805"},"x_scale":{"id":"6038"},"y_range":{"id":"6036"},"y_scale":{"id":"6040"}},"id":"6032","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"V"}},"id":"6167","type":"Circle"},{"attributes":{"coordinates":null,"data_source":{"id":"6148"},"glyph":{"id":"6149"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6151"},"nonselection_glyph":{"id":"6150"},"view":{"id":"6153"}},"id":"6152","type":"GlyphRenderer"},{"attributes":{"source":{"id":"6012"}},"id":"6018","type":"CDSView"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"5890","type":"BoxAnnotation"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"N"}},"id":"6161","type":"Circle"},{"attributes":{"below":[{"id":"6102"}],"center":[{"id":"6105"},{"id":"6109"}],"height":200,"left":[{"id":"6106"}],"renderers":[{"id":"6152"},{"id":"6158"},{"id":"6176"}],"title":{"id":"6894"},"toolbar":{"id":"6117"},"toolbar_location":null,"x_range":{"id":"5805"},"x_scale":{"id":"6098"},"y_range":{"id":"6096"},"y_scale":{"id":"6100"}},"id":"6094","subtype":"Figure","type":"Plot"},{"attributes":{"interval":50},"id":"5904","type":"SingleIntervalTicker"},{"attributes":{"coordinates":null,"data_source":{"id":"6124"},"glyph":{"id":"6125"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6127"},"nonselection_glyph":{"id":"6126"},"view":{"id":"6129"}},"id":"6128","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6151","type":"Line"},{"attributes":{},"id":"7113","type":"UnionRenderers"},{"attributes":{"source":{"id":"6136"}},"id":"6141","type":"CDSView"},{"attributes":{"source":{"id":"5797"}},"id":"6147","type":"CDSView"},{"attributes":{},"id":"6038","type":"LinearScale"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6149","type":"Line"},{"attributes":{},"id":"6040","type":"LinearScale"},{"attributes":{},"id":"7114","type":"Selection"},{"attributes":{"axis":{"id":"6042"},"coordinates":null,"group":null,"ticker":null},"id":"6045","type":"Grid"},{"attributes":{"data":{"x":[0,0.0,0.06060606060606061,0.12121212121212122,0.18181818181818182,0.24242424242424243,0.30303030303030304,0.36363636363636365,0.42424242424242425,0.48484848484848486,0.5454545454545454,0.6060606060606061,0.6666666666666667,0.7272727272727273,0.7878787878787878,0.8484848484848485,0.9090909090909092,0.9696969696969697,1.0303030303030303,1.0909090909090908,1.1515151515151516,1.2121212121212122,1.2727272727272727,1.3333333333333335,1.393939393939394,1.4545454545454546,1.5151515151515151,1.5757575757575757,1.6363636363636365,1.696969696969697,1.7575757575757576,1.8181818181818183,1.878787878787879,1.9393939393939394,2.0,2.0606060606060606,2.121212121212121,2.1818181818181817,2.2424242424242427,2.303030303030303,2.3636363636363638,2.4242424242424243,2.484848484848485,2.5454545454545454,2.606060606060606,2.666666666666667,2.7272727272727275,2.787878787878788,2.8484848484848486,2.909090909090909,2.9696969696969697,3.0303030303030303,3.090909090909091,3.1515151515151514,3.2121212121212124,3.272727272727273,3.3333333333333335,3.393939393939394,3.4545454545454546,3.515151515151515,3.5757575757575757,3.6363636363636367,3.6969696969696972,3.757575757575758,3.8181818181818183,3.878787878787879,3.9393939393939394,4.0,4.0606060606060606,4.121212121212121,4.181818181818182,4.242424242424242,4.303030303030303,4.363636363636363,4.424242424242425,4.484848484848485,4.545454545454546,4.606060606060606,4.666666666666667,4.7272727272727275,4.787878787878788,4.848484848484849,4.909090909090909,4.96969696969697,5.03030303030303,5.090909090909091,5.151515151515151,5.212121212121212,5.2727272727272725,5.333333333333334,5.3939393939393945,5.454545454545455,5.515151515151516,5.575757575757576,5.636363636363637,5.696969696969697,5.757575757575758,5.818181818181818,5.878787878787879,5.9393939393939394,6.0,6],"y":[0,-0.0,-0.7199265381083563,-1.4251606978879707,-2.115702479338843,-2.7915518824609737,-3.452708907254362,-4.099173553719009,-4.730945821854913,-5.348025711662076,-5.950413223140496,-6.5381083562901745,-7.111111111111112,-7.669421487603306,-8.213039485766759,-8.74196510560147,-9.25619834710744,-9.755739210284665,-10.240587695133149,-10.710743801652892,-11.166207529843895,-11.606978879706153,-12.03305785123967,-12.444444444444445,-12.841138659320476,-13.223140495867767,-13.590449954086317,-13.943067033976122,-14.28099173553719,-14.604224058769512,-14.912764003673093,-15.206611570247935,-15.485766758494032,-15.750229568411386,-16.0,-16.235078053259873,-16.455463728191,-16.661157024793386,-16.852157943067034,-17.02846648301194,-17.1900826446281,-17.33700642791552,-17.469237832874196,-17.58677685950413,-17.689623507805326,-17.77777777777778,-17.85123966942149,-17.910009182736456,-17.95408631772268,-17.983471074380166,-17.99816345270891,-17.99816345270891,-17.983471074380166,-17.95408631772268,-17.910009182736456,-17.85123966942149,-17.77777777777778,-17.689623507805326,-17.58677685950413,-17.469237832874196,-17.33700642791552,-17.1900826446281,-17.028466483011936,-16.852157943067034,-16.661157024793386,-16.455463728191,-16.235078053259873,-16.0,-15.750229568411386,-15.485766758494032,-15.206611570247935,-14.912764003673095,-14.604224058769514,-14.280991735537192,-13.943067033976122,-13.590449954086315,-13.223140495867765,-12.841138659320475,-12.444444444444443,-12.033057851239668,-11.606978879706151,-11.166207529843893,-10.710743801652892,-10.240587695133149,-9.755739210284665,-9.25619834710744,-8.741965105601471,-8.21303948576676,-7.669421487603308,-7.111111111111105,-6.538108356290169,-5.950413223140491,-5.348025711662071,-4.730945821854909,-4.099173553719005,-3.452708907254359,-2.791551882460971,-2.1157024793388413,-1.4251606978879694,-0.7199265381083556,0.0,0]},"selected":{"id":"7052"},"selection_policy":{"id":"7051"}},"id":"6148","type":"ColumnDataSource"},{"attributes":{},"id":"6051","type":"WheelZoomTool"},{"attributes":{},"id":"7030","type":"UnionRenderers"},{"attributes":{},"id":"6066","type":"DataRange1d"},{"attributes":{"axis":{"id":"5931"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"5934","type":"Grid"},{"attributes":{"coordinates":null,"group":null,"text":"N V M Diagrams"},"id":"6033","type":"Title"},{"attributes":{"source":{"id":"6148"}},"id":"6153","type":"CDSView"},{"attributes":{"axis_label":"Position [m]","coordinates":null,"formatter":{"id":"6974"},"group":null,"major_label_policy":{"id":"6975"},"ticker":{"id":"6043"},"visible":false},"id":"6042","type":"LinearAxis"},{"attributes":{},"id":"5940","type":"HelpTool"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6150","type":"Line"},{"attributes":{},"id":"7031","type":"Selection"},{"attributes":{},"id":"6043","type":"BasicTicker"},{"attributes":{"line_alpha":0.1,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6156","type":"Line"},{"attributes":{"coordinates":null,"formatter":{"id":"6951"},"group":null,"major_label_policy":{"id":"6952"},"ticker":{"id":"5932"},"visible":false},"id":"5931","type":"LinearAxis"},{"attributes":{"line_alpha":0.2,"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6157","type":"Line"},{"attributes":{"axis_label":"Axial force N [kN]","coordinates":null,"formatter":{"id":"6971"},"group":null,"major_label_policy":{"id":"6972"},"ticker":{"id":"6047"}},"id":"6046","type":"LinearAxis"},{"attributes":{"line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6155","type":"Line"},{"attributes":{"axis":{"id":"6046"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6049","type":"Grid"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"M"}},"id":"6173","type":"Circle"},{"attributes":{"coordinates":null,"data_source":{"id":"5801"},"glyph":{"id":"6161"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6163"},"nonselection_glyph":{"id":"6162"},"view":{"id":"6165"}},"id":"6164","type":"GlyphRenderer"},{"attributes":{"data":{"x":[30.0],"y":[0]},"selected":{"id":"6998"},"selection_policy":{"id":"6997"}},"id":"5949","type":"ColumnDataSource"},{"attributes":{},"id":"6047","type":"BasicTicker"},{"attributes":{"source":{"id":"5797"}},"id":"6159","type":"CDSView"},{"attributes":{"source":{"id":"5801"}},"id":"6165","type":"CDSView"},{"attributes":{},"id":"6055","type":"HelpTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"N"}},"id":"6162","type":"Circle"},{"attributes":{},"id":"6050","type":"PanTool"},{"attributes":{},"id":"7115","type":"UnionRenderers"},{"attributes":{"overlay":{"id":"6056"}},"id":"6052","type":"BoxZoomTool"},{"attributes":{},"id":"6053","type":"SaveTool"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"height":{"value":320.0},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"width":{"value":160.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"5901","type":"Rect"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"N"}},"id":"6163","type":"Circle"},{"attributes":{},"id":"6054","type":"ResetTool"},{"attributes":{},"id":"7116","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"5801"},"glyph":{"id":"6167"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6169"},"nonselection_glyph":{"id":"6168"},"view":{"id":"6171"}},"id":"6170","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"V"}},"id":"6168","type":"Circle"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6056","type":"BoxAnnotation"},{"attributes":{"source":{"id":"5898"}},"id":"5903","type":"CDSView"},{"attributes":{},"id":"7032","type":"UnionRenderers"},{"attributes":{},"id":"6070","type":"LinearScale"},{"attributes":{"below":[{"id":"6382"}],"center":[{"id":"6385"},{"id":"6389"}],"height":200,"renderers":[{"id":"6480"},{"id":"6486"},{"id":"6492"}],"right":[{"id":"6386"}],"title":{"id":"6373"},"toolbar":{"id":"6397"},"toolbar_location":null,"width":200,"x_range":{"id":"6375"},"x_scale":{"id":"6378"},"y_range":{"id":"6312"},"y_scale":{"id":"6380"}},"id":"6372","subtype":"Figure","type":"Plot"},{"attributes":{"fill_color":{"value":"green"},"line_color":{"value":"green"},"size":{"value":16.785266909588593}},"id":"5955","type":"VeeHead"},{"attributes":{},"id":"7033","type":"Selection"},{"attributes":{},"id":"6190","type":"BasicTicker"},{"attributes":{"source":{"id":"5801"}},"id":"6171","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"V"}},"id":"6169","type":"Circle"},{"attributes":{"coordinates":null,"data_source":{"id":"5801"},"glyph":{"id":"6173"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6175"},"nonselection_glyph":{"id":"6174"},"view":{"id":"6177"}},"id":"6176","type":"GlyphRenderer"},{"attributes":{"tools":[{"id":"5884"},{"id":"5885"},{"id":"5886"},{"id":"5887"},{"id":"5888"},{"id":"5889"}]},"id":"5891","type":"Toolbar"},{"attributes":{"coordinates":null,"data_source":{"id":"5898"},"glyph":{"id":"5899"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5901"},"nonselection_glyph":{"id":"5900"},"view":{"id":"5903"}},"id":"5902","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"M"}},"id":"6174","type":"Circle"},{"attributes":{"tools":[{"id":"6197"},{"id":"6198"},{"id":"6199"},{"id":"6200"},{"id":"6201"},{"id":"6202"}]},"id":"6204","type":"Toolbar"},{"attributes":{"coordinates":null,"end":{"id":"5955"},"group":null,"line_color":{"value":"green"},"line_width":{"value":2.3978952727983707},"source":{"id":"6969"},"start":null,"x_end":{"value":6},"x_start":{"value":7.0},"y_end":{"value":0},"y_start":{"value":0}},"id":"5956","type":"Arrow"},{"attributes":{"below":[{"id":"6221"}],"center":[{"id":"6224"},{"id":"6228"}],"height":200,"left":[{"id":"6225"}],"renderers":[{"id":"6498"},{"id":"6504"},{"id":"6510"}],"title":{"id":"6212"},"toolbar":{"id":"6236"},"toolbar_location":null,"width":200,"x_range":{"id":"6214"},"x_scale":{"id":"6217"},"y_range":{"id":"6183"},"y_scale":{"id":"6219"}},"id":"6211","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"5932","type":"BasicTicker"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6139","type":"Line"},{"attributes":{"end":200,"js_property_callbacks":{"change:value":[{"id":"6832"}]},"start":10,"step":10,"title":"Change the width b [mm]","value":100},"id":"5914","type":"Slider"},{"attributes":{"source":{"id":"5801"}},"id":"6177","type":"CDSView"},{"attributes":{},"id":"7117","type":"UnionRenderers"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"M"}},"id":"6175","type":"Circle"},{"attributes":{},"id":"6181","type":"DataRange1d"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6116","type":"BoxAnnotation"},{"attributes":{"below":[{"id":"6253"}],"center":[{"id":"6256"},{"id":"6260"}],"height":200,"left":[{"id":"6257"}],"renderers":[{"id":"6426"},{"id":"6432"},{"id":"6438"}],"title":{"id":"6244"},"toolbar":{"id":"6268"},"toolbar_location":null,"width":200,"x_range":{"id":"6246"},"x_scale":{"id":"6249"},"y_range":{"id":"6183"},"y_scale":{"id":"6251"}},"id":"6243","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"white"},"hatch_alpha":{"value":0.2},"hatch_pattern":{"value":"/"},"height":{"value":200},"line_alpha":{"value":0.2},"line_width":{"value":3},"width":{"value":100},"x":{"field":"x"},"y":{"field":"y"}},"id":"5910","type":"Rect"},{"attributes":{},"id":"7118","type":"Selection"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0},"height":{"value":18.0},"line_alpha":{"value":0},"line_color":{"value":"#1f77b4"},"width":{"value":72.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"5950","type":"Rect"},{"attributes":{"axis":{"id":"6072"},"coordinates":null,"group":null,"ticker":null},"id":"6075","type":"Grid"},{"attributes":{"coordinates":null,"data_source":{"id":"5907"},"glyph":{"id":"5908"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5910"},"nonselection_glyph":{"id":"5909"},"view":{"id":"5912"}},"id":"5911","type":"GlyphRenderer"},{"attributes":{"tools":[{"id":"5935"},{"id":"5936"},{"id":"5937"},{"id":"5938"},{"id":"5939"},{"id":"5940"}]},"id":"5942","type":"Toolbar"},{"attributes":{"below":[{"id":"6189"}],"center":[{"id":"6192"},{"id":"6196"}],"height":200,"left":[{"id":"6193"}],"renderers":[{"id":"6408"},{"id":"6414"},{"id":"6420"}],"title":{"id":"6179"},"toolbar":{"id":"6204"},"toolbar_location":null,"width":200,"x_range":{"id":"6181"},"x_scale":{"id":"6185"},"y_range":{"id":"6183"},"y_scale":{"id":"6187"}},"id":"6178","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"6187","type":"LinearScale"},{"attributes":{"source":{"id":"5907"}},"id":"5912","type":"CDSView"},{"attributes":{"below":[{"id":"5927"}],"center":[{"id":"5930"},{"id":"5934"},{"id":"5995"},{"id":"5998"},{"id":"6001"},{"id":"6004"},{"id":"6007"},{"id":"6010"}],"height":200,"left":[{"id":"5931"}],"match_aspect":true,"renderers":[{"id":"5953"},{"id":"5968"},{"id":"5974"},{"id":"5980"},{"id":"5986"},{"id":"5992"},{"id":"6017"},{"id":"6023"}],"title":{"id":"5917"},"toolbar":{"id":"5942"},"toolbar_location":null,"x_range":{"id":"5919"},"x_scale":{"id":"5923"},"y_range":{"id":"5921"},"y_scale":{"id":"5925"}},"id":"5916","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"6183","type":"DataRange1d"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"height":{"value":18.0},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"width":{"value":72.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"5951","type":"Rect"},{"attributes":{"coordinates":null,"group":null,"text":"Axial stress"},"id":"6179","type":"Title"},{"attributes":{},"id":"7034","type":"UnionRenderers"},{"attributes":{"end":400,"js_property_callbacks":{"change:value":[{"id":"6833"}]},"start":20,"step":20,"title":"Change the height h [mm]","value":200},"id":"5915","type":"Slider"},{"attributes":{},"id":"6073","type":"BasicTicker"},{"attributes":{},"id":"5919","type":"DataRange1d"},{"attributes":{"axis":{"id":"6189"},"coordinates":null,"group":null,"ticker":null},"id":"6192","type":"Grid"},{"attributes":{},"id":"6185","type":"LinearScale"},{"attributes":{},"id":"7035","type":"Selection"},{"attributes":{},"id":"5921","type":"DataRange1d"},{"attributes":{"axis_label":"Stress \u03c3\u2099 [MPa]","coordinates":null,"formatter":{"id":"7070"},"group":null,"major_label_policy":{"id":"7071"},"ticker":{"id":"6190"}},"id":"6189","type":"LinearAxis"},{"attributes":{},"id":"5939","type":"ResetTool"},{"attributes":{},"id":"6217","type":"LinearScale"},{"attributes":{},"id":"5923","type":"LinearScale"},{"attributes":{},"id":"6096","type":"DataRange1d"},{"attributes":{},"id":"6198","type":"WheelZoomTool"},{"attributes":{"coordinates":null,"formatter":{"id":"6954"},"group":null,"major_label_policy":{"id":"6955"},"ticker":{"id":"5928"},"visible":false},"id":"5927","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"height":{"value":18.0},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"width":{"value":72.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"5952","type":"Rect"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7067"},"group":null,"major_label_policy":{"id":"7068"},"ticker":{"id":"6194"},"visible":false},"id":"6193","type":"LinearAxis"},{"attributes":{},"id":"6068","type":"LinearScale"},{"attributes":{"overlay":{"id":"5941"}},"id":"5937","type":"BoxZoomTool"},{"attributes":{"axis":{"id":"6193"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6196","type":"Grid"},{"attributes":{"coordinates":null,"group":null,"text":"Forces and Moments Scheme"},"id":"5917","type":"Title"},{"attributes":{},"id":"6194","type":"BasicTicker"},{"attributes":{},"id":"5936","type":"WheelZoomTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6203","type":"BoxAnnotation"},{"attributes":{"axis":{"id":"5927"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"5930","type":"Grid"},{"attributes":{"tools":[{"id":"6050"},{"id":"6051"},{"id":"6052"},{"id":"6053"},{"id":"6054"},{"id":"6055"}]},"id":"6057","type":"Toolbar"},{"attributes":{},"id":"7119","type":"UnionRenderers"},{"attributes":{"axis_label":"Position [m]","coordinates":null,"formatter":{"id":"6980"},"group":null,"major_label_policy":{"id":"6981"},"ticker":{"id":"6073"},"visible":false},"id":"6072","type":"LinearAxis"},{"attributes":{},"id":"5935","type":"PanTool"},{"attributes":{},"id":"5928","type":"BasicTicker"},{"attributes":{},"id":"6077","type":"BasicTicker"},{"attributes":{},"id":"6202","type":"HelpTool"},{"attributes":{"axis_label":"Axial force V [kN]","coordinates":null,"formatter":{"id":"6977"},"group":null,"major_label_policy":{"id":"6978"},"ticker":{"id":"6077"}},"id":"6076","type":"LinearAxis"},{"attributes":{},"id":"6197","type":"PanTool"},{"attributes":{},"id":"7120","type":"Selection"},{"attributes":{"axis":{"id":"6076"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6079","type":"Grid"},{"attributes":{"overlay":{"id":"6203"}},"id":"6199","type":"BoxZoomTool"},{"attributes":{},"id":"5925","type":"LinearScale"},{"attributes":{},"id":"6200","type":"SaveTool"},{"attributes":{},"id":"5938","type":"SaveTool"},{"attributes":{},"id":"6201","type":"ResetTool"},{"attributes":{"axis":{"id":"6318"},"coordinates":null,"group":null,"ticker":null},"id":"6321","type":"Grid"},{"attributes":{},"id":"7044","type":"Selection"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6501","type":"Line"},{"attributes":{"coordinates":null,"group":null,"text":"Shear stress"},"id":"6308","type":"Title"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6502","type":"Line"},{"attributes":{"data":{},"selected":{"id":"7042"},"selection_policy":{"id":"7041"}},"id":"6969","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6503","type":"Line"},{"attributes":{"source":{"id":"5800"}},"id":"6505","type":"CDSView"},{"attributes":{},"id":"6319","type":"BasicTicker"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6509","type":"Line"},{"attributes":{},"id":"6351","type":"BasicTicker"},{"attributes":{"axis_label":"Stress \u03c4\u1d65 [MPa]","coordinates":null,"formatter":{"id":"7100"},"group":null,"major_label_policy":{"id":"7101"},"ticker":{"id":"6319"}},"id":"6318","type":"LinearAxis"},{"attributes":{},"id":"7001","type":"UnionRenderers"},{"attributes":{"interval":0.0001},"id":"6512","type":"SingleIntervalTicker"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6522","type":"Line"},{"attributes":{},"id":"6316","type":"LinearScale"},{"attributes":{},"id":"7002","type":"Selection"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6507","type":"Line"},{"attributes":{},"id":"6327","type":"WheelZoomTool"},{"attributes":{"data":{"x":[-0.00012,0.00012],"y":[0,0]},"selected":{"id":"7131"},"selection_policy":{"id":"7130"}},"id":"6506","type":"ColumnDataSource"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7097"},"group":null,"major_label_policy":{"id":"7098"},"ticker":{"id":"6323"},"visible":false},"id":"6322","type":"LinearAxis"},{"attributes":{"coordinates":null,"data_source":{"id":"6506"},"glyph":{"id":"6507"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6509"},"nonselection_glyph":{"id":"6508"},"view":{"id":"6511"}},"id":"6510","type":"GlyphRenderer"},{"attributes":{"axis":{"id":"6322"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6325","type":"Grid"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]},"y":{"__ndarray__":"AAAAAAAAAACO4ziO4zg2QI7jOI7jOEZAqqqqqqqqUECO4ziO4zhWQHIcx3Ecx1tAqqqqqqqqYEAcx3Ecx3FjQI7jOI7jOGZAAAAAAAAAaUA=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"7139"},"selection_policy":{"id":"7138"}},"id":"6514","type":"ColumnDataSource"},{"attributes":{},"id":"6323","type":"BasicTicker"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6508","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"6514"},"glyph":{"id":"6515"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6517"},"nonselection_glyph":{"id":"6516"},"view":{"id":"6519"}},"id":"6518","type":"GlyphRenderer"},{"attributes":{},"id":"7045","type":"UnionRenderers"},{"attributes":{"source":{"id":"6506"}},"id":"6511","type":"CDSView"},{"attributes":{},"id":"6331","type":"HelpTool"},{"attributes":{"line_alpha":0.2,"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"6517","type":"Line"},{"attributes":{},"id":"6326","type":"PanTool"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"6515","type":"Line"},{"attributes":{"overlay":{"id":"6332"}},"id":"6328","type":"BoxZoomTool"},{"attributes":{},"id":"7046","type":"Selection"},{"attributes":{},"id":"6329","type":"SaveTool"},{"attributes":{},"id":"6330","type":"ResetTool"},{"attributes":{"source":{"id":"6514"}},"id":"6519","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"6516","type":"Line"},{"attributes":{},"id":"7003","type":"UnionRenderers"},{"attributes":{"interval":0.0001},"id":"6532","type":"SingleIntervalTicker"},{"attributes":{},"id":"7150","type":"UnionRenderers"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6521","type":"Line"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6332","type":"BoxAnnotation"},{"attributes":{},"id":"6375","type":"DataRange1d"},{"attributes":{},"id":"7004","type":"Selection"},{"attributes":{},"id":"7151","type":"Selection"},{"attributes":{},"id":"6541","type":"LinearScale"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6523","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6529","type":"Line"},{"attributes":{"source":{"id":"5800"}},"id":"6525","type":"CDSView"},{"attributes":{"axis":{"id":"6350"},"coordinates":null,"group":null,"ticker":null},"id":"6353","type":"Grid"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6527","type":"Line"},{"attributes":{},"id":"6971","type":"BasicTickFormatter"},{"attributes":{"data":{"x":[-0.00012,0.00012],"y":[0,0]},"selected":{"id":"7141"},"selection_policy":{"id":"7140"}},"id":"6526","type":"ColumnDataSource"},{"attributes":{},"id":"6972","type":"AllLabels"},{"attributes":{"coordinates":null,"data_source":{"id":"6526"},"glyph":{"id":"6527"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6529"},"nonselection_glyph":{"id":"6528"},"view":{"id":"6531"}},"id":"6530","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6528","type":"Line"},{"attributes":{},"id":"6974","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"6526"}},"id":"6531","type":"CDSView"},{"attributes":{"coordinates":null,"formatter":{"id":"7058"},"group":null,"major_label_policy":{"id":"7059"},"ticker":{"id":"6546"},"visible":false},"id":"6545","type":"LinearAxis"},{"attributes":{},"id":"6975","type":"AllLabels"},{"attributes":{},"id":"7005","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"6606"},"glyph":{"id":"6607"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6609"},"nonselection_glyph":{"id":"6608"},"view":{"id":"6611"}},"id":"6610","type":"GlyphRenderer"},{"attributes":{},"id":"6537","type":"DataRange1d"},{"attributes":{},"id":"6539","type":"DataRange1d"},{"attributes":{},"id":"7006","type":"Selection"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7055"},"group":null,"major_label_policy":{"id":"7056"},"ticker":{"id":"6550"},"visible":false},"id":"6549","type":"LinearAxis"},{"attributes":{},"id":"6554","type":"WheelZoomTool"},{"attributes":{"axis":{"id":"6545"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"6548","type":"Grid"},{"attributes":{"coordinates":null,"group":null,"text":"N and M at position x"},"id":"6535","type":"Title"},{"attributes":{"coordinates":null,"data_source":{"id":"6404"},"glyph":{"id":"6405"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6407"},"nonselection_glyph":{"id":"6406"},"view":{"id":"6409"}},"id":"6408","type":"GlyphRenderer"},{"attributes":{},"id":"6546","type":"BasicTicker"},{"attributes":{"axis":{"id":"6549"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"6552","type":"Grid"},{"attributes":{},"id":"6346","type":"LinearScale"},{"attributes":{},"id":"6543","type":"LinearScale"},{"attributes":{"below":[{"id":"6578"}],"center":[{"id":"6581"},{"id":"6585"},{"id":"6616"}],"height":200,"left":[{"id":"6582"}],"match_aspect":true,"renderers":[{"id":"6610"},{"id":"6647"}],"title":{"id":"6568"},"toolbar":{"id":"6593"},"toolbar_location":null,"width":200,"x_range":{"id":"6570"},"x_scale":{"id":"6574"},"y_range":{"id":"6572"},"y_scale":{"id":"6576"}},"id":"6567","subtype":"Figure","type":"Plot"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":0.0}},"id":"6612","type":"VeeHead"},{"attributes":{},"id":"6550","type":"BasicTicker"},{"attributes":{"tools":[{"id":"6326"},{"id":"6327"},{"id":"6328"},{"id":"6329"},{"id":"6330"},{"id":"6331"}]},"id":"6333","type":"Toolbar"},{"attributes":{},"id":"6558","type":"HelpTool"},{"attributes":{},"id":"6359","type":"WheelZoomTool"},{"attributes":{"coordinates":null,"group":null,"text":"Total stress \u03c3 and neutral axis"},"id":"6341","type":"Title"},{"attributes":{},"id":"6553","type":"PanTool"},{"attributes":{},"id":"7153","type":"UnionRenderers"},{"attributes":{},"id":"6348","type":"LinearScale"},{"attributes":{"overlay":{"id":"6559"}},"id":"6555","type":"BoxZoomTool"},{"attributes":{},"id":"6556","type":"SaveTool"},{"attributes":{"tools":[{"id":"6358"},{"id":"6359"},{"id":"6360"},{"id":"6361"},{"id":"6362"},{"id":"6363"}]},"id":"6365","type":"Toolbar"},{"attributes":{},"id":"6557","type":"ResetTool"},{"attributes":{},"id":"7154","type":"Selection"},{"attributes":{"axis_label":"Stress \u03c3 [MPa]","coordinates":null,"formatter":{"id":"7087"},"group":null,"major_label_policy":{"id":"7088"},"ticker":{"id":"6351"}},"id":"6350","type":"LinearAxis"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6559","type":"BoxAnnotation"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7084"},"group":null,"major_label_policy":{"id":"7085"},"ticker":{"id":"6355"}},"id":"6354","type":"LinearAxis"},{"attributes":{"tools":[{"id":"6553"},{"id":"6554"},{"id":"6555"},{"id":"6556"},{"id":"6557"},{"id":"6558"}]},"id":"6560","type":"Toolbar"},{"attributes":{"axis":{"id":"6354"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6357","type":"Grid"},{"attributes":{},"id":"7048","type":"UnionRenderers"},{"attributes":{},"id":"6355","type":"BasicTicker"},{"attributes":{},"id":"7049","type":"Selection"},{"attributes":{},"id":"6363","type":"HelpTool"},{"attributes":{},"id":"6358","type":"PanTool"},{"attributes":{"overlay":{"id":"6364"}},"id":"6360","type":"BoxZoomTool"},{"attributes":{},"id":"6361","type":"SaveTool"},{"attributes":{},"id":"6362","type":"ResetTool"},{"attributes":{},"id":"6977","type":"BasicTickFormatter"},{"attributes":{},"id":"7155","type":"UnionRenderers"},{"attributes":{},"id":"7007","type":"UnionRenderers"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6364","type":"BoxAnnotation"},{"attributes":{},"id":"6978","type":"AllLabels"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6592","type":"BoxAnnotation"},{"attributes":{},"id":"7156","type":"Selection"},{"attributes":{},"id":"7008","type":"Selection"},{"attributes":{},"id":"6980","type":"BasicTickFormatter"},{"attributes":{},"id":"6981","type":"AllLabels"},{"attributes":{},"id":"7071","type":"AllLabels"},{"attributes":{},"id":"6897","type":"Selection"},{"attributes":{},"id":"7073","type":"BasicTickFormatter"},{"attributes":{},"id":"6983","type":"BasicTickFormatter"},{"attributes":{},"id":"6899","type":"Selection"},{"attributes":{},"id":"7074","type":"AllLabels"},{"attributes":{"coordinates":null,"group":null},"id":"6894","type":"Title"},{"attributes":{},"id":"6984","type":"AllLabels"},{"attributes":{},"id":"7075","type":"BasicTickFormatter"},{"attributes":{},"id":"6986","type":"BasicTickFormatter"},{"attributes":{},"id":"7076","type":"AllLabels"},{"attributes":{},"id":"6987","type":"AllLabels"},{"attributes":{},"id":"6898","type":"UnionRenderers"},{"attributes":{"coordinates":null,"group":null},"id":"6892","type":"Title"},{"attributes":{},"id":"6896","type":"UnionRenderers"},{"attributes":{},"id":"7078","type":"BasicTickFormatter"},{"attributes":{},"id":"7079","type":"AllLabels"},{"attributes":{"args":{"Mohr_circle":{"id":"6805"},"arrow_sigma_x1_theta":{"id":"6778"},"arrow_sigma_x2_theta":{"id":"6781"},"arrow_sigma_y1_theta":{"id":"6784"},"arrow_sigma_y2_theta":{"id":"6787"},"arrow_tau_x1_theta":{"id":"6790"},"arrow_tau_x2_theta":{"id":"6793"},"arrow_tau_y1_theta":{"id":"6796"},"arrow_tau_y2_theta":{"id":"6799"},"beam_position":{"id":"6653"},"line_stress_state":{"id":"6811"},"line_stress_state_theta":{"id":"6823"},"points_stress_state":{"id":"6817"},"points_stress_state_theta":{"id":"6829"},"rotating_axis":{"id":"6745"},"source":{"id":"5801"},"stress_state":{"id":"6733"},"stress_state_theta":{"id":"6739"}},"code":"\n// retrieve data\nconst db = source.data\nconst theta_element = cb_obj.value/180*Math.PI\nconst sigma_x0 = db['sigma_x0'][0]\nconst sigma_y0 = db['sigma_y0'][0]\nconst tau_0 = db['tau_0'][0]\nconst sigma_average = db['sigma_average_mohr'][0]\nconst r_circle = db['r_circle_mohr'][0]\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// update data\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta_element'][0] = theta_element\ndb['theta'][0] = theta\n\n// update\n// square point:\nbeam_position.glyph.angle = theta_element\n// stress state element\nupdate_stress_state_elements(db, stress_state_theta, rotating_axis)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n// update Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n\n// apply changes\nsource.change.emit()\n\n// declare functions\n\n    function update_stress_state_elements(data, glyph_stress_state_theta, glyph_axis, max_stress=60, max_dim=150.0) {\n        // set variables\n        const theta_element = data['theta_element'][0]\n        const x_new = max_stress*Math.cos(theta_element)\n        const y_new = max_stress*Math.sin(theta_element)\n        \n        // update rotating axis\n        const src_axis = glyph_axis.data_source\n        src_axis.data.x = [0, x_new*max_dim/max_stress]\n        src_axis.data.y = [0, y_new*max_dim/max_stress]\n        src_axis.change.emit()\n        \n        // update stress state\n        //glyph_stress_state.glyph.angle = theta_element\n        //TODO: arrows using above functions\n        \n        // update stress state theta\n        glyph_stress_state_theta.glyph.angle = theta_element\n        glyph_stress_state_theta.glyph.x = x_new*2\n        glyph_stress_state_theta.glyph.y = y_new*2\n        //TODO: arrows using above functions\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var tau = -r_circle*Math.sin(2*theta)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n            var tau = r_circle*Math.sin(2*theta)\n        }\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"6837","type":"CustomJS"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"marker":{"value":"square"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y_var"}},"id":"6650","type":"Scatter"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"marker":{"value":"square"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y_var"}},"id":"6651","type":"Scatter"},{"attributes":{"below":[{"id":"6668"}],"center":[{"id":"6671"},{"id":"6675"}],"left":[{"id":"6672"}],"match_aspect":true,"renderers":[{"id":"6805"},{"id":"6811"},{"id":"6817"},{"id":"6823"},{"id":"6829"}],"title":{"id":"6658"},"toolbar":{"id":"6683"},"toolbar_location":null,"x_range":{"id":"6660"},"x_scale":{"id":"6664"},"y_range":{"id":"6662"},"y_scale":{"id":"6666"}},"id":"6657","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0},"height":{"value":180.0},"line_alpha":{"value":0},"line_color":{"value":"#1f77b4"},"width":{"value":180.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6724","type":"Rect"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"marker":{"value":"square"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y_var"}},"id":"6652","type":"Scatter"},{"attributes":{"axis_label":"Stress \u03c3 [MPa]","coordinates":null,"fixed_location":0,"formatter":{"id":"6865"},"group":null,"major_label_policy":{"id":"6866"},"ticker":{"id":"6669"}},"id":"6668","type":"LinearAxis"},{"attributes":{},"id":"6695","type":"DataRange1d"},{"attributes":{"data":{"x":[0],"y":[0]},"selected":{"id":"6910"},"selection_policy":{"id":"6909"}},"id":"6729","type":"ColumnDataSource"},{"attributes":{"end":90,"js_property_callbacks":{"change:value":[{"id":"6837"}]},"start":0,"step":0.5,"title":"Change the angle \u03b8 of the element [\u00b0]","value":0},"id":"6656","type":"Slider"},{"attributes":{"below":[{"id":"6701"}],"center":[{"id":"6704"},{"id":"6708"},{"id":"6754"},{"id":"6757"},{"id":"6760"},{"id":"6763"},{"id":"6766"},{"id":"6769"},{"id":"6772"},{"id":"6775"},{"id":"6778"},{"id":"6781"},{"id":"6784"},{"id":"6787"},{"id":"6790"},{"id":"6793"},{"id":"6796"},{"id":"6799"}],"left":[{"id":"6705"}],"match_aspect":true,"min_border_left":0,"renderers":[{"id":"6727"},{"id":"6733"},{"id":"6739"},{"id":"6745"},{"id":"6751"}],"title":{"id":"6691"},"toolbar":{"id":"6716"},"toolbar_location":null,"x_range":{"id":"6693"},"x_scale":{"id":"6697"},"y_range":{"id":"6695"},"y_scale":{"id":"6699"}},"id":"6690","subtype":"Figure","type":"Plot"},{"attributes":{"end":200,"js_property_callbacks":{"change:value":[{"id":"6838"}]},"start":0,"title":"Change the height y along the section [mm]","value":200},"id":"6655","type":"Slider"},{"attributes":{},"id":"6660","type":"DataRange1d"},{"attributes":{},"id":"6664","type":"LinearScale"},{"attributes":{},"id":"6662","type":"DataRange1d"},{"attributes":{"coordinates":null,"group":null,"text":"Mohr circle, x axis: stress \u03c3 [MPa], y axis: stress \u03c4 [MPa]"},"id":"6658","type":"Title"},{"attributes":{},"id":"6677","type":"WheelZoomTool"},{"attributes":{"axis":{"id":"6668"},"coordinates":null,"group":null,"ticker":null},"id":"6671","type":"Grid"},{"attributes":{},"id":"6666","type":"LinearScale"},{"attributes":{"axis_label":"Stress \u03c4 [MPa]","coordinates":null,"fixed_location":0,"formatter":{"id":"6862"},"group":null,"major_label_policy":{"id":"6863"},"ticker":{"id":"6673"}},"id":"6672","type":"LinearAxis"},{"attributes":{"axis":{"id":"6672"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6675","type":"Grid"},{"attributes":{},"id":"6669","type":"BasicTicker"},{"attributes":{},"id":"6673","type":"BasicTicker"},{"attributes":{},"id":"6681","type":"HelpTool"},{"attributes":{},"id":"6676","type":"PanTool"},{"attributes":{"overlay":{"id":"6682"}},"id":"6678","type":"BoxZoomTool"},{"attributes":{},"id":"6679","type":"SaveTool"},{"attributes":{},"id":"6680","type":"ResetTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6682","type":"BoxAnnotation"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"black"},"hatch_alpha":{"value":0.2},"height":{"value":30.0},"line_alpha":{"value":0.2},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6738","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"6735"},"glyph":{"id":"6736"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6738"},"nonselection_glyph":{"id":"6737"},"view":{"id":"6740"}},"id":"6739","type":"GlyphRenderer"},{"attributes":{"data":{"x":[0,150.0],"y":[0,0]},"selected":{"id":"6916"},"selection_policy":{"id":"6915"}},"id":"6747","type":"ColumnDataSource"},{"attributes":{"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6748","type":"Line"},{"attributes":{"source":{"id":"6735"}},"id":"6740","type":"CDSView"},{"attributes":{},"id":"6697","type":"LinearScale"},{"attributes":{"data":{"x":[60.0],"y":[60.0]},"selected":{"id":"6908"},"selection_policy":{"id":"6907"}},"id":"6723","type":"ColumnDataSource"},{"attributes":{},"id":"6699","type":"LinearScale"},{"attributes":{"tools":[{"id":"6676"},{"id":"6677"},{"id":"6678"},{"id":"6679"},{"id":"6680"},{"id":"6681"}]},"id":"6683","type":"Toolbar"},{"attributes":{},"id":"6693","type":"DataRange1d"},{"attributes":{"coordinates":null,"formatter":{"id":"6868"},"group":null,"major_label_policy":{"id":"6869"},"ticker":{"id":"6706"},"visible":false},"id":"6705","type":"LinearAxis"},{"attributes":{"coordinates":null,"formatter":{"id":"6871"},"group":null,"major_label_policy":{"id":"6872"},"ticker":{"id":"6702"},"visible":false},"id":"6701","type":"LinearAxis"},{"attributes":{"coordinates":null,"group":null,"text":"Stress state"},"id":"6691","type":"Title"},{"attributes":{"axis":{"id":"6701"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"6704","type":"Grid"},{"attributes":{},"id":"6702","type":"BasicTicker"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6423","type":"Line"},{"attributes":{},"id":"7020","type":"UnionRenderers"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6424","type":"Line"},{"attributes":{"source":{"id":"6422"}},"id":"6427","type":"CDSView"},{"attributes":{},"id":"7021","type":"Selection"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6425","type":"Line"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6477","type":"Line"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6430","type":"Line"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6429","type":"Line"},{"attributes":{},"id":"7022","type":"UnionRenderers"},{"attributes":{"source":{"id":"6488"}},"id":"6493","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"6494"},"glyph":{"id":"6495"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6497"},"nonselection_glyph":{"id":"6496"},"view":{"id":"6499"}},"id":"6498","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6431","type":"Line"},{"attributes":{},"id":"7023","type":"Selection"},{"attributes":{"line_alpha":0.2,"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"6437","type":"Line"},{"attributes":{"source":{"id":"5800"}},"id":"6433","type":"CDSView"},{"attributes":{"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"6435","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6443","type":"Line"},{"attributes":{"data":{"x":[-30.0,30.0],"y":[100.0,100.0]},"selected":{"id":"7146"},"selection_policy":{"id":"7145"}},"id":"6434","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"6434"},"glyph":{"id":"6435"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6437"},"nonselection_glyph":{"id":"6436"},"view":{"id":"6439"}},"id":"6438","type":"GlyphRenderer"},{"attributes":{"source":{"id":"6434"}},"id":"6439","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"6436","type":"Line"},{"attributes":{"source":{"id":"6440"}},"id":"6445","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6442","type":"Line"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6448","type":"Line"},{"attributes":{"data":{"x":[0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"7161"},"selection_policy":{"id":"7160"}},"id":"6440","type":"ColumnDataSource"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6441","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"5800"},"glyph":{"id":"6465"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6467"},"nonselection_glyph":{"id":"6466"},"view":{"id":"6469"}},"id":"6468","type":"GlyphRenderer"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6447","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6490","type":"Line"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6459","type":"Line"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6449","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6455","type":"Line"},{"attributes":{"source":{"id":"5800"}},"id":"6451","type":"CDSView"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6453","type":"Line"},{"attributes":{"data":{"x":[-1.2,1.2],"y":[0,0]},"selected":{"id":"7163"},"selection_policy":{"id":"7162"}},"id":"6452","type":"ColumnDataSource"},{"attributes":{},"id":"7024","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"data_source":{"id":"6452"},"glyph":{"id":"6453"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6455"},"nonselection_glyph":{"id":"6454"},"view":{"id":"6457"}},"id":"6456","type":"GlyphRenderer"},{"attributes":{},"id":"7025","type":"AllLabels"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6454","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"6458"},"glyph":{"id":"6459"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6461"},"nonselection_glyph":{"id":"6460"},"view":{"id":"6463"}},"id":"6462","type":"GlyphRenderer"},{"attributes":{"source":{"id":"6452"}},"id":"6457","type":"CDSView"},{"attributes":{},"id":"7026","type":"BasicTickFormatter"},{"attributes":{"data":{"x":[0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"7149"},"selection_policy":{"id":"7148"}},"id":"6458","type":"ColumnDataSource"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]},"y":{"__ndarray__":"AAAAAAAAAACO4ziO4zg2QI7jOI7jOEZAqqqqqqqqUECO4ziO4zhWQHIcx3Ecx1tAqqqqqqqqYEAcx3Ecx3FjQI7jOI7jOGZAAAAAAAAAaUA=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"7127"},"selection_policy":{"id":"7126"}},"id":"6494","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6461","type":"Line"},{"attributes":{},"id":"7027","type":"AllLabels"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6466","type":"Line"},{"attributes":{"source":{"id":"6458"}},"id":"6463","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6460","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"5800"},"glyph":{"id":"6483"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6485"},"nonselection_glyph":{"id":"6484"},"view":{"id":"6487"}},"id":"6486","type":"GlyphRenderer"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6465","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"6497","type":"Line"},{"attributes":{"data":{"x":[0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"7166"},"selection_policy":{"id":"7165"}},"id":"6476","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6467","type":"Line"},{"attributes":{"line_alpha":0.2,"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"6473","type":"Line"},{"attributes":{"source":{"id":"5800"}},"id":"6469","type":"CDSView"},{"attributes":{"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"6471","type":"Line"},{"attributes":{"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"6495","type":"Line"},{"attributes":{"data":{"x":[-30.0,30.0],"y":[100.0,100.0]},"selected":{"id":"7151"},"selection_policy":{"id":"7150"}},"id":"6470","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"6470"},"glyph":{"id":"6471"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6473"},"nonselection_glyph":{"id":"6472"},"view":{"id":"6475"}},"id":"6474","type":"GlyphRenderer"},{"attributes":{"source":{"id":"6470"}},"id":"6475","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_dash":[4,4],"x":{"field":"x"},"y":{"field":"y"}},"id":"6472","type":"Line"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6484","type":"Line"},{"attributes":{"source":{"id":"6476"}},"id":"6481","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6479","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"6476"},"glyph":{"id":"6477"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6479"},"nonselection_glyph":{"id":"6478"},"view":{"id":"6481"}},"id":"6480","type":"GlyphRenderer"},{"attributes":{"below":[{"id":"6545"}],"center":[{"id":"6548"},{"id":"6552"},{"id":"6613"}],"height":200,"left":[{"id":"6549"}],"match_aspect":true,"renderers":[{"id":"6604"},{"id":"6623"},{"id":"6629"},{"id":"6635"},{"id":"6641"}],"title":{"id":"6535"},"toolbar":{"id":"6560"},"toolbar_location":null,"width":200,"x_range":{"id":"6537"},"x_scale":{"id":"6541"},"y_range":{"id":"6539"},"y_scale":{"id":"6543"}},"id":"6534","subtype":"Figure","type":"Plot"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6478","type":"Line"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6483","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6491","type":"Line"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6485","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"red","x":{"field":"x"},"y":{"field":"y"}},"id":"6496","type":"Line"},{"attributes":{"source":{"id":"5800"}},"id":"6487","type":"CDSView"},{"attributes":{"data":{"x":[-1.2,1.2],"y":[0,0]},"selected":{"id":"7168"},"selection_policy":{"id":"7167"}},"id":"6488","type":"ColumnDataSource"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6489","type":"Line"},{"attributes":{"source":{"id":"6494"}},"id":"6499","type":"CDSView"},{"attributes":{"data":{},"selected":{"id":"7125"},"selection_policy":{"id":"7124"}},"id":"7060","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"5800"},"glyph":{"id":"6521"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6523"},"nonselection_glyph":{"id":"6522"},"view":{"id":"6525"}},"id":"6524","type":"GlyphRenderer"},{"attributes":{},"id":"7143","type":"UnionRenderers"},{"attributes":{},"id":"7144","type":"Selection"},{"attributes":{},"id":"6233","type":"ResetTool"},{"attributes":{"coordinates":null,"group":null,"text":"Axial strain"},"id":"6212","type":"Title"},{"attributes":{"coordinates":null,"data_source":{"id":"5797"},"glyph":{"id":"6143"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6145"},"nonselection_glyph":{"id":"6144"},"view":{"id":"6147"}},"id":"6146","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"6136"},"glyph":{"id":"6137"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6139"},"nonselection_glyph":{"id":"6138"},"view":{"id":"6141"}},"id":"6140","type":"GlyphRenderer"},{"attributes":{"axis":{"id":"6221"},"coordinates":null,"group":null,"ticker":null},"id":"6224","type":"Grid"},{"attributes":{},"id":"6254","type":"BasicTicker"},{"attributes":{},"id":"6230","type":"WheelZoomTool"},{"attributes":{},"id":"6219","type":"LinearScale"},{"attributes":{},"id":"6229","type":"PanTool"},{"attributes":{"axis_label":"Strain \u03b5\u2099 [%]","coordinates":null,"formatter":{"id":"7064"},"group":null,"major_label_policy":{"id":"7065"},"ticker":{"id":"6512"}},"id":"6221","type":"LinearAxis"},{"attributes":{},"id":"7108","type":"UnionRenderers"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7062"},"group":null,"major_label_policy":{"id":"7063"},"ticker":{"id":"6226"},"visible":false},"id":"6225","type":"LinearAxis"},{"attributes":{"axis":{"id":"6225"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6228","type":"Grid"},{"attributes":{},"id":"7109","type":"Selection"},{"attributes":{},"id":"7062","type":"BasicTickFormatter"},{"attributes":{},"id":"6226","type":"BasicTicker"},{"attributes":{"overlay":{"id":"6235"}},"id":"6231","type":"BoxZoomTool"},{"attributes":{},"id":"6234","type":"HelpTool"},{"attributes":{},"id":"7063","type":"AllLabels"},{"attributes":{},"id":"6232","type":"SaveTool"},{"attributes":{},"id":"7064","type":"BasicTickFormatter"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6235","type":"BoxAnnotation"},{"attributes":{},"id":"7065","type":"AllLabels"},{"attributes":{},"id":"7145","type":"UnionRenderers"},{"attributes":{},"id":"6249","type":"LinearScale"},{"attributes":{},"id":"7146","type":"Selection"},{"attributes":{},"id":"6261","type":"PanTool"},{"attributes":{"below":[{"id":"6350"}],"center":[{"id":"6353"},{"id":"6357"}],"height":200,"renderers":[{"id":"6462"},{"id":"6468"},{"id":"6474"}],"right":[{"id":"6354"}],"title":{"id":"6341"},"toolbar":{"id":"6365"},"toolbar_location":null,"width":200,"x_range":{"id":"6343"},"x_scale":{"id":"6346"},"y_range":{"id":"6183"},"y_scale":{"id":"6348"}},"id":"6340","subtype":"Figure","type":"Plot"},{"attributes":{"coordinates":null,"data_source":{"id":"5800"},"glyph":{"id":"6447"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6449"},"nonselection_glyph":{"id":"6448"},"view":{"id":"6451"}},"id":"6450","type":"GlyphRenderer"},{"attributes":{},"id":"7110","type":"UnionRenderers"},{"attributes":{},"id":"6312","type":"DataRange1d"},{"attributes":{},"id":"7111","type":"Selection"},{"attributes":{},"id":"6258","type":"BasicTicker"},{"attributes":{"axis":{"id":"6257"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6260","type":"Grid"},{"attributes":{"overlay":{"id":"6267"}},"id":"6263","type":"BoxZoomTool"},{"attributes":{},"id":"6246","type":"DataRange1d"},{"attributes":{},"id":"6251","type":"LinearScale"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7078"},"group":null,"major_label_policy":{"id":"7079"},"ticker":{"id":"6258"},"visible":false},"id":"6257","type":"LinearAxis"},{"attributes":{"tools":[{"id":"6229"},{"id":"6230"},{"id":"6231"},{"id":"6232"},{"id":"6233"},{"id":"6234"}]},"id":"6236","type":"Toolbar"},{"attributes":{},"id":"6314","type":"LinearScale"},{"attributes":{"coordinates":null,"group":null,"text":"Bending stress and centroid"},"id":"6244","type":"Title"},{"attributes":{},"id":"6310","type":"DataRange1d"},{"attributes":{},"id":"7067","type":"BasicTickFormatter"},{"attributes":{},"id":"7148","type":"UnionRenderers"},{"attributes":{},"id":"6278","type":"DataRange1d"},{"attributes":{},"id":"7068","type":"AllLabels"},{"attributes":{},"id":"6262","type":"WheelZoomTool"},{"attributes":{},"id":"7149","type":"Selection"},{"attributes":{"axis":{"id":"6253"},"coordinates":null,"group":null,"ticker":null},"id":"6256","type":"Grid"},{"attributes":{},"id":"7070","type":"BasicTickFormatter"},{"attributes":{"axis_label":"Stress \u03c3\u2098 [MPa]","coordinates":null,"formatter":{"id":"7081"},"group":null,"major_label_policy":{"id":"7082"},"ticker":{"id":"6254"}},"id":"6253","type":"LinearAxis"},{"attributes":{"children":[{"id":"5916"},{"id":"6843"}]},"id":"6844","type":"Column"},{"attributes":{"width":10},"id":"6839","type":"Spacer"},{"attributes":{"children":[{"id":"6844"},{"id":"6846"}]},"id":"6847","type":"Row"},{"attributes":{"children":[{"id":"6840"},{"id":"5914"},{"id":"5915"},{"id":"6655"},{"id":"6656"},{"id":"6841"},{"id":"6026"},{"id":"6025"},{"id":"6027"},{"id":"6028"},{"id":"6029"},{"id":"6030"}]},"id":"6842","type":"Column"},{"attributes":{"width":200},"id":"6850","type":"Spacer"},{"attributes":{},"id":"6915","type":"UnionRenderers"},{"attributes":{"height":10},"id":"6841","type":"Spacer"},{"attributes":{},"id":"6916","type":"Selection"},{"attributes":{"data":{"x":[0,0,60,60],"x_fade":[0,0,60,60],"y":[4,8,8,4]},"selected":{"id":"7006"},"selection_policy":{"id":"7005"}},"id":"5799","type":"ColumnDataSource"},{"attributes":{"data":{"x":[0,0],"y":[0,200]},"selected":{"id":"7129"},"selection_policy":{"id":"7128"}},"id":"5800","type":"ColumnDataSource"},{"attributes":{"data":{"x":[0,6],"y":[0,0]},"selected":{"id":"7046"},"selection_policy":{"id":"7045"}},"id":"5797","type":"ColumnDataSource"},{"attributes":{"data":{"A":[20000],"E":[200000.0],"FBD":[0],"Iy":[66666666.666666664],"Iz":[16666666.666666666],"L":[6],"M":[0.0],"N":[-10.0],"P":[10],"Rx":[10],"Ry_l":[12.0],"Ry_r":[12.0],"SCALE":[10],"V":[12.0],"b":[100],"h":[200],"q":[4],"r_circle_mohr":[0.25],"sigma_average_mohr":[-0.25],"sigma_x":[-0.5],"sigma_x0":[-0.5],"sigma_y":[0.0],"sigma_y0":[0],"state":["IDLE"],"tau":[0.0],"tau_0":[0.0],"theta":[0.0],"theta_element":[0],"x":[6],"xF":[60],"y":[0],"yG":[100.0],"y_n_axis":[100.0],"y_var":[200]},"selected":{"id":"7000"},"selection_policy":{"id":"6999"}},"id":"5801","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"5865"},{"id":"6839"},{"id":"6842"}]},"id":"6843","type":"Row"},{"attributes":{"width":200},"id":"6849","type":"Spacer"},{"attributes":{"height":10},"id":"6845","type":"Spacer"},{"attributes":{"children":[{"id":"6853"}]},"id":"6854","type":"Row"},{"attributes":{"height":10},"id":"6840","type":"Spacer"},{"attributes":{"width":200},"id":"6851","type":"Spacer"},{"attributes":{"children":[{"id":"5802"},{"id":"6845"},{"id":"6032"},{"id":"6064"},{"id":"6094"}]},"id":"6846","type":"Column"},{"attributes":{"children":[{"id":"6847"},{"id":"6854"}]},"id":"6855","type":"Column"},{"attributes":{"children":[{"id":"6848"},{"id":"6852"}]},"id":"6853","type":"Column"},{"attributes":{"children":[{"id":"6657"},{"id":"6690"}]},"id":"6856","type":"Column"},{"attributes":{},"id":"6939","type":"Selection"},{"attributes":{"children":[{"id":"6567"},{"id":"6849"},{"id":"6307"},{"id":"6850"},{"id":"6851"},{"id":"6372"}]},"id":"6852","type":"Row"},{"attributes":{},"id":"6918","type":"UnionRenderers"},{"attributes":{"children":[{"id":"6534"},{"id":"6211"},{"id":"6178"},{"id":"6275"},{"id":"6243"},{"id":"6340"}]},"id":"6848","type":"Row"},{"attributes":{},"id":"6919","type":"Selection"},{"attributes":{},"id":"6920","type":"UnionRenderers"},{"attributes":{"children":[{"id":"6855"},{"id":"6856"}]},"id":"6857","type":"Row"},{"attributes":{},"id":"6921","type":"Selection"},{"attributes":{},"id":"6922","type":"UnionRenderers"},{"attributes":{},"id":"6923","type":"Selection"},{"attributes":{},"id":"6924","type":"UnionRenderers"},{"attributes":{},"id":"6925","type":"Selection"},{"attributes":{"children":[{"id":"6857"}]},"id":"6858","type":"Column"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6783","type":"VeeHead"},{"attributes":{},"id":"6926","type":"UnionRenderers"},{"attributes":{"data":{},"selected":{"id":"7021"},"selection_policy":{"id":"7020"}},"id":"6960","type":"ColumnDataSource"},{"attributes":{},"id":"6100","type":"LinearScale"},{"attributes":{},"id":"6927","type":"Selection"},{"attributes":{},"id":"6081","type":"WheelZoomTool"},{"attributes":{"coordinates":null,"end":{"id":"6774"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6880"},"start":null,"x_end":{"value":0.0},"x_start":{"value":0.0},"y_end":{"value":-20.0},"y_start":{"value":-20.0}},"id":"6775","type":"Arrow"},{"attributes":{"data":{},"selected":{"id":"7019"},"selection_policy":{"id":"7018"}},"id":"6959","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"formatter":{"id":"7093"},"group":null,"major_label_policy":{"id":"7094"},"ticker":{"id":"6579"},"visible":false},"id":"6578","type":"LinearAxis"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6792","type":"VeeHead"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6795","type":"VeeHead"},{"attributes":{},"id":"6085","type":"HelpTool"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6786","type":"VeeHead"},{"attributes":{"data":{},"selected":{"id":"7023"},"selection_policy":{"id":"7022"}},"id":"6961","type":"ColumnDataSource"},{"attributes":{},"id":"6080","type":"PanTool"},{"attributes":{"line_color":"blue","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6808","type":"Line"},{"attributes":{},"id":"6928","type":"UnionRenderers"},{"attributes":{"overlay":{"id":"6086"}},"id":"6082","type":"BoxZoomTool"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6789","type":"VeeHead"},{"attributes":{},"id":"6083","type":"SaveTool"},{"attributes":{},"id":"6570","type":"DataRange1d"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"#1f77b4"},"line_color":{"value":"#1f77b4"},"radius":{"value":0.25},"x":{"field":"x"},"y":{"field":"y"}},"id":"6802","type":"Circle"},{"attributes":{},"id":"6084","type":"ResetTool"},{"attributes":{"data":{"x":[-1.6666666666666667,0,0,-1.6666666666666667],"y":[-10,-10,10,10]},"selected":{"id":"7114"},"selection_policy":{"id":"7113"}},"id":"6600","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"end":{"id":"6783"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6883"},"start":null,"x_end":{"value":120.0},"x_start":{"value":120.0},"y_end":{"value":25.0},"y_start":{"value":25.0}},"id":"6784","type":"Arrow"},{"attributes":{},"id":"6929","type":"Selection"},{"attributes":{},"id":"7103","type":"BasicTickFormatter"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"radius":{"value":0.25},"x":{"field":"x"},"y":{"field":"y"}},"id":"6804","type":"Circle"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6798","type":"VeeHead"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6086","type":"BoxAnnotation"},{"attributes":{},"id":"7104","type":"AllLabels"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"blue"},"line_alpha":{"value":0.5},"line_color":{"value":"blue"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"6814","type":"Circle"},{"attributes":{},"id":"6572","type":"DataRange1d"},{"attributes":{"coordinates":null,"end":{"id":"6786"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6884"},"start":null,"x_end":{"value":120.0},"x_start":{"value":120.0},"y_end":{"value":-25.0},"y_start":{"value":-25.0}},"id":"6787","type":"Arrow"},{"attributes":{"axis_label":"Position [m]","coordinates":null,"formatter":{"id":"6986"},"group":null,"major_label_policy":{"id":"6987"},"ticker":{"id":"6103"}},"id":"6102","type":"LinearAxis"},{"attributes":{},"id":"6574","type":"LinearScale"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"radius":{"value":0.25},"x":{"field":"x"},"y":{"field":"y"}},"id":"6803","type":"Circle"},{"attributes":{},"id":"6930","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"6600"},"glyph":{"id":"6601"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6603"},"nonselection_glyph":{"id":"6602"},"view":{"id":"6605"}},"id":"6604","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"end":{"id":"6789"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6885"},"start":null,"x_end":{"value":140.0},"x_start":{"value":140.0},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"6790","type":"Arrow"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7090"},"group":null,"major_label_policy":{"id":"7091"},"ticker":{"id":"6583"},"visible":false},"id":"6582","type":"LinearAxis"},{"attributes":{},"id":"7106","type":"BasicTickFormatter"},{"attributes":{"data":{"x":[-0.25],"y":[0]},"selected":{"id":"6897"},"selection_policy":{"id":"6896"}},"id":"6801","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"end":{"id":"6792"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6886"},"start":null,"x_end":{"value":100.0},"x_start":{"value":100.0},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"6793","type":"Arrow"},{"attributes":{},"id":"6931","type":"Selection"},{"attributes":{},"id":"6587","type":"WheelZoomTool"},{"attributes":{"axis":{"id":"6578"},"coordinates":null,"grid_line_alpha":0,"group":null,"ticker":null},"id":"6581","type":"Grid"},{"attributes":{},"id":"7107","type":"AllLabels"},{"attributes":{"coordinates":null,"end":{"id":"6795"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6887"},"start":null,"x_end":{"value":120.0},"x_start":{"value":120.0},"y_end":{"value":20.0},"y_start":{"value":20.0}},"id":"6796","type":"Arrow"},{"attributes":{"coordinates":null,"group":null,"text":"V at position x"},"id":"6568","type":"Title"},{"attributes":{"coordinates":null,"data_source":{"id":"6807"},"glyph":{"id":"6808"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6810"},"nonselection_glyph":{"id":"6809"},"view":{"id":"6812"}},"id":"6811","type":"GlyphRenderer"},{"attributes":{},"id":"6579","type":"BasicTicker"},{"attributes":{"source":{"id":"6801"}},"id":"6806","type":"CDSView"},{"attributes":{"axis":{"id":"6582"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"6585","type":"Grid"},{"attributes":{"coordinates":null,"end":{"id":"6798"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6888"},"start":null,"x_end":{"value":120.0},"x_start":{"value":120.0},"y_end":{"value":-20.0},"y_start":{"value":-20.0}},"id":"6799","type":"Arrow"},{"attributes":{},"id":"6932","type":"UnionRenderers"},{"attributes":{},"id":"6576","type":"LinearScale"},{"attributes":{"tools":[{"id":"6586"},{"id":"6587"},{"id":"6588"},{"id":"6589"},{"id":"6590"},{"id":"6591"}]},"id":"6593","type":"Toolbar"},{"attributes":{"line_alpha":0.1,"line_color":"blue","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6809","type":"Line"},{"attributes":{},"id":"6933","type":"Selection"},{"attributes":{},"id":"6583","type":"BasicTicker"},{"attributes":{},"id":"7138","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"6801"},"glyph":{"id":"6802"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6804"},"nonselection_glyph":{"id":"6803"},"view":{"id":"6806"}},"id":"6805","type":"GlyphRenderer"},{"attributes":{"data":{"x":[-0.5,0.0],"y":[0,-0.0]},"selected":{"id":"6901"},"selection_policy":{"id":"6900"}},"id":"6813","type":"ColumnDataSource"},{"attributes":{"axis_label":"Axial force M [kNm]","coordinates":null,"formatter":{"id":"6983"},"group":null,"major_label_policy":{"id":"6984"},"ticker":{"id":"6107"}},"id":"6106","type":"LinearAxis"},{"attributes":{},"id":"6591","type":"HelpTool"},{"attributes":{"data":{"x":[-0.5,0.0],"y":[0,-0.0]},"selected":{"id":"6899"},"selection_policy":{"id":"6898"}},"id":"6807","type":"ColumnDataSource"},{"attributes":{},"id":"6586","type":"PanTool"},{"attributes":{},"id":"7139","type":"Selection"},{"attributes":{"data":{"x":[-0.5,0.0],"y":[0,-0.0]},"selected":{"id":"6903"},"selection_policy":{"id":"6902"}},"id":"6819","type":"ColumnDataSource"},{"attributes":{},"id":"6934","type":"UnionRenderers"},{"attributes":{"overlay":{"id":"6592"}},"id":"6588","type":"BoxZoomTool"},{"attributes":{"source":{"id":"6807"}},"id":"6812","type":"CDSView"},{"attributes":{},"id":"6589","type":"SaveTool"},{"attributes":{"source":{"id":"6813"}},"id":"6818","type":"CDSView"},{"attributes":{},"id":"6590","type":"ResetTool"},{"attributes":{},"id":"6935","type":"Selection"},{"attributes":{"line_color":"red","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6820","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"blue","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6810","type":"Line"},{"attributes":{"tools":[{"id":"6110"},{"id":"6111"},{"id":"6112"},{"id":"6113"},{"id":"6114"},{"id":"6115"}]},"id":"6117","type":"Toolbar"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"blue"},"line_alpha":{"value":0.2},"line_color":{"value":"blue"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"6816","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"blue"},"line_alpha":{"value":0.1},"line_color":{"value":"blue"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"6815","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"red"},"line_alpha":{"value":0.5},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"6826","type":"Circle"},{"attributes":{"axis":{"id":"6102"},"coordinates":null,"group":null,"ticker":null},"id":"6105","type":"Grid"},{"attributes":{"data":{"x":[-0.5,0.0],"y":[0,-0.0]},"selected":{"id":"6905"},"selection_policy":{"id":"6904"}},"id":"6825","type":"ColumnDataSource"},{"attributes":{},"id":"6936","type":"UnionRenderers"},{"attributes":{"coordinates":null,"data_source":{"id":"6813"},"glyph":{"id":"6814"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6816"},"nonselection_glyph":{"id":"6815"},"view":{"id":"6818"}},"id":"6817","type":"GlyphRenderer"},{"attributes":{},"id":"6103","type":"BasicTicker"},{"attributes":{"coordinates":null,"data_source":{"id":"6825"},"glyph":{"id":"6826"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6828"},"nonselection_glyph":{"id":"6827"},"view":{"id":"6830"}},"id":"6829","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.1,"line_color":"red","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6821","type":"Line"},{"attributes":{},"id":"6937","type":"Selection"},{"attributes":{"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6125","type":"Line"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6609","type":"Line"},{"attributes":{"source":{"id":"6825"}},"id":"6830","type":"CDSView"},{"attributes":{},"id":"6098","type":"LinearScale"},{"attributes":{"tools":[{"id":"6080"},{"id":"6081"},{"id":"6082"},{"id":"6083"},{"id":"6084"},{"id":"6085"}]},"id":"6087","type":"Toolbar"},{"attributes":{"line_alpha":0.2,"line_color":"red","line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6822","type":"Line"},{"attributes":{},"id":"6938","type":"UnionRenderers"},{"attributes":{},"id":"6111","type":"WheelZoomTool"},{"attributes":{"coordinates":null,"data_source":{"id":"6819"},"glyph":{"id":"6820"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6822"},"nonselection_glyph":{"id":"6821"},"view":{"id":"6824"}},"id":"6823","type":"GlyphRenderer"},{"attributes":{},"id":"6997","type":"UnionRenderers"},{"attributes":{"source":{"id":"6819"}},"id":"6824","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"red"},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"6828","type":"Circle"},{"attributes":{},"id":"6998","type":"Selection"},{"attributes":{"axis":{"id":"6106"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6109","type":"Grid"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"red"},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"6827","type":"Circle"},{"attributes":{},"id":"6107","type":"BasicTicker"},{"attributes":{},"id":"6940","type":"UnionRenderers"},{"attributes":{"data":{"x":[-1.6666666666666667,0,0,-1.6666666666666667],"y":[-10,-10,10,10]},"selected":{"id":"7154"},"selection_policy":{"id":"7153"}},"id":"6606","type":"ColumnDataSource"},{"attributes":{},"id":"6115","type":"HelpTool"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6603","type":"Line"},{"attributes":{},"id":"6941","type":"Selection"},{"attributes":{"overlay":{"id":"6116"}},"id":"6112","type":"BoxZoomTool"},{"attributes":{},"id":"6110","type":"PanTool"},{"attributes":{},"id":"7140","type":"UnionRenderers"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6601","type":"Line"},{"attributes":{},"id":"6113","type":"SaveTool"},{"attributes":{},"id":"6114","type":"ResetTool"},{"attributes":{"data":{"x":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]},"y":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=","dtype":"float64","order":"little","shape":[10]}},"selected":{"id":"7116"},"selection_policy":{"id":"7115"}},"id":"6618","type":"ColumnDataSource"},{"attributes":{},"id":"7141","type":"Selection"},{"attributes":{},"id":"6942","type":"UnionRenderers"},{"attributes":{"source":{"id":"6600"}},"id":"6605","type":"CDSView"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6607","type":"Line"},{"attributes":{},"id":"6943","type":"Selection"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6602","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"5801"},"glyph":{"id":"6650"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6652"},"nonselection_glyph":{"id":"6651"},"view":{"id":"6654"}},"id":"6653","type":"GlyphRenderer"},{"attributes":{},"id":"6964","type":"BasicTickFormatter"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6626","type":"Scatter"},{"attributes":{"text_baseline":{"value":"top"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6638","type":"Text"},{"attributes":{},"id":"6944","type":"UnionRenderers"},{"attributes":{"coordinates":null,"end":{"id":"6612"},"group":null,"line_color":{"value":"red"},"line_width":{"value":0.0},"source":{"id":"7060"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":0}},"id":"6613","type":"Arrow"},{"attributes":{},"id":"6999","type":"UnionRenderers"},{"attributes":{},"id":"6965","type":"AllLabels"},{"attributes":{"data":{"x":[0,0.0,0.06060606060606061,0.12121212121212122,0.18181818181818182,0.24242424242424243,0.30303030303030304,0.36363636363636365,0.42424242424242425,0.48484848484848486,0.5454545454545454,0.6060606060606061,0.6666666666666667,0.7272727272727273,0.7878787878787878,0.8484848484848485,0.9090909090909092,0.9696969696969697,1.0303030303030303,1.0909090909090908,1.1515151515151516,1.2121212121212122,1.2727272727272727,1.3333333333333335,1.393939393939394,1.4545454545454546,1.5151515151515151,1.5757575757575757,1.6363636363636365,1.696969696969697,1.7575757575757576,1.8181818181818183,1.878787878787879,1.9393939393939394,2.0,2.0606060606060606,2.121212121212121,2.1818181818181817,2.2424242424242427,2.303030303030303,2.3636363636363638,2.4242424242424243,2.484848484848485,2.5454545454545454,2.606060606060606,2.666666666666667,2.7272727272727275,2.787878787878788,2.8484848484848486,2.909090909090909,2.9696969696969697,3.0303030303030303,3.090909090909091,3.1515151515151514,3.2121212121212124,3.272727272727273,3.3333333333333335,3.393939393939394,3.4545454545454546,3.515151515151515,3.5757575757575757,3.6363636363636367,3.6969696969696972,3.757575757575758,3.8181818181818183,3.878787878787879,3.9393939393939394,4.0,4.0606060606060606,4.121212121212121,4.181818181818182,4.242424242424242,4.303030303030303,4.363636363636363,4.424242424242425,4.484848484848485,4.545454545454546,4.606060606060606,4.666666666666667,4.7272727272727275,4.787878787878788,4.848484848484849,4.909090909090909,4.96969696969697,5.03030303030303,5.090909090909091,5.151515151515151,5.212121212121212,5.2727272727272725,5.333333333333334,5.3939393939393945,5.454545454545455,5.515151515151516,5.575757575757576,5.636363636363637,5.696969696969697,5.757575757575758,5.818181818181818,5.878787878787879,5.9393939393939394,6.0,6],"y":[0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,-10.0,0]},"selected":{"id":"7044"},"selection_policy":{"id":"7043"}},"id":"6124","type":"ColumnDataSource"},{"attributes":{},"id":"7000","type":"Selection"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6608","type":"Line"},{"attributes":{},"id":"6945","type":"Selection"},{"attributes":{"source":{"id":"6606"}},"id":"6611","type":"CDSView"},{"attributes":{},"id":"6967","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"6618"}},"id":"6624","type":"CDSView"},{"attributes":{"source":{"id":"5801"}},"id":"6654","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6126","type":"Line"},{"attributes":{},"id":"6968","type":"AllLabels"},{"attributes":{"coordinates":null,"data_source":{"id":"6618"},"glyph":{"id":"6620"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6622"},"nonselection_glyph":{"id":"6621"},"view":{"id":"6624"}},"id":"6623","type":"GlyphRenderer"},{"attributes":{},"id":"6946","type":"UnionRenderers"},{"attributes":{"coordinates":null,"end":{"id":"6615"},"group":null,"line_color":{"value":"red"},"line_width":{"value":0.0},"source":{"id":"7095"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":0}},"id":"6616","type":"Arrow"},{"attributes":{"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6620","type":"Line"},{"attributes":{},"id":"6947","type":"Selection"},{"attributes":{"source":{"id":"6124"}},"id":"6129","type":"CDSView"},{"attributes":{"data":{"x":[0.0],"y":[0.0]},"selected":{"id":"7118"},"selection_policy":{"id":"7117"}},"id":"6625","type":"ColumnDataSource"},{"attributes":{"data":{"text":[""],"x":[6],"y":[-5]},"selected":{"id":"7122"},"selection_policy":{"id":"7121"}},"id":"6637","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"6127","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6621","type":"Line"},{"attributes":{"line_alpha":0.2,"line_color":"red","line_width":3,"x":{"field":"x"},"y":{"field":"y"}},"id":"6622","type":"Line"},{"attributes":{"data":{"x":[0,60],"y":[0,0]},"selected":{"id":"7002"},"selection_policy":{"id":"7001"}},"id":"5798","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6627","type":"Scatter"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6628","type":"Scatter"},{"attributes":{"coordinates":null,"data_source":{"id":"6625"},"glyph":{"id":"6626"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6628"},"nonselection_glyph":{"id":"6627"},"view":{"id":"6630"}},"id":"6629","type":"GlyphRenderer"},{"attributes":{"text_alpha":{"value":0.1},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6633","type":"Text"},{"attributes":{"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6632","type":"Text"},{"attributes":{"source":{"id":"6625"}},"id":"6630","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"6631"},"glyph":{"id":"6632"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6634"},"nonselection_glyph":{"id":"6633"},"view":{"id":"6636"}},"id":"6635","type":"GlyphRenderer"},{"attributes":{"data":{"text":[""],"x":[11.0],"y":[1]},"selected":{"id":"7120"},"selection_policy":{"id":"7119"}},"id":"6631","type":"ColumnDataSource"},{"attributes":{"text_alpha":{"value":0.2},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6634","type":"Text"},{"attributes":{"data":{"x":[0,0.0,0.06060606060606061,0.12121212121212122,0.18181818181818182,0.24242424242424243,0.30303030303030304,0.36363636363636365,0.42424242424242425,0.48484848484848486,0.5454545454545454,0.6060606060606061,0.6666666666666667,0.7272727272727273,0.7878787878787878,0.8484848484848485,0.9090909090909092,0.9696969696969697,1.0303030303030303,1.0909090909090908,1.1515151515151516,1.2121212121212122,1.2727272727272727,1.3333333333333335,1.393939393939394,1.4545454545454546,1.5151515151515151,1.5757575757575757,1.6363636363636365,1.696969696969697,1.7575757575757576,1.8181818181818183,1.878787878787879,1.9393939393939394,2.0,2.0606060606060606,2.121212121212121,2.1818181818181817,2.2424242424242427,2.303030303030303,2.3636363636363638,2.4242424242424243,2.484848484848485,2.5454545454545454,2.606060606060606,2.666666666666667,2.7272727272727275,2.787878787878788,2.8484848484848486,2.909090909090909,2.9696969696969697,3.0303030303030303,3.090909090909091,3.1515151515151514,3.2121212121212124,3.272727272727273,3.3333333333333335,3.393939393939394,3.4545454545454546,3.515151515151515,3.5757575757575757,3.6363636363636367,3.6969696969696972,3.757575757575758,3.8181818181818183,3.878787878787879,3.9393939393939394,4.0,4.0606060606060606,4.121212121212121,4.181818181818182,4.242424242424242,4.303030303030303,4.363636363636363,4.424242424242425,4.484848484848485,4.545454545454546,4.606060606060606,4.666666666666667,4.7272727272727275,4.787878787878788,4.848484848484849,4.909090909090909,4.96969696969697,5.03030303030303,5.090909090909091,5.151515151515151,5.212121212121212,5.2727272727272725,5.333333333333334,5.3939393939393945,5.454545454545455,5.515151515151516,5.575757575757576,5.636363636363637,5.696969696969697,5.757575757575758,5.818181818181818,5.878787878787879,5.9393939393939394,6.0,6],"y":[0,-12.0,-11.757575757575758,-11.515151515151516,-11.272727272727273,-11.030303030303031,-10.787878787878787,-10.545454545454545,-10.303030303030303,-10.06060606060606,-9.818181818181818,-9.575757575757576,-9.333333333333332,-9.09090909090909,-8.848484848484848,-8.606060606060606,-8.363636363636363,-8.121212121212121,-7.878787878787879,-7.636363636363637,-7.393939393939394,-7.151515151515151,-6.909090909090909,-6.666666666666666,-6.424242424242424,-6.181818181818182,-5.9393939393939394,-5.696969696969697,-5.454545454545454,-5.212121212121212,-4.96969696969697,-4.727272727272727,-4.484848484848484,-4.242424242424242,-4.0,-3.757575757575758,-3.5151515151515156,-3.2727272727272734,-3.0303030303030294,-2.787878787878787,-2.545454545454545,-2.3030303030303028,-2.0606060606060606,-1.8181818181818183,-1.5757575757575761,-1.3333333333333321,-1.09090909090909,-0.8484848484848477,-0.6060606060606055,-0.3636363636363633,-0.1212121212121211,0.1212121212121211,0.3636363636363633,0.6060606060606055,0.8484848484848495,1.0909090909090917,1.333333333333334,1.5757575757575761,1.8181818181818183,2.0606060606060606,2.3030303030303028,2.5454545454545467,2.787878787878789,3.030303030303031,3.2727272727272734,3.5151515151515156,3.757575757575758,4.0,4.242424242424242,4.484848484848484,4.727272727272727,4.969696969696969,5.212121212121211,5.454545454545453,5.696969696969699,5.939393939393941,6.181818181818183,6.424242424242426,6.666666666666668,6.90909090909091,7.151515151515152,7.3939393939393945,7.636363636363637,7.878787878787879,8.121212121212121,8.363636363636363,8.606060606060606,8.848484848484848,9.09090909090909,9.333333333333336,9.575757575757578,9.81818181818182,10.060606060606062,10.303030303030305,10.545454545454547,10.787878787878789,11.030303030303031,11.272727272727273,11.515151515151516,11.757575757575758,12.0,0]},"selected":{"id":"7049"},"selection_policy":{"id":"7048"}},"id":"6136","type":"ColumnDataSource"},{"attributes":{},"id":"6907","type":"UnionRenderers"},{"attributes":{"source":{"id":"6631"}},"id":"6636","type":"CDSView"},{"attributes":{"source":{"id":"6637"}},"id":"6642","type":"CDSView"},{"attributes":{"text_baseline":{"value":"middle"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6644","type":"Text"},{"attributes":{},"id":"6908","type":"Selection"},{"attributes":{"data":{"text":[""],"x":[5],"y":[0]},"selected":{"id":"7156"},"selection_policy":{"id":"7155"}},"id":"6643","type":"ColumnDataSource"},{"attributes":{"text_alpha":{"value":0.1},"text_baseline":{"value":"top"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6639","type":"Text"},{"attributes":{"text_alpha":{"value":0.2},"text_baseline":{"value":"top"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6640","type":"Text"},{"attributes":{"text_alpha":{"value":0.1},"text_baseline":{"value":"middle"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6645","type":"Text"},{"attributes":{"coordinates":null,"data_source":{"id":"6637"},"glyph":{"id":"6638"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6640"},"nonselection_glyph":{"id":"6639"},"view":{"id":"6642"}},"id":"6641","type":"GlyphRenderer"},{"attributes":{"source":{"id":"6643"}},"id":"6648","type":"CDSView"},{"attributes":{"text_alpha":{"value":0.2},"text_baseline":{"value":"middle"},"text_color":{"value":"red"},"x":{"field":"x"},"y":{"field":"y"}},"id":"6646","type":"Text"},{"attributes":{"coordinates":null,"data_source":{"id":"6643"},"glyph":{"id":"6644"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6646"},"nonselection_glyph":{"id":"6645"},"view":{"id":"6648"}},"id":"6647","type":"GlyphRenderer"},{"attributes":{"data":{},"selected":{"id":"6925"},"selection_policy":{"id":"6924"}},"id":"6876","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"6919"},"selection_policy":{"id":"6918"}},"id":"6873","type":"ColumnDataSource"},{"attributes":{},"id":"6909","type":"UnionRenderers"},{"attributes":{},"id":"6910","type":"Selection"},{"attributes":{"data":{},"selected":{"id":"6921"},"selection_policy":{"id":"6920"}},"id":"6874","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"6923"},"selection_policy":{"id":"6922"}},"id":"6875","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"6927"},"selection_policy":{"id":"6926"}},"id":"6877","type":"ColumnDataSource"},{"attributes":{},"id":"6911","type":"UnionRenderers"},{"attributes":{"data":{},"selected":{"id":"6929"},"selection_policy":{"id":"6928"}},"id":"6878","type":"ColumnDataSource"},{"attributes":{},"id":"6912","type":"Selection"},{"attributes":{"data":{},"selected":{"id":"6937"},"selection_policy":{"id":"6936"}},"id":"6882","type":"ColumnDataSource"},{"attributes":{},"id":"7055","type":"BasicTickFormatter"},{"attributes":{"data":{},"selected":{"id":"6931"},"selection_policy":{"id":"6930"}},"id":"6879","type":"ColumnDataSource"},{"attributes":{},"id":"7056","type":"AllLabels"},{"attributes":{"data":{},"selected":{"id":"6933"},"selection_policy":{"id":"6932"}},"id":"6880","type":"ColumnDataSource"},{"attributes":{},"id":"7058","type":"BasicTickFormatter"},{"attributes":{"data":{},"selected":{"id":"6935"},"selection_policy":{"id":"6934"}},"id":"6881","type":"ColumnDataSource"},{"attributes":{},"id":"7059","type":"AllLabels"},{"attributes":{},"id":"6913","type":"UnionRenderers"},{"attributes":{},"id":"6914","type":"Selection"},{"attributes":{"data":{},"selected":{"id":"6939"},"selection_policy":{"id":"6938"}},"id":"6883","type":"ColumnDataSource"},{"attributes":{},"id":"7036","type":"UnionRenderers"},{"attributes":{},"id":"7037","type":"Selection"},{"attributes":{},"id":"7038","type":"UnionRenderers"},{"attributes":{"args":{"Mohr_circle":{"id":"6805"},"arrow_sigma_x1":{"id":"6754"},"arrow_sigma_x1_theta":{"id":"6778"},"arrow_sigma_x2":{"id":"6757"},"arrow_sigma_x2_theta":{"id":"6781"},"arrow_sigma_y1":{"id":"6760"},"arrow_sigma_y1_theta":{"id":"6784"},"arrow_sigma_y2":{"id":"6763"},"arrow_sigma_y2_theta":{"id":"6787"},"arrow_tau_x1":{"id":"6766"},"arrow_tau_x1_theta":{"id":"6790"},"arrow_tau_x2":{"id":"6769"},"arrow_tau_x2_theta":{"id":"6793"},"arrow_tau_y1":{"id":"6772"},"arrow_tau_y1_theta":{"id":"6796"},"arrow_tau_y2":{"id":"6775"},"arrow_tau_y2_theta":{"id":"6799"},"beam_position":{"id":"6653"},"line_stress_state":{"id":"6811"},"line_stress_state_theta":{"id":"6823"},"points_stress_state":{"id":"6817"},"points_stress_state_theta":{"id":"6829"},"rotating_axis":{"id":"6745"},"source":{"id":"5801"},"stress_state":{"id":"6733"},"stress_state_theta":{"id":"6739"}},"code":"\n// retrieve data\nconst db = source.data\nconst y_var = cb_obj.value\nconst N =  db['N'][0]\nconst V =  db['V'][0]\nconst M =  db['M'][0]\nconst A =  db['A'][0]\nconst b =  db['b'][0]\nconst h =  db['h'][0]\nconst yG =  db['yG'][0]\nconst Iy =  db['Iy'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// update data\ndb['y_var'][0] = y_var\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\n// square point:\nbeam_position.glyph.y = y_var\n// update Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state element\nupdate_stress_state_elements(db, stress_state_theta, rotating_axis)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// apply changes\nsource.change.emit()\n\n// declare functions\n\n    function update_stress_state_elements(data, glyph_stress_state_theta, glyph_axis, max_stress=60, max_dim=150.0) {\n        // set variables\n        const theta_element = data['theta_element'][0]\n        const x_new = max_stress*Math.cos(theta_element)\n        const y_new = max_stress*Math.sin(theta_element)\n        \n        // update rotating axis\n        const src_axis = glyph_axis.data_source\n        src_axis.data.x = [0, x_new*max_dim/max_stress]\n        src_axis.data.y = [0, y_new*max_dim/max_stress]\n        src_axis.change.emit()\n        \n        // update stress state\n        //glyph_stress_state.glyph.angle = theta_element\n        //TODO: arrows using above functions\n        \n        // update stress state theta\n        glyph_stress_state_theta.glyph.angle = theta_element\n        glyph_stress_state_theta.glyph.x = x_new*2\n        glyph_stress_state_theta.glyph.y = y_new*2\n        //TODO: arrows using above functions\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_first_moment_of_area_implicit(y_, data) {\n        return compute_first_moment_of_area(y_, data['b'][0], data['h'][0], data['yG'][0])\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var tau = -r_circle*Math.sin(2*theta)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n            var tau = r_circle*Math.sin(2*theta)\n        }\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"6838","type":"CustomJS"},{"attributes":{},"id":"7039","type":"Selection"},{"attributes":{},"id":"7041","type":"UnionRenderers"},{"attributes":{},"id":"7042","type":"Selection"},{"attributes":{},"id":"7043","type":"UnionRenderers"},{"attributes":{},"id":"7090","type":"BasicTickFormatter"},{"attributes":{},"id":"7091","type":"AllLabels"},{"attributes":{},"id":"5826","type":"HelpTool"},{"attributes":{"coordinates":null,"formatter":{"id":"6964"},"group":null,"major_label_policy":{"id":"6965"},"ticker":{"id":"5818"},"visible":false},"id":"5817","type":"LinearAxis"},{"attributes":{},"id":"7093","type":"BasicTickFormatter"},{"attributes":{"axis":{"id":"5817"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"5820","type":"Grid"},{"attributes":{},"id":"5818","type":"BasicTicker"},{"attributes":{"coordinates":null,"data_source":{"id":"5835"},"glyph":{"id":"5836"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5838"},"nonselection_glyph":{"id":"5837"},"view":{"id":"5840"}},"id":"5839","type":"GlyphRenderer"},{"attributes":{},"id":"7094","type":"AllLabels"},{"attributes":{},"id":"5822","type":"WheelZoomTool"},{"attributes":{},"id":"5821","type":"PanTool"},{"attributes":{"overlay":{"id":"5827"}},"id":"5823","type":"BoxZoomTool"},{"attributes":{},"id":"5824","type":"SaveTool"},{"attributes":{},"id":"5825","type":"ResetTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"5827","type":"BoxAnnotation"},{"attributes":{"data":{},"selected":{"id":"7159"},"selection_policy":{"id":"7158"}},"id":"7095","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"navy"},"height":{"value":158.4},"line_alpha":{"value":0.1},"line_color":{"value":"navy"},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"5855","type":"Rect"},{"attributes":{"below":[{"id":"5876"}],"center":[{"id":"5879"},{"id":"5883"}],"height":500,"left":[{"id":"5880"}],"match_aspect":true,"renderers":[{"id":"5902"},{"id":"5911"}],"title":{"id":"5866"},"toolbar":{"id":"5891"},"toolbar_location":null,"width":250,"x_range":{"id":"5868"},"x_scale":{"id":"5872"},"y_range":{"id":"5870"},"y_scale":{"id":"5874"}},"id":"5865","subtype":"Figure","type":"Plot"},{"attributes":{"fill_alpha":0.1,"fill_color":"white","hatch_alpha":0.1,"line_alpha":0.1,"x":{"field":"x"},"y":{"field":"y"}},"id":"5843","type":"Patch"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"lightgray"},"hatch_alpha":{"value":0.2},"height":{"value":200},"line_alpha":{"value":0.2},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"5838","type":"Rect"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"lightgray"},"hatch_alpha":{"value":0.1},"height":{"value":200},"line_alpha":{"value":0.1},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"5837","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"5841"},"glyph":{"id":"5842"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5844"},"nonselection_glyph":{"id":"5843"},"view":{"id":"5846"}},"id":"5845","type":"GlyphRenderer"},{"attributes":{"fill_color":"white","x":{"field":"x"},"y":{"field":"y"}},"id":"5842","type":"Patch"},{"attributes":{"args":{"M_diag":{"id":"6152"},"M_stress_diag":{"id":"6426"},"Mohr_circle":{"id":"6805"},"V_diag":{"id":"6140"},"V_stress_diag":{"id":"6444"},"arr_head":{"id":"6023"},"arrow_sigma_x1":{"id":"6754"},"arrow_sigma_x1_theta":{"id":"6778"},"arrow_sigma_x2":{"id":"6757"},"arrow_sigma_x2_theta":{"id":"6781"},"arrow_sigma_y1":{"id":"6760"},"arrow_sigma_y1_theta":{"id":"6784"},"arrow_sigma_y2":{"id":"6763"},"arrow_sigma_y2_theta":{"id":"6787"},"arrow_tau_x1":{"id":"6766"},"arrow_tau_x1_theta":{"id":"6790"},"arrow_tau_x2":{"id":"6769"},"arrow_tau_x2_theta":{"id":"6793"},"arrow_tau_y1":{"id":"6772"},"arrow_tau_y1_theta":{"id":"6796"},"arrow_tau_y2":{"id":"6775"},"arrow_tau_y2_theta":{"id":"6799"},"bending_strain_diag":{"id":"6518"},"centroid":{"id":"6438"},"div_P":{"id":"6029"},"div_f":{"id":"6031"},"fN":{"id":"6007"},"fP":{"id":"5995"},"fRx":{"id":"6004"},"fRyl":{"id":"6001"},"fRyr":{"id":"5998"},"fV":{"id":"6010"},"label_M_section":{"id":"6641"},"label_N_section":{"id":"6635"},"label_V_section":{"id":"6647"},"line_stress_state":{"id":"6811"},"line_stress_state_theta":{"id":"6823"},"neutral_axis":{"id":"6474"},"points_stress_state":{"id":"6817"},"points_stress_state_theta":{"id":"6829"},"s_M":{"id":"6012"},"s_q":{"id":"5799"},"s_section_M":{"id":"6618"},"section_M_head":{"id":"6629"},"section_N":{"id":"6613"},"section_V":{"id":"6616"},"sigma_stress_diag":{"id":"6462"},"source":{"id":"5801"},"tau_stress_diag":{"id":"6480"}},"code":"\n// retrieve data\nconst db = source.data\nconst q = cb_obj.value\nconst pos = db['x'][0]\nconst L = db['L'][0]\nconst N = db['N'][0]\nconst V = compute_V(pos, q, L)\nconst M = compute_M(pos, q, L)\nconst y_var = db['y_var'][0]\nconst A =  db['A'][0]\nconst b =  db['b'][0]\nconst h =  db['h'][0]\nconst yG =  db['yG'][0]\nconst Iy =  db['Iy'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// update data\ndb['q'][0] = q\ndb['V'][0] = V\ndb['M'][0] = M\ndb['Ry_l'][0] = compute_Ry_l(q, L)\ndb['Ry_r'][0] = compute_Ry_r(q, L)\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\nupdate_u_load(db, s_q)\nupdate_reactions(db, fRx, fRyl, fRyr)\nupdate_external_forces(db, fP, div_P)\nupdate_V_diagram(db, V_diag)\nupdate_M_diagram(db, M_diag)\nupdate_internal_forces(db, fN, fV, arr_head, s_M)\nupdate_div_forces(db, div_f)\nupdate_bending_stress_strain(db, M_stress_diag, bending_strain_diag, centroid)\nupdate_shear_stress(db, V_stress_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\nupdate_NVM_section(db, section_N, section_V, section_M_head, s_section_M, label_N_section, label_V_section, label_M_section)\n// Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// apply changes\nsource.change.emit()\n\n// declare functions\n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function parabola(x, a1, a2, a3) {\n        return Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 + a2 * x[i] +  a1);\n    }\n    \n\n    function arrow_alpha(straight_arrow, alpha=1) {\n        straight_arrow.end.line_alpha = alpha\n        straight_arrow.end.fill_alpha = alpha\n        straight_arrow.line_alpha = alpha\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function compute_V(x, q, L) {\n        return q*x-q*L/2\n    }\n    \n\n    function compute_M(x, q, L) {\n        return q*x/2*(x-L)\n    }\n    \n\n    function compute_Ry_l(q, L) {\n        return q*L/2\n    }\n    \n\n    function compute_Ry_r(q, L) {\n        return q*L/2\n    }\n    \n\n    function update_NVM_diagram(diagram, y) {\n        const y_ = [...y]\n        const source = diagram.data_source\n        y_.unshift(0)\n        y_.push(0)\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n        function update_V_diagram(data, glyph, discr=100) {\n            const L = data['L'][0]\n            const q = data['q'][0]\n            const x = linspace(0, L, 100)\n            const V_discr = Array.from({length: discr}, (_, i) =&gt; compute_V(x[i], q, L))\n            update_NVM_diagram(glyph, V_discr)\n        }\n    \n\n        function update_M_diagram(data, glyph, discr=100) {\n            const L = data['L'][0]\n            const q = data['q'][0]\n            const x = linspace(0, L, 100)\n            const M_discr = Array.from({length: discr}, (_, i) =&gt; compute_M(x[i], q, L))\n            update_NVM_diagram(glyph, M_discr)\n        }\n    \n\n    function update_reactions(data, glyph_Rx, glyph_Ry_l, glyph_Ry_r, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        const Ry_l = data['Ry_l'][0]\n        const Ry_r = data['Ry_r'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_Rx) // Rx\n                arrow_alpha(glyph_Ry_l) // Ry left\n                arrow_alpha(glyph_Ry_r) // Ry right\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_Rx, 1) // Rx\n                arrow_alpha(glyph_Ry_l, 1) // Ry left\n                arrow_alpha(glyph_Ry_r, alpha) // Ry right\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_Rx, alpha) //Rx\n                arrow_alpha(glyph_Ry_l, alpha) //Ry left\n                arrow_alpha(glyph_Ry_r, 1) // Ry right\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        update_arrow(glyph_Rx, -P, -P, 0, 0, 0) // Rx\n        update_arrow(glyph_Ry_r, Ry_r, L, L, -Ry_r, 0) // Ry right\n        update_arrow(glyph_Ry_l, Ry_l, 0, 0, -Ry_l, 0) // Ry left\n    }\n    \n\n    function update_external_forces(data, glyph_P, div_P, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_P) // P\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_P, alpha) // P\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_P, 1) //P\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        if (P==0) {\n            div_P.text = \"Axial force P: removed\"\n            update_arrow(glyph_P) // P\n        } else {\n            div_P.text = \"Axial force P: applied\"\n            update_arrow(glyph_P, P, L+P, L, 0, 0) // P\n        }\n    }\n    \n\n    function update_u_load(data, source_q, OFFSET_Q=4) {\n        const q = data['q'][0]\n        source_q.data['y'][1] = OFFSET_Q+q\n        source_q.data['y'][2] = OFFSET_Q+q\n        source_q.change.emit()\n    }\n    \n\n    function update_internal_forces(data, glyph_N, glyph_V, glyph_M_head, source_M, lambda=0.25, offset_N=1.5, offset_V=1) {\n        const pos = data['x'][0]\n        const SCALE = data['SCALE'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        switch(data['state'][0]) {\n            case 'IDLE':\n                // internal forces\n                update_arrow(glyph_N)\n                update_arrow(glyph_V)\n                update_curvedArrow(0, 0, 0, 0, 0, source_M, glyph_M_head)\n                break;\n            case 'R_SEC':\n                // internal forces\n                update_arrow(glyph_N, -N, pos*SCALE-N+offset_N, pos*SCALE+offset_N, 0, 0)\n                update_arrow(glyph_V, -V, pos*SCALE+offset_V, pos*SCALE+offset_V, -V/2, V/2)\n                var b = 6\n                var c = -M/2*0.8\n                var a = b-lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            case 'L_SEC':\n                // internal forces\n                update_arrow(glyph_N, N, pos*SCALE+N-offset_N, pos*SCALE-offset_N, 0, 0)\n                update_arrow(glyph_V, V, pos*SCALE-offset_V, pos*SCALE-offset_V, V/2, -V/2)\n                var b = -6\n                var c = -M/2*0.8\n                var a = b+lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_curvedArrow(a, b, c, pos_x, pos_y, source, arr_head, discr=10, AHF=6) {\n        const data_M = source.data\n        if (c==0) {\n            var a1 = 0\n            var a3 = 0\n        } else {\n            var a1 = b\n            var a3 = (a-b)/c**2\n        }\n        const step = 2*c / (discr-1);\n        const x = Array.from({length: discr}, (_, i) =&gt; -c + step * i);\n        const y = Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 +  a1)\n        var theta = -Math.atan(2/c*(a-b))\n        if (c&lt;0) {\n            theta = theta+Math.PI\n        }\n        data_M['x'] = y.map(y =&gt; y+pos_x)\n        data_M['y'] = x.map(x =&gt; x+pos_y)\n        \n        arr_head.glyph.size = arrow_growth(2*c)*AHF\n        arr_head.glyph.angle = theta\n        arr_head.glyph.x = y[y.length-1]+pos_x\n        arr_head.glyph.y = x[x.length-1]+pos_y\n        source.change.emit()\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_bending_stress_strain(data, glyph_stress, glyph_strain, glyph_centroid, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const E = data['E'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const M = data['M'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_bending = new Array(discr)\n        let strain_bending = new Array(discr)\n        const src_centroid = glyph_centroid.data_source\n        \n        // apply the changes\n        src_centroid.data.y = [yG, yG]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            strain_bending[i] = compute_epsilon_bending(sigma_bending[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_bending, y_discr)\n        update_strain_diagram(glyph_strain, strain_bending, y_discr)\n        src_centroid.change.emit()\n    }\n    \n\n    function update_shear_stress(data, glyph_stress, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const yG = data['yG'][0]\n        const Iy = data['Iy'][0]\n        const V = data['V'][0]\n        const y_discr = linspace(0, h, discr)\n        let tau_shear = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, tau_shear, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function compute_epsilon_bending(sigma_bending, E) {\n        return sigma_bending/E\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function compute_centroid_y(h) {\n        return h/2\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_first_moment_of_area_implicit(y_, data) {\n        return compute_first_moment_of_area(y_, data['b'][0], data['h'][0], data['yG'][0])\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function update_div_forces(data, div) {\n        switch(data['state'][0]) {\n            case 'IDLE':\n                var str_sec = \"No cross section analysed.\"\n                break\n            case 'R_SEC':\n            case 'L_SEC':\n                var str_sec = \"Cross section at \"+Math.round(data['x'][0]*10)/10+\" m.\"\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        const P = data['P'][0]\n        const Rx = data['Rx'][0]\n        const Ry_l = Math.round(data['Ry_l'][0]*10)/10\n        const Ry_r = Math.round(data['Ry_r'][0]*10)/10\n        const N = Math.abs(data['N'][0])\n        const V = Math.round(Math.abs(data['V'][0])*10)/10\n        const M = Math.round(data['M'][0]*10)/10\n        \n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Forces and Moments:&lt;/b&gt;&lt;/p&gt;\n    P = `+P+` kN&lt;br&gt;\n    Rx = `+Rx+` kN&lt;br&gt;\n    Ry (left) = `+Ry_r+` kN&lt;br&gt;\n    Ry (right) = `+Ry_l+` kN&lt;br&gt;\n    `+str_sec+`&lt;br&gt;\n    N = `+N+` kN&lt;br&gt;\n    V = `+V+` kN&lt;br&gt;\n    M = `+M+` kNm\n    \n    ` \n    }\n    \n\n    function update_NVM_section(data, glyph_N, glyph_V, glyph_M_head, source_M, label_N_section, label_V_section, label_M_section, lambda=0.25, offset_N=1.5, offset_V=2) {\n        const x = 0\n        const y = 0\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        \n        update_arrow(glyph_N, -N, x-N+offset_N, x+offset_N, y, y)\n        update_arrow(glyph_V, -V, x+offset_V, x+offset_V, y-V/2, y+V/2)\n        var b = 6\n        var c = -M/2*0.8\n        var a = b-lambda*c\n        update_curvedArrow(a, b, c, x, y, source_M, glyph_M_head)\n        \n        if (N==0) {\n            label_N_section.glyph.text=''\n        } else {\n            label_N_section.glyph.text='N'\n        }\n        \n        if (V==0) {\n            label_V_section.glyph.text=''\n        } else {\n            label_V_section.glyph.text='V'\n        }\n        \n        if (M==0) {\n            label_M_section.glyph.text=''\n        } else {\n            label_M_section.glyph.text='M'\n        }\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var tau = -r_circle*Math.sin(2*theta)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n            var tau = r_circle*Math.sin(2*theta)\n        }\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"6836","type":"CustomJS"},{"attributes":{"args":{"Mohr_circle":{"id":"6805"},"N_diag":{"id":"6128"},"N_stress_diag":{"id":"6408"},"arr_head":{"id":"6023"},"arrow_sigma_x1":{"id":"6754"},"arrow_sigma_x1_theta":{"id":"6778"},"arrow_sigma_x2":{"id":"6757"},"arrow_sigma_x2_theta":{"id":"6781"},"arrow_sigma_y1":{"id":"6760"},"arrow_sigma_y1_theta":{"id":"6784"},"arrow_sigma_y2":{"id":"6763"},"arrow_sigma_y2_theta":{"id":"6787"},"arrow_tau_x1_theta":{"id":"6790"},"arrow_tau_x2_theta":{"id":"6793"},"arrow_tau_y1_theta":{"id":"6796"},"arrow_tau_y2_theta":{"id":"6799"},"axial_strain_diag":{"id":"6498"},"div_P":{"id":"6029"},"div_f":{"id":"6031"},"fN":{"id":"6007"},"fP":{"id":"5995"},"fRx":{"id":"6004"},"fRyl":{"id":"6001"},"fRyr":{"id":"5998"},"fV":{"id":"6010"},"label_M_section":{"id":"6641"},"label_N_section":{"id":"6635"},"label_V_section":{"id":"6647"},"line_stress_state":{"id":"6811"},"line_stress_state_theta":{"id":"6823"},"neutral_axis":{"id":"6474"},"points_stress_state":{"id":"6817"},"points_stress_state_theta":{"id":"6829"},"s_M":{"id":"6012"},"s_section_M":{"id":"6618"},"section_M_head":{"id":"6629"},"section_N":{"id":"6613"},"section_V":{"id":"6616"},"sigma_stress_diag":{"id":"6462"},"source":{"id":"5801"},"tau_stress_diag":{"id":"6480"}},"code":"\n// retrieve var from the object that uses callback\nvar f = cb_obj.active // checkbox P\nif (f.length==0) f = [1]\nconst P = 10*(1-f)\nconst db = source.data\nconst N = compute_N(P)\nconst M = db['M'][0]\nconst A = db['A'][0]\nconst Iy = db['Iy'][0]\nconst yG = db['yG'][0]\nconst y_var = db['y_var'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = db['tau_0'][0]\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// apply the changes\ndb['P'][0] = P\ndb['N'][0] = N\ndb['Rx'][0] = compute_Rx(db['P'][0])\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\nupdate_reactions(db, fRx, fRyl, fRyr)\nupdate_external_forces(db, fP, div_P)\nupdate_N_diagram(db, N_diag)\nupdate_internal_forces(db, fN, fV, arr_head, s_M)\nupdate_div_forces(db, div_f)\nupdate_axial_stress_strain(db, N_stress_diag, axial_strain_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\nupdate_NVM_section(db, section_N, section_V, section_M_head, s_section_M, label_N_section, label_V_section, label_M_section)\n// Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// emit the changes\nsource.change.emit()\n\n// declare functions\n\n    function update_external_forces(data, glyph_P, div_P, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_P) // P\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_P, alpha) // P\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_P, 1) //P\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        if (P==0) {\n            div_P.text = \"Axial force P: removed\"\n            update_arrow(glyph_P) // P\n        } else {\n            div_P.text = \"Axial force P: applied\"\n            update_arrow(glyph_P, P, L+P, L, 0, 0) // P\n        }\n    }\n    \n\n    function update_reactions(data, glyph_Rx, glyph_Ry_l, glyph_Ry_r, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        const Ry_l = data['Ry_l'][0]\n        const Ry_r = data['Ry_r'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_Rx) // Rx\n                arrow_alpha(glyph_Ry_l) // Ry left\n                arrow_alpha(glyph_Ry_r) // Ry right\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_Rx, 1) // Rx\n                arrow_alpha(glyph_Ry_l, 1) // Ry left\n                arrow_alpha(glyph_Ry_r, alpha) // Ry right\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_Rx, alpha) //Rx\n                arrow_alpha(glyph_Ry_l, alpha) //Ry left\n                arrow_alpha(glyph_Ry_r, 1) // Ry right\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        update_arrow(glyph_Rx, -P, -P, 0, 0, 0) // Rx\n        update_arrow(glyph_Ry_r, Ry_r, L, L, -Ry_r, 0) // Ry right\n        update_arrow(glyph_Ry_l, Ry_l, 0, 0, -Ry_l, 0) // Ry left\n    }\n    \n\n    function compute_Rx(P) {\n        return P\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function arrow_alpha(straight_arrow, alpha=1) {\n        straight_arrow.end.line_alpha = alpha\n        straight_arrow.end.fill_alpha = alpha\n        straight_arrow.line_alpha = alpha\n    }\n    \n\n    function update_NVM_diagram(diagram, y) {\n        const y_ = [...y]\n        const source = diagram.data_source\n        y_.unshift(0)\n        y_.push(0)\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function compute_N(P) {\n        return -P\n    }\n    \n\n        function update_N_diagram(data, glyph, discr=100) {\n            const P = data['P'][0]\n            const N_discr = Array.from({length: discr}, (_, i) =&gt; compute_N(P))\n            update_NVM_diagram(glyph, N_discr)\n        }\n    \n\n    function update_internal_forces(data, glyph_N, glyph_V, glyph_M_head, source_M, lambda=0.25, offset_N=1.5, offset_V=1) {\n        const pos = data['x'][0]\n        const SCALE = data['SCALE'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        switch(data['state'][0]) {\n            case 'IDLE':\n                // internal forces\n                update_arrow(glyph_N)\n                update_arrow(glyph_V)\n                update_curvedArrow(0, 0, 0, 0, 0, source_M, glyph_M_head)\n                break;\n            case 'R_SEC':\n                // internal forces\n                update_arrow(glyph_N, -N, pos*SCALE-N+offset_N, pos*SCALE+offset_N, 0, 0)\n                update_arrow(glyph_V, -V, pos*SCALE+offset_V, pos*SCALE+offset_V, -V/2, V/2)\n                var b = 6\n                var c = -M/2*0.8\n                var a = b-lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            case 'L_SEC':\n                // internal forces\n                update_arrow(glyph_N, N, pos*SCALE+N-offset_N, pos*SCALE-offset_N, 0, 0)\n                update_arrow(glyph_V, V, pos*SCALE-offset_V, pos*SCALE-offset_V, V/2, -V/2)\n                var b = -6\n                var c = -M/2*0.8\n                var a = b+lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_curvedArrow(a, b, c, pos_x, pos_y, source, arr_head, discr=10, AHF=6) {\n        const data_M = source.data\n        if (c==0) {\n            var a1 = 0\n            var a3 = 0\n        } else {\n            var a1 = b\n            var a3 = (a-b)/c**2\n        }\n        const step = 2*c / (discr-1);\n        const x = Array.from({length: discr}, (_, i) =&gt; -c + step * i);\n        const y = Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 +  a1)\n        var theta = -Math.atan(2/c*(a-b))\n        if (c&lt;0) {\n            theta = theta+Math.PI\n        }\n        data_M['x'] = y.map(y =&gt; y+pos_x)\n        data_M['y'] = x.map(x =&gt; x+pos_y)\n        \n        arr_head.glyph.size = arrow_growth(2*c)*AHF\n        arr_head.glyph.angle = theta\n        arr_head.glyph.x = y[y.length-1]+pos_x\n        arr_head.glyph.y = x[x.length-1]+pos_y\n        source.change.emit()\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function compute_epsilon_axial(sigma_axial, E) {\n        return sigma_axial/E\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function update_div_forces(data, div) {\n        switch(data['state'][0]) {\n            case 'IDLE':\n                var str_sec = \"No cross section analysed.\"\n                break\n            case 'R_SEC':\n            case 'L_SEC':\n                var str_sec = \"Cross section at \"+Math.round(data['x'][0]*10)/10+\" m.\"\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        const P = data['P'][0]\n        const Rx = data['Rx'][0]\n        const Ry_l = Math.round(data['Ry_l'][0]*10)/10\n        const Ry_r = Math.round(data['Ry_r'][0]*10)/10\n        const N = Math.abs(data['N'][0])\n        const V = Math.round(Math.abs(data['V'][0])*10)/10\n        const M = Math.round(data['M'][0]*10)/10\n        \n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Forces and Moments:&lt;/b&gt;&lt;/p&gt;\n    P = `+P+` kN&lt;br&gt;\n    Rx = `+Rx+` kN&lt;br&gt;\n    Ry (left) = `+Ry_r+` kN&lt;br&gt;\n    Ry (right) = `+Ry_l+` kN&lt;br&gt;\n    `+str_sec+`&lt;br&gt;\n    N = `+N+` kN&lt;br&gt;\n    V = `+V+` kN&lt;br&gt;\n    M = `+M+` kNm\n    \n    ` \n    }\n    \n\n    function update_NVM_section(data, glyph_N, glyph_V, glyph_M_head, source_M, label_N_section, label_V_section, label_M_section, lambda=0.25, offset_N=1.5, offset_V=2) {\n        const x = 0\n        const y = 0\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        \n        update_arrow(glyph_N, -N, x-N+offset_N, x+offset_N, y, y)\n        update_arrow(glyph_V, -V, x+offset_V, x+offset_V, y-V/2, y+V/2)\n        var b = 6\n        var c = -M/2*0.8\n        var a = b-lambda*c\n        update_curvedArrow(a, b, c, x, y, source_M, glyph_M_head)\n        \n        if (N==0) {\n            label_N_section.glyph.text=''\n        } else {\n            label_N_section.glyph.text='N'\n        }\n        \n        if (V==0) {\n            label_V_section.glyph.text=''\n        } else {\n            label_V_section.glyph.text='V'\n        }\n        \n        if (M==0) {\n            label_M_section.glyph.text=''\n        } else {\n            label_M_section.glyph.text='M'\n        }\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_first_moment_of_area_implicit(y_, data) {\n        return compute_first_moment_of_area(y_, data['b'][0], data['h'][0], data['yG'][0])\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var tau = -r_circle*Math.sin(2*theta)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n            var tau = r_circle*Math.sin(2*theta)\n        }\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"6834","type":"CustomJS"},{"attributes":{"args":{"M_stress_diag":{"id":"6426"},"Mohr_circle":{"id":"6805"},"N_stress_diag":{"id":"6408"},"V_stress_diag":{"id":"6444"},"arrow_sigma_x1":{"id":"6754"},"arrow_sigma_x1_theta":{"id":"6778"},"arrow_sigma_x2":{"id":"6757"},"arrow_sigma_x2_theta":{"id":"6781"},"arrow_sigma_y1":{"id":"6760"},"arrow_sigma_y1_theta":{"id":"6784"},"arrow_sigma_y2":{"id":"6763"},"arrow_sigma_y2_theta":{"id":"6787"},"arrow_tau_x1":{"id":"6766"},"arrow_tau_x1_theta":{"id":"6790"},"arrow_tau_x2":{"id":"6769"},"arrow_tau_x2_theta":{"id":"6793"},"arrow_tau_y1":{"id":"6772"},"arrow_tau_y1_theta":{"id":"6796"},"arrow_tau_y2":{"id":"6775"},"arrow_tau_y2_theta":{"id":"6799"},"axial_strain_diag":{"id":"6498"},"beam":{"id":"5839"},"bending_strain_diag":{"id":"6518"},"centroid":{"id":"6438"},"div":{"id":"5913"},"line_stress_state":{"id":"6811"},"line_stress_state_theta":{"id":"6823"},"neutral_axis":{"id":"6474"},"points_stress_state":{"id":"6817"},"points_stress_state_theta":{"id":"6829"},"s_ss":{"id":"5800"},"section":{"id":"5911"},"sigma_stress_diag":{"id":"6462"},"slider_y":{"id":"6655"},"source":{"id":"5801"},"support_r":{"id":"5851"},"tau_stress_diag":{"id":"6480"}},"code":"\n// solve sliders conflict\nconst db = source.data\nconst h = cb_obj.value // value of the slider\nif (h &lt; db['y_var'][0]) {\n    db['y_var'][0] = h\n}\nslider_y.end = h\nif (h &lt; slider_y.value) {\n    slider_y.value = h\n}\n\n// retrieve data used\nconst data_ss = s_ss.data\nconst b = db['b'][0]\nconst A = compute_area(b, h)\nconst Iy = compute_inertia_y(b, h)\nconst N = db['N'][0]\nconst V = db['V'][0]\nconst M = db['M'][0]\nconst yG = compute_centroid_y(h)\nconst y_var = db['y_var'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// apply the changes\ndb['h'][0] = h\ndb['A'][0] = A\ndb['Iy'][0] = Iy\ndb['Iz'][0] = compute_inertia_z(b, h)\ndb['yG'][0] = yG\ndb['y_n_axis'][0] = compute_neutral_axis(N, A, Iy, M, yG)\nbeam.glyph.height = h // change the beam height\nbeam.glyph.y = h/2\ndata_ss['y'][1] = h // change the height of the section in the diagrams\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\nupdate_div_geo(db, div)\nupdate_section(db, section)\nupdate_axial_stress_strain(db, N_stress_diag, axial_strain_diag)\nupdate_bending_stress_strain(db, M_stress_diag, bending_strain_diag, centroid)\nupdate_shear_stress(db, V_stress_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\n// Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// emit the changes\nsource.change.emit()\ns_ss.change.emit()\n\n\n    function update_div_geo(data, div) {\n        // compute the parameters and dimensions\n        const L = Math.round(data['L'][0]*10)/10\n        const b = Math.round(data['b'][0])\n        const h = Math.round(data['h'][0])\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const Iz = data['Iz'][0]\n        // change the div text\n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Geometrical and mechanical parameters:&lt;/b&gt;&lt;/p&gt;\n    h = `+h+` mm&lt;br&gt;\n    b = `+b+` mm&lt;br&gt;\n    L = `+L+` m&lt;br&gt;\n    A = `+A.toExponential(2)+` mm&lt;sup&gt;2&lt;/sup&gt;&lt;br&gt;\n    Iy = `+Iy.toExponential(2)+` mm&lt;sup&gt;4&lt;/sup&gt;&lt;br&gt;\n    Iz = `+Iz.toExponential(2)+` mm&lt;sup&gt;4&lt;/sup&gt;` \n    }\n    \n\n    function update_section(data, glyph_section) {\n        // change the plot of the section\n        glyph_section.glyph.width = data['b'][0]\n        glyph_section.glyph.height = data['h'][0]\n    }\n    \n\n    function compute_area(b, h) {\n        return b*h\n    }\n    \n\n    function compute_inertia_y(b, h) {\n        return b*h**3/12\n    }\n    \n\n    function compute_inertia_z(b, h) {\n        return h*b**3/12\n    }\n    \n\n    function compute_centroid_y(h) {\n        return h/2\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_bending_stress_strain(data, glyph_stress, glyph_strain, glyph_centroid, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const E = data['E'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const M = data['M'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_bending = new Array(discr)\n        let strain_bending = new Array(discr)\n        const src_centroid = glyph_centroid.data_source\n        \n        // apply the changes\n        src_centroid.data.y = [yG, yG]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            strain_bending[i] = compute_epsilon_bending(sigma_bending[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_bending, y_discr)\n        update_strain_diagram(glyph_strain, strain_bending, y_discr)\n        src_centroid.change.emit()\n    }\n    \n\n    function update_shear_stress(data, glyph_stress, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const yG = data['yG'][0]\n        const Iy = data['Iy'][0]\n        const V = data['V'][0]\n        const y_discr = linspace(0, h, discr)\n        let tau_shear = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, tau_shear, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function compute_epsilon_axial(sigma_axial, E) {\n        return sigma_axial/E\n    }\n    \n\n    function compute_epsilon_bending(sigma_bending, E) {\n        return sigma_bending/E\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_first_moment_of_area_implicit(y_, data) {\n        return compute_first_moment_of_area(y_, data['b'][0], data['h'][0], data['yG'][0])\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var tau = -r_circle*Math.sin(2*theta)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n            var tau = r_circle*Math.sin(2*theta)\n        }\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"6833","type":"CustomJS"},{"attributes":{"data":{"x":[0,0.125,-0.125],"y":[0,-69.28203230275508,-69.28203230275508]},"selected":{"id":"7031"},"selection_policy":{"id":"7030"}},"id":"5841","type":"ColumnDataSource"},{"attributes":{"args":{"E":200000.0,"M_stress_diag":{"id":"6426"},"Mohr_circle":{"id":"6805"},"N_stress_diag":{"id":"6408"},"V_stress_diag":{"id":"6444"},"arr_head":{"id":"6023"},"arrow_sigma_x1":{"id":"6754"},"arrow_sigma_x1_theta":{"id":"6778"},"arrow_sigma_x2":{"id":"6757"},"arrow_sigma_x2_theta":{"id":"6781"},"arrow_sigma_y1":{"id":"6760"},"arrow_sigma_y1_theta":{"id":"6784"},"arrow_sigma_y2":{"id":"6763"},"arrow_sigma_y2_theta":{"id":"6787"},"arrow_tau_x1":{"id":"6766"},"arrow_tau_x1_theta":{"id":"6790"},"arrow_tau_x2":{"id":"6769"},"arrow_tau_x2_theta":{"id":"6793"},"arrow_tau_y1":{"id":"6772"},"arrow_tau_y1_theta":{"id":"6796"},"arrow_tau_y2":{"id":"6775"},"arrow_tau_y2_theta":{"id":"6799"},"axial_strain_diag":{"id":"6498"},"bending_strain_diag":{"id":"6518"},"centroid":{"id":"6438"},"discr_stress":10,"div_P":{"id":"6029"},"div_f":{"id":"6031"},"fN":{"id":"6007"},"fP":{"id":"5995"},"fRx":{"id":"6004"},"fRyl":{"id":"6001"},"fRyr":{"id":"5998"},"fV":{"id":"6010"},"label_M_section":{"id":"6641"},"label_N_section":{"id":"6635"},"label_V_section":{"id":"6647"},"line_stress_state":{"id":"6811"},"line_stress_state_theta":{"id":"6823"},"neutral_axis":{"id":"6474"},"points_stress_state":{"id":"6817"},"points_stress_state_theta":{"id":"6829"},"s_M":{"id":"6012"},"s_q":{"id":"5799"},"s_sb":{"id":"5798"},"s_section_M":{"id":"6618"},"section_M_head":{"id":"6629"},"section_N":{"id":"6613"},"section_V":{"id":"6616"},"sigma_stress_diag":{"id":"6462"},"source":{"id":"5801"},"tau_stress_diag":{"id":"6480"}},"code":"\n// retrieve data\nconst db = source.data\nconst data_sb = s_sb.data\nconst data_q = s_q.data\nconst FBD = db['FBD'][0]\nconst pos = cb_obj.value\nconst q = db['q'][0]\nconst L = db['L'][0]\nconst N = compute_N(db['P'][0])\nconst V = compute_V(pos, q, L)\nconst M = compute_M(pos, q, L)\n\n// update data\ndb['N'][0] = N\ndb['V'][0] = V\ndb['M'][0] = M\ndb['x'][0] = pos\n\n// check state\ncheck_state(db)\n\n// update:\nupdate_internal_forces(db, fN, fV, arr_head, s_M)\nupdate_scheme_position(db, data_sb, data_q)\nupdate_reactions(db, fRx, fRyl, fRyr)\nupdate_external_forces(db, fP, div_P)\nupdate_div_forces(db, div_f)\nupdate_axial_stress_strain(db, N_stress_diag, axial_strain_diag)\nupdate_bending_stress_strain(db, M_stress_diag, bending_strain_diag, centroid)\nupdate_shear_stress(db, V_stress_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\nupdate_NVM_section(db, section_N, section_V, section_M_head, s_section_M, label_N_section, label_V_section, label_M_section)\n\nconst y_var = db['y_var'][0]\nconst A =  db['A'][0]\nconst b =  db['b'][0]\nconst h =  db['h'][0]\nconst yG =  db['yG'][0]\nconst Iy =  db['Iy'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// update data\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// apply the changes\nsource.change.emit()\ns_sb.change.emit()\ns_q.change.emit()\n\n// declare functions\n\n    function compute_N(P) {\n        return -P\n    }\n    \n\n    function compute_V(x, q, L) {\n        return q*x-q*L/2\n    }\n    \n\n    function compute_M(x, q, L) {\n        return q*x/2*(x-L)\n    }\n    \n\n    function update_internal_forces(data, glyph_N, glyph_V, glyph_M_head, source_M, lambda=0.25, offset_N=1.5, offset_V=1) {\n        const pos = data['x'][0]\n        const SCALE = data['SCALE'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        switch(data['state'][0]) {\n            case 'IDLE':\n                // internal forces\n                update_arrow(glyph_N)\n                update_arrow(glyph_V)\n                update_curvedArrow(0, 0, 0, 0, 0, source_M, glyph_M_head)\n                break;\n            case 'R_SEC':\n                // internal forces\n                update_arrow(glyph_N, -N, pos*SCALE-N+offset_N, pos*SCALE+offset_N, 0, 0)\n                update_arrow(glyph_V, -V, pos*SCALE+offset_V, pos*SCALE+offset_V, -V/2, V/2)\n                var b = 6\n                var c = -M/2*0.8\n                var a = b-lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            case 'L_SEC':\n                // internal forces\n                update_arrow(glyph_N, N, pos*SCALE+N-offset_N, pos*SCALE-offset_N, 0, 0)\n                update_arrow(glyph_V, V, pos*SCALE-offset_V, pos*SCALE-offset_V, V/2, -V/2)\n                var b = -6\n                var c = -M/2*0.8\n                var a = b+lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_scheme_position(data, data_scheme_beam, data_scheme_q) {\n        const L = data['L'][0]*data['SCALE'][0]\n        const pos = data['x'][0]*data['SCALE'][0]\n        \n        // move position of the point\n        data['xF'][0] = pos\n        \n        switch(data['state'][0]) {\n            case 'IDLE':\n                // beam\n                data_scheme_beam['x'][0] = 0\n                data_scheme_beam['x'][1] = L\n                // unif load\n                data_scheme_q['x'][0] = 0\n                data_scheme_q['x'][1] = 0\n                data_scheme_q['x'][2] = L\n                data_scheme_q['x'][3] = L\n                break\n            case 'R_SEC':\n                // beam\n                data_scheme_beam['x'][0] = 0\n                data_scheme_beam['x'][1] = pos\n                // unif load\n                data_scheme_q['x'][0] = 0\n                data_scheme_q['x'][1] = 0\n                data_scheme_q['x'][2] = pos\n                data_scheme_q['x'][3] = pos\n                break\n            case 'L_SEC':\n                // beam\n                data_scheme_beam['x'][0] = L\n                data_scheme_beam['x'][1] = pos\n                // unif load\n                data_scheme_q['x'][0] = L\n                data_scheme_q['x'][1] = L\n                data_scheme_q['x'][2] = pos\n                data_scheme_q['x'][3] = pos\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_reactions(data, glyph_Rx, glyph_Ry_l, glyph_Ry_r, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        const Ry_l = data['Ry_l'][0]\n        const Ry_r = data['Ry_r'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_Rx) // Rx\n                arrow_alpha(glyph_Ry_l) // Ry left\n                arrow_alpha(glyph_Ry_r) // Ry right\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_Rx, 1) // Rx\n                arrow_alpha(glyph_Ry_l, 1) // Ry left\n                arrow_alpha(glyph_Ry_r, alpha) // Ry right\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_Rx, alpha) //Rx\n                arrow_alpha(glyph_Ry_l, alpha) //Ry left\n                arrow_alpha(glyph_Ry_r, 1) // Ry right\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        update_arrow(glyph_Rx, -P, -P, 0, 0, 0) // Rx\n        update_arrow(glyph_Ry_r, Ry_r, L, L, -Ry_r, 0) // Ry right\n        update_arrow(glyph_Ry_l, Ry_l, 0, 0, -Ry_l, 0) // Ry left\n    }\n    \n\n    function update_external_forces(data, glyph_P, div_P, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_P) // P\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_P, alpha) // P\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_P, 1) //P\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        if (P==0) {\n            div_P.text = \"Axial force P: removed\"\n            update_arrow(glyph_P) // P\n        } else {\n            div_P.text = \"Axial force P: applied\"\n            update_arrow(glyph_P, P, L+P, L, 0, 0) // P\n        }\n    }\n    \n\n    function update_div_forces(data, div) {\n        switch(data['state'][0]) {\n            case 'IDLE':\n                var str_sec = \"No cross section analysed.\"\n                break\n            case 'R_SEC':\n            case 'L_SEC':\n                var str_sec = \"Cross section at \"+Math.round(data['x'][0]*10)/10+\" m.\"\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        const P = data['P'][0]\n        const Rx = data['Rx'][0]\n        const Ry_l = Math.round(data['Ry_l'][0]*10)/10\n        const Ry_r = Math.round(data['Ry_r'][0]*10)/10\n        const N = Math.abs(data['N'][0])\n        const V = Math.round(Math.abs(data['V'][0])*10)/10\n        const M = Math.round(data['M'][0]*10)/10\n        \n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Forces and Moments:&lt;/b&gt;&lt;/p&gt;\n    P = `+P+` kN&lt;br&gt;\n    Rx = `+Rx+` kN&lt;br&gt;\n    Ry (left) = `+Ry_r+` kN&lt;br&gt;\n    Ry (right) = `+Ry_l+` kN&lt;br&gt;\n    `+str_sec+`&lt;br&gt;\n    N = `+N+` kN&lt;br&gt;\n    V = `+V+` kN&lt;br&gt;\n    M = `+M+` kNm\n    \n    ` \n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function parabola(x, a1, a2, a3) {\n        return Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 + a2 * x[i] +  a1);\n    }\n    \n\n    function arrow_alpha(straight_arrow, alpha=1) {\n        straight_arrow.end.line_alpha = alpha\n        straight_arrow.end.fill_alpha = alpha\n        straight_arrow.line_alpha = alpha\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function update_curvedArrow(a, b, c, pos_x, pos_y, source, arr_head, discr=10, AHF=6) {\n        const data_M = source.data\n        if (c==0) {\n            var a1 = 0\n            var a3 = 0\n        } else {\n            var a1 = b\n            var a3 = (a-b)/c**2\n        }\n        const step = 2*c / (discr-1);\n        const x = Array.from({length: discr}, (_, i) =&gt; -c + step * i);\n        const y = Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 +  a1)\n        var theta = -Math.atan(2/c*(a-b))\n        if (c&lt;0) {\n            theta = theta+Math.PI\n        }\n        data_M['x'] = y.map(y =&gt; y+pos_x)\n        data_M['y'] = x.map(x =&gt; x+pos_y)\n        \n        arr_head.glyph.size = arrow_growth(2*c)*AHF\n        arr_head.glyph.angle = theta\n        arr_head.glyph.x = y[y.length-1]+pos_x\n        arr_head.glyph.y = x[x.length-1]+pos_y\n        source.change.emit()\n    }\n    \n\n    function update_NVM_diagram(diagram, y) {\n        const y_ = [...y]\n        const source = diagram.data_source\n        y_.unshift(0)\n        y_.push(0)\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function check_state(data) {\n        const FBD = data['FBD'][0]\n        const pos = data['x'][0]\n        const L = data['L'][0]\n        if (FBD == 0 &amp;&amp; pos != L) {\n            data['state'][0] = 'R_SEC'\n        } else if (FBD == 1 &amp;&amp; pos != 0) {\n            data['state'][0] = 'L_SEC'\n        } else {\n            data['state'][0] = 'IDLE'\n        }\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_first_moment_of_area_implicit(y_, data) {\n        return compute_first_moment_of_area(y_, data['b'][0], data['h'][0], data['yG'][0])\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function compute_epsilon_axial(sigma_axial, E) {\n        return sigma_axial/E\n    }\n    \n\n    function compute_epsilon_bending(sigma_bending, E) {\n        return sigma_bending/E\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_bending_stress_strain(data, glyph_stress, glyph_strain, glyph_centroid, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const E = data['E'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const M = data['M'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_bending = new Array(discr)\n        let strain_bending = new Array(discr)\n        const src_centroid = glyph_centroid.data_source\n        \n        // apply the changes\n        src_centroid.data.y = [yG, yG]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            strain_bending[i] = compute_epsilon_bending(sigma_bending[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_bending, y_discr)\n        update_strain_diagram(glyph_strain, strain_bending, y_discr)\n        src_centroid.change.emit()\n    }\n    \n\n    function update_shear_stress(data, glyph_stress, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const yG = data['yG'][0]\n        const Iy = data['Iy'][0]\n        const V = data['V'][0]\n        const y_discr = linspace(0, h, discr)\n        let tau_shear = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, tau_shear, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function update_NVM_section(data, glyph_N, glyph_V, glyph_M_head, source_M, label_N_section, label_V_section, label_M_section, lambda=0.25, offset_N=1.5, offset_V=2) {\n        const x = 0\n        const y = 0\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        \n        update_arrow(glyph_N, -N, x-N+offset_N, x+offset_N, y, y)\n        update_arrow(glyph_V, -V, x+offset_V, x+offset_V, y-V/2, y+V/2)\n        var b = 6\n        var c = -M/2*0.8\n        var a = b-lambda*c\n        update_curvedArrow(a, b, c, x, y, source_M, glyph_M_head)\n        \n        if (N==0) {\n            label_N_section.glyph.text=''\n        } else {\n            label_N_section.glyph.text='N'\n        }\n        \n        if (V==0) {\n            label_V_section.glyph.text=''\n        } else {\n            label_V_section.glyph.text='V'\n        }\n        \n        if (M==0) {\n            label_M_section.glyph.text=''\n        } else {\n            label_M_section.glyph.text='M'\n        }\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var tau = -r_circle*Math.sin(2*theta)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n            var tau = r_circle*Math.sin(2*theta)\n        }\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"6831","type":"CustomJS"},{"attributes":{"source":{"id":"5835"}},"id":"5840","type":"CDSView"},{"attributes":{"args":{"M_stress_diag":{"id":"6426"},"Mohr_circle":{"id":"6805"},"N_stress_diag":{"id":"6408"},"V_stress_diag":{"id":"6444"},"arrow_sigma_x1":{"id":"6754"},"arrow_sigma_x1_theta":{"id":"6778"},"arrow_sigma_x2":{"id":"6757"},"arrow_sigma_x2_theta":{"id":"6781"},"arrow_sigma_y1":{"id":"6760"},"arrow_sigma_y1_theta":{"id":"6784"},"arrow_sigma_y2":{"id":"6763"},"arrow_sigma_y2_theta":{"id":"6787"},"arrow_tau_x1":{"id":"6766"},"arrow_tau_x1_theta":{"id":"6790"},"arrow_tau_x2":{"id":"6769"},"arrow_tau_x2_theta":{"id":"6793"},"arrow_tau_y1":{"id":"6772"},"arrow_tau_y1_theta":{"id":"6796"},"arrow_tau_y2":{"id":"6775"},"arrow_tau_y2_theta":{"id":"6799"},"axial_strain_diag":{"id":"6498"},"bending_strain_diag":{"id":"6518"},"centroid":{"id":"6438"},"div":{"id":"5913"},"line_stress_state":{"id":"6811"},"line_stress_state_theta":{"id":"6823"},"neutral_axis":{"id":"6474"},"points_stress_state":{"id":"6817"},"points_stress_state_theta":{"id":"6829"},"section":{"id":"5911"},"sigma_stress_diag":{"id":"6462"},"source":{"id":"5801"},"support_r":{"id":"5851"},"tau_stress_diag":{"id":"6480"}},"code":"\n// retrieve data used\nconst db = source.data\nconst b = cb_obj.value // value of the slider\nconst h = db['h'][0]\nconst A = compute_area(b, h)\nconst Iy = compute_inertia_y(b, h)\nconst yG = db['yG'][0]\nconst N = db['N'][0]\nconst M = db['M'][0]\nconst V = db['V'][0]\nconst y_var = db['y_var'][0]\nconst theta_element = db['theta_element'][0]\nconst sigma_x0 = compute_total_sigma(compute_sigma_axial(N, A), compute_sigma_bending(y_var, M, Iy, yG))\nconst sigma_y0 = 0\nconst tau_0 = compute_total_tau(compute_tau_shear(V, compute_first_moment_of_area(y_var, b, h, yG), Iy, b))\nconst sigma_average = compute_sigma_average_mohr(sigma_x0, sigma_y0)\nconst r_circle = compute_radius_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta_principal = compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0)\nconst theta = compute_theta_mohr(theta_element, theta_principal)\nconst new_state = compute_stress_state_mohr(sigma_average, r_circle, theta)\n\n// apply the changes\ndb['b'][0] = b\ndb['A'][0] = A\ndb['Iy'][0] = Iy\ndb['Iz'][0] = compute_inertia_z(b, h)\ndb['y_n_axis'][0] = compute_neutral_axis(N, A, Iy, M, yG)\ndb['sigma_x0'][0] = sigma_x0\ndb['sigma_y0'][0] = sigma_y0\ndb['tau_0'][0] = tau_0\ndb['sigma_average_mohr'][0] = sigma_average\ndb['r_circle_mohr'][0] = r_circle\ndb['sigma_x'][0] = new_state[0]\ndb['sigma_y'][0] = new_state[1]\ndb['tau'][0] = new_state[2]\ndb['theta'][0] = theta\n\n// update\nupdate_div_geo(db, div)\nupdate_section(db, section)\nupdate_axial_stress_strain(db, N_stress_diag, axial_strain_diag)\nupdate_bending_stress_strain(db, M_stress_diag, bending_strain_diag, centroid)\nupdate_shear_stress(db, V_stress_diag)\nupdate_total_stress(db, sigma_stress_diag, tau_stress_diag, neutral_axis)\n// Mohr circle\nupdate_circle_mohr(db, Mohr_circle, line_stress_state, points_stress_state, line_stress_state_theta, points_stress_state_theta)\n// stress state\nupdate_sigmax_state(db, arrow_sigma_x1, arrow_sigma_x2)\nupdate_sigmay_state(db, arrow_sigma_y1, arrow_sigma_y2)\nupdate_tau_state(db, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2)\n// stress state (theta)\nupdate_sigmax_state_theta(db, arrow_sigma_x1_theta, arrow_sigma_x2_theta)\nupdate_sigmay_state_theta(db, arrow_sigma_y1_theta, arrow_sigma_y2_theta)\nupdate_tau_state_theta(db, arrow_tau_x1_theta,arrow_tau_x2_theta, arrow_tau_y1_theta, arrow_tau_y2_theta)\n\n// emit the changes\nsource.change.emit()\n\n\n    function update_div_geo(data, div) {\n        // compute the parameters and dimensions\n        const L = Math.round(data['L'][0]*10)/10\n        const b = Math.round(data['b'][0])\n        const h = Math.round(data['h'][0])\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const Iz = data['Iz'][0]\n        // change the div text\n        div.text =  `\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Geometrical and mechanical parameters:&lt;/b&gt;&lt;/p&gt;\n    h = `+h+` mm&lt;br&gt;\n    b = `+b+` mm&lt;br&gt;\n    L = `+L+` m&lt;br&gt;\n    A = `+A.toExponential(2)+` mm&lt;sup&gt;2&lt;/sup&gt;&lt;br&gt;\n    Iy = `+Iy.toExponential(2)+` mm&lt;sup&gt;4&lt;/sup&gt;&lt;br&gt;\n    Iz = `+Iz.toExponential(2)+` mm&lt;sup&gt;4&lt;/sup&gt;` \n    }\n    \n\n    function update_section(data, glyph_section) {\n        // change the plot of the section\n        glyph_section.glyph.width = data['b'][0]\n        glyph_section.glyph.height = data['h'][0]\n    }\n    \n\n    function compute_area(b, h) {\n        return b*h\n    }\n    \n\n    function compute_inertia_y(b, h) {\n        return b*h**3/12\n    }\n    \n\n    function compute_inertia_z(b, h) {\n        return h*b**3/12\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function update_axial_stress_strain(data, glyph_stress, glyph_strain, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const A = data['A'][0]\n        const E = data['E'][0]\n        const N = data['N'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_axial = new Array(discr)\n        let strain_axial = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            strain_axial[i] = compute_epsilon_axial(sigma_axial[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_axial, y_discr)\n        update_strain_diagram(glyph_strain, strain_axial, y_discr)\n    }\n    \n\n    function update_bending_stress_strain(data, glyph_stress, glyph_strain, glyph_centroid, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const E = data['E'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const M = data['M'][0]\n        const y_discr = linspace(0, h, discr)\n        let sigma_bending = new Array(discr)\n        let strain_bending = new Array(discr)\n        const src_centroid = glyph_centroid.data_source\n        \n        // apply the changes\n        src_centroid.data.y = [yG, yG]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            strain_bending[i] = compute_epsilon_bending(sigma_bending[i], E)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, sigma_bending, y_discr)\n        update_strain_diagram(glyph_strain, strain_bending, y_discr)\n        src_centroid.change.emit()\n    }\n    \n\n    function update_shear_stress(data, glyph_stress, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const yG = data['yG'][0]\n        const Iy = data['Iy'][0]\n        const V = data['V'][0]\n        const y_discr = linspace(0, h, discr)\n        let tau_shear = new Array(discr)\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_stress, tau_shear, y_discr)\n    }\n    \n\n    function update_total_stress(data, glyph_sigma, glyph_tau, glyph_neutral_axis, discr=10) {  \n        // define parameters\n        const h = data['h'][0]\n        const b = data['b'][0]\n        const M = data['M'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const A = data['A'][0]\n        const Iy = data['Iy'][0]\n        const yG = data['yG'][0]\n        const y_discr = linspace(0, h, discr)\n        const y_n_axis = compute_neutral_axis(N, A, Iy, M, yG)\n        let sigma_bending = new Array(discr)\n        let tau_shear = new Array(discr)\n        let sigma_axial = new Array(discr)\n        let total_sigma = new Array(discr)\n        let total_tau = new Array(discr)\n        const src_n_axis = glyph_neutral_axis.data_source\n        \n        \n        // apply the changes\n        db['y_n_axis'][0] = y_n_axis\n        src_n_axis.data.y = [y_n_axis, y_n_axis]\n        \n        // compute the arrays\n        for (var i = 0; i &lt; discr; i++) {\n            // sigma\n            sigma_axial[i] = compute_sigma_axial(N, A)\n            sigma_bending[i] = compute_sigma_bending(y_discr[i], M, Iy, yG)\n            total_sigma[i] = compute_total_sigma(sigma_axial[i], sigma_bending[i])\n            // tau\n            //var S = compute_first_moment_of_area(y_discr[i], b, h, yG)\n            var S = compute_first_moment_of_area_implicit(y_discr[i], data)\n            tau_shear[i] = compute_tau_shear(V, S, Iy, b)\n            \n            total_tau[i] = compute_total_tau(tau_shear[i])\n        }\n        \n        // change the diagrams\n        update_stress_diagram(glyph_sigma, total_sigma, y_discr)\n        update_stress_diagram(glyph_tau, total_tau, y_discr)\n        src_n_axis.change.emit()\n    }\n    \n\n    function linspace(start, stop, discr = 100) {\n        const step = (stop - start) / (discr-1);\n        return Array.from({length: discr}, (_, i) =&gt; start + step * i);\n    }\n    \n\n    function compute_epsilon_axial(sigma_axial, E) {\n        return sigma_axial/E\n    }\n    \n\n    function compute_epsilon_bending(sigma_bending, E) {\n        return sigma_bending/E\n    }\n    \n\n    function compute_sigma_axial(N, A) {\n        return N*1000/A\n    }\n    \n\n    function update_stress_diagram(diagram, x, y) {\n        const x_ = [...x]\n        const y_ = [...y]\n        const source = diagram.data_source\n        x_.unshift(0)\n        x_.push(0)\n        y_.unshift(y[0])\n        y_.push(y[y.length-1])\n        source.data.x = x_\n        source.data.y = y_\n        source.change.emit()\n    }\n    \n\n    function update_strain_diagram(diagram, x, y) {\n        const source = diagram.data_source\n        source.data.x = x\n        source.data.y = y\n        source.change.emit()\n    }\n    \n\n    function compute_sigma_bending(y, M, Iy, yG) {\n        return M*1e6/Iy*(y-yG)\n    }\n    \n\n    function compute_total_sigma(sigma_axial, sigma_bending) {\n        return sigma_bending+sigma_axial\n    }\n    \n\n    function compute_total_tau(tau_shear, tau_torsion=0) {\n        return tau_shear + tau_torsion\n    }\n    \n\n    function compute_first_moment_of_area(y, b, h, yG) {\n        return b/2*(h**2/4-(y-yG)**2)\n    }\n    \n\n    function compute_first_moment_of_area_implicit(y_, data) {\n        return compute_first_moment_of_area(y_, data['b'][0], data['h'][0], data['yG'][0])\n    }\n    \n\n    function compute_tau_shear(V, S, Iy, b) {\n        return V*1000*S/(Iy*b)\n    }\n    \n\n    function compute_centroid_y(h) {\n        return h/2\n    }\n    \n\n    function compute_neutral_axis(N, A, Iy, M, yG) {\n        if (M == 0) {\n            return yG\n        }\n        else {\n            return yG - N/A*Iy/M/1000\n        }\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n\n    function compute_radius_mohr(sigma_x0, sigma_y0, tau_0) {\n        return Math.sqrt(tau_0**2 + (sigma_x0-sigma_y0)**2/4)\n    }\n    \n\n    function compute_stress_state_mohr(sigma_average, r_circle, theta) {\n        if (sigma_average &gt; 0) {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var tau = -r_circle*Math.sin(2*theta)\n        } else {\n            var sigma_x = sigma_average + r_circle*Math.cos(2*theta-Math.PI)\n            var sigma_y = sigma_average + r_circle*Math.cos(2*theta)\n            var tau = r_circle*Math.sin(2*theta)\n        }\n        return [sigma_x, sigma_y, tau]\n    }\n    \n\n    function compute_sigma_average_mohr(sigma_x0, sigma_y0) {\n        return (sigma_x0+sigma_y0)/2\n    }\n    \n\n    function compute_principal_theta_mohr(sigma_x0, sigma_y0, tau_0) {\n        if ((sigma_x0-sigma_y0)==0) {\n            if (tau_0&gt;0) {\n                return Math.PI/2\n            } else {\n                return -Math.PI/2\n            }\n        } else {\n            return Math.atan(2*tau_0/(sigma_y0-sigma_x0))/2\n        }\n    }\n    \n\n    function compute_theta_mohr(theta_element, theta_principal) {\n        return theta_element+theta_principal\n    }\n    \n\n    function update_circle_mohr(data, glyph_circle, glyph_line, glyph_points, glyph_line_theta, glyph_points_theta) {\n        // set variables\n        const sigma_average = data['sigma_average_mohr'][0]\n        const r_circle = data['r_circle_mohr'][0]\n        const sigma_x0 = data['sigma_x0'][0]\n        const sigma_y0 = data['sigma_y0'][0]\n        const tau_0 = data['tau_0'][0]\n        const sigma_x = data['sigma_x'][0]\n        const sigma_y = data['sigma_y'][0]\n        const tau = data['tau'][0]\n        \n        // update circle\n        glyph_circle.glyph.x = sigma_average\n        glyph_circle.glyph.radius = r_circle\n        \n        // update points\n        const src_points = glyph_points.data_source\n        src_points.data.x = [sigma_x0, sigma_y0]\n        src_points.data.y = [tau_0, -tau_0]\n        src_points.change.emit()\n        \n        // update lines\n        const src_line = glyph_line.data_source\n        src_line.data.x = [sigma_x0, sigma_y0]\n        src_line.data.y = [tau_0, -tau_0]\n        src_line.change.emit()\n        \n        // update labels\n        //TODO:\n        \n        // update points theta\n        const src_points_theta = glyph_points_theta.data_source\n        src_points_theta.data.x = [sigma_x, sigma_y]\n        src_points_theta.data.y = [tau, -tau]\n        src_points_theta.change.emit()\n        \n        // update lines theta\n        const src_line_theta = glyph_line_theta.data_source\n        src_line_theta.data.x = [sigma_x, sigma_y]\n        src_line_theta.data.y = [tau, -tau]\n        src_line_theta.change.emit()\n        \n        // update labels theta\n        //TODO:\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_sigmax_state(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_x0 = data['sigma_x0'][0]\n        const AHF = 4\n        \n        if (sigma_x0 &gt; 0) {\n            update_arrow(arrow_sigma_x1, sigma_x0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_x0, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, sigma_x0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_x0), 0, 0, AHF)\n        } else {\n            update_arrow(arrow_sigma_x1, -sigma_x0, width_element/2+offset_arrows-sigma_x0, width_element/2+offset_arrows, 0, 0, AHF)\n            update_arrow(arrow_sigma_x2, -sigma_x0, -(width_element/2+offset_arrows-sigma_x0), -(width_element/2+offset_arrows), 0, 0, AHF)\n        }\n    }\n    \n\n    function update_sigmay_state(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0) {\n        const offset_arrows = width_element/3\n        const sigma_y0 = data['sigma_y0'][0]\n        const AHF = 4\n        \n        if (sigma_y0 &gt; 0) {\n            update_arrow(arrow_sigma_y1, sigma_y0, 0, 0, width_element/2+offset_arrows, width_element/2+offset_arrows+sigma_y0, AHF)\n            update_arrow(arrow_sigma_y2, sigma_y0, 0, 0, -(width_element/2+offset_arrows), -(width_element/2+offset_arrows+sigma_y0), AHF)\n        } else {\n            update_arrow(arrow_sigma_y1, -sigma_y0, 0, 0, width_element/2+offset_arrows-sigma_y0, width_element/2+offset_arrows, AHF)\n            update_arrow(arrow_sigma_y2, -sigma_y0, 0, 0, -(width_element/2+offset_arrows-sigma_y0), -(width_element/2+offset_arrows), AHF)\n        }\n    }\n    \n\n    function update_tau_state(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const tau_0 = data['tau_0'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1, tau_0, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, -tau_0/2, tau_0/2, AHF)\n        update_arrow(arrow_tau_x2, tau_0, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), tau_0/2, -tau_0/2, AHF)\n        update_arrow(arrow_tau_y1, tau_0, -tau_0/2, tau_0/2, width_element/2+offset_arrows/2, width_element/2+offset_arrows/2, AHF)\n        update_arrow(arrow_tau_y2, tau_0, tau_0/2, -tau_0/2, -(width_element/2+offset_arrows/2), -(width_element/2+offset_arrows/2), AHF)\n    }\n    \n\n    function update_sigmax_state_theta(data, arrow_sigma_x1, arrow_sigma_x2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        var sigma_x = data['sigma_x'][0]\n        const theta = data['theta_element'][0]\n        const AHF = 4\n        \n        if (sigma_x &lt; 0) {\n            var sigma_x = -sigma_x\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_x1,\n                         sigma_x,\n                         (offset_sigma+center_x)*Math.cos(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.cos(theta),\n                         (offset_sigma+center_x)*Math.sin(theta),\n                         (offset_sigma+center_x+sigma_x)*Math.sin(theta),\n                         AHF)\n            update_arrow(arrow_sigma_x2,\n                         sigma_x,\n                         (-offset_sigma+center_x)*Math.cos(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.cos(theta),\n                         (-offset_sigma+center_x)*Math.sin(theta),\n                         (-(offset_sigma+sigma_x)+center_x)*Math.sin(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_sigmay_state_theta(data, arrow_sigma_y1, arrow_sigma_y2, width_element=30.0, center_x=120) {\n        const offset_arrows = width_element/3\n        const offset_sigma = width_element/2+offset_arrows\n        const theta = data['theta_element'][0]\n        var sigma_y = data['sigma_y'][0]\n        const AHF = 4\n        \n        if (sigma_y&lt;0) {\n            var sigma_y = -sigma_y\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         AHF)\n        } else {\n            update_arrow(arrow_sigma_y1,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)-(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)-(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)+(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n            update_arrow(arrow_sigma_y2,\n                         sigma_y,\n                         (center_x)*Math.cos(theta)+(offset_sigma)*Math.sin(theta),\n                         (center_x)*Math.cos(theta)+(offset_sigma+sigma_y)*Math.sin(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma)*Math.cos(theta),\n                         (center_x)*Math.sin(theta)-(offset_sigma+sigma_y)*Math.cos(theta),\n                         AHF)\n        }\n    }\n    \n\n    function update_tau_state_theta(data, arrow_tau_x1, arrow_tau_x2, arrow_tau_y1, arrow_tau_y2, width_element=30.0, center_x=120, scale_tau=5) {\n        const offset_arrows = width_element/3\n        const offset_tau = width_element/2+offset_arrows/2\n        const theta = data['theta_element'][0]\n        const tau = data['tau'][0]*scale_tau\n        const AHF = 4\n        \n        update_arrow(arrow_tau_x1,\n                     tau,\n                     (center_x+offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x+offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     (center_x+offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_x2,\n                     tau,\n                     (center_x-offset_tau)*Math.cos(theta)-(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.cos(theta)+(tau/2)*Math.sin(theta),\n                     (center_x-offset_tau)*Math.sin(theta)+(tau/2)*Math.cos(theta),\n                     (center_x-offset_tau)*Math.sin(theta)-(tau/2)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y1,\n                     tau,\n                     (center_x-tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.cos(theta)-(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     (center_x+tau/2)*Math.sin(theta)+(offset_tau)*Math.cos(theta),\n                     AHF)\n        update_arrow(arrow_tau_y2,\n                     tau,\n                     (center_x+tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x-tau/2)*Math.cos(theta)+(offset_tau)*Math.sin(theta),\n                     (center_x+tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     (center_x-tau/2)*Math.sin(theta)-(offset_tau)*Math.cos(theta),\n                     AHF)\n    }\n    \n"},"id":"6832","type":"CustomJS"},{"attributes":{},"id":"7097","type":"BasicTickFormatter"},{"attributes":{"tools":[{"id":"5821"},{"id":"5822"},{"id":"5823"},{"id":"5824"},{"id":"5825"},{"id":"5826"}]},"id":"5828","type":"Toolbar"},{"attributes":{"args":{"arr_head":{"id":"6023"},"div_P":{"id":"6029"},"fN":{"id":"6007"},"fP":{"id":"5995"},"fRx":{"id":"6004"},"fRyl":{"id":"6001"},"fRyr":{"id":"5998"},"fV":{"id":"6010"},"label_M_section":{"id":"6641"},"label_N_section":{"id":"6635"},"label_V_section":{"id":"6647"},"s_M":{"id":"6012"},"s_q":{"id":"5799"},"s_sb":{"id":"5798"},"s_section_M":{"id":"6618"},"section_M_head":{"id":"6629"},"section_N":{"id":"6613"},"section_V":{"id":"6616"},"source":{"id":"5801"},"tau_stress_diag":{"id":"6480"}},"code":"\n// retrieve data\nconst db = source.data\nconst FBD = cb_obj.active\nconst data_sb = s_sb.data\nconst data_q = s_q.data\nconst pos = db['x'][0]\n\n// apply the changes\ndb['FBD'][0] = FBD\n\n// update\ncheck_state(db)\nupdate_internal_forces(db, fN, fV, arr_head, s_M)\nupdate_scheme_position(db, data_sb, data_q)\nupdate_reactions(db, fRx, fRyl, fRyr)\nupdate_external_forces(db, fP, div_P)\nupdate_NVM_section(db, section_N, section_V, section_M_head, s_section_M, label_N_section, label_V_section, label_M_section)\n\n// emit the changes\nsource.change.emit()\ns_sb.change.emit()\ns_q.change.emit()\n\n\n    function check_state(data) {\n        const FBD = data['FBD'][0]\n        const pos = data['x'][0]\n        const L = data['L'][0]\n        if (FBD == 0 &amp;&amp; pos != L) {\n            data['state'][0] = 'R_SEC'\n        } else if (FBD == 1 &amp;&amp; pos != 0) {\n            data['state'][0] = 'L_SEC'\n        } else {\n            data['state'][0] = 'IDLE'\n        }\n    }\n    \n\n    function update_internal_forces(data, glyph_N, glyph_V, glyph_M_head, source_M, lambda=0.25, offset_N=1.5, offset_V=1) {\n        const pos = data['x'][0]\n        const SCALE = data['SCALE'][0]\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        switch(data['state'][0]) {\n            case 'IDLE':\n                // internal forces\n                update_arrow(glyph_N)\n                update_arrow(glyph_V)\n                update_curvedArrow(0, 0, 0, 0, 0, source_M, glyph_M_head)\n                break;\n            case 'R_SEC':\n                // internal forces\n                update_arrow(glyph_N, -N, pos*SCALE-N+offset_N, pos*SCALE+offset_N, 0, 0)\n                update_arrow(glyph_V, -V, pos*SCALE+offset_V, pos*SCALE+offset_V, -V/2, V/2)\n                var b = 6\n                var c = -M/2*0.8\n                var a = b-lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            case 'L_SEC':\n                // internal forces\n                update_arrow(glyph_N, N, pos*SCALE+N-offset_N, pos*SCALE-offset_N, 0, 0)\n                update_arrow(glyph_V, V, pos*SCALE-offset_V, pos*SCALE-offset_V, V/2, -V/2)\n                var b = -6\n                var c = -M/2*0.8\n                var a = b+lambda*c\n                update_curvedArrow(a, b, c, pos*SCALE, 0, source_M, glyph_M_head)\n                break;\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_scheme_position(data, data_scheme_beam, data_scheme_q) {\n        const L = data['L'][0]*data['SCALE'][0]\n        const pos = data['x'][0]*data['SCALE'][0]\n        \n        // move position of the point\n        data['xF'][0] = pos\n        \n        switch(data['state'][0]) {\n            case 'IDLE':\n                // beam\n                data_scheme_beam['x'][0] = 0\n                data_scheme_beam['x'][1] = L\n                // unif load\n                data_scheme_q['x'][0] = 0\n                data_scheme_q['x'][1] = 0\n                data_scheme_q['x'][2] = L\n                data_scheme_q['x'][3] = L\n                break\n            case 'R_SEC':\n                // beam\n                data_scheme_beam['x'][0] = 0\n                data_scheme_beam['x'][1] = pos\n                // unif load\n                data_scheme_q['x'][0] = 0\n                data_scheme_q['x'][1] = 0\n                data_scheme_q['x'][2] = pos\n                data_scheme_q['x'][3] = pos\n                break\n            case 'L_SEC':\n                // beam\n                data_scheme_beam['x'][0] = L\n                data_scheme_beam['x'][1] = pos\n                // unif load\n                data_scheme_q['x'][0] = L\n                data_scheme_q['x'][1] = L\n                data_scheme_q['x'][2] = pos\n                data_scheme_q['x'][3] = pos\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n    }\n    \n\n    function update_curvedArrow(a, b, c, pos_x, pos_y, source, arr_head, discr=10, AHF=6) {\n        const data_M = source.data\n        if (c==0) {\n            var a1 = 0\n            var a3 = 0\n        } else {\n            var a1 = b\n            var a3 = (a-b)/c**2\n        }\n        const step = 2*c / (discr-1);\n        const x = Array.from({length: discr}, (_, i) =&gt; -c + step * i);\n        const y = Array.from({length: x.length}, (_, i) =&gt; a3 * x[i]**2 +  a1)\n        var theta = -Math.atan(2/c*(a-b))\n        if (c&lt;0) {\n            theta = theta+Math.PI\n        }\n        data_M['x'] = y.map(y =&gt; y+pos_x)\n        data_M['y'] = x.map(x =&gt; x+pos_y)\n        \n        arr_head.glyph.size = arrow_growth(2*c)*AHF\n        arr_head.glyph.angle = theta\n        arr_head.glyph.x = y[y.length-1]+pos_x\n        arr_head.glyph.y = x[x.length-1]+pos_y\n        source.change.emit()\n    }\n    \n\n    function update_arrow(straight_arrow, intensity, x_start=0, x_end=0, y_start=0, y_end=0, AHF=7) {\n        straight_arrow.end.size = arrow_growth(intensity)*AHF\n        straight_arrow.x_start = x_start\n        straight_arrow.x_end = x_end\n        straight_arrow.y_start = y_start\n        straight_arrow.y_end = y_end\n        straight_arrow.line_width = arrow_growth(intensity)\n    }\n    \n\n    function update_reactions(data, glyph_Rx, glyph_Ry_l, glyph_Ry_r, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        const Ry_l = data['Ry_l'][0]\n        const Ry_r = data['Ry_r'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_Rx) // Rx\n                arrow_alpha(glyph_Ry_l) // Ry left\n                arrow_alpha(glyph_Ry_r) // Ry right\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_Rx, 1) // Rx\n                arrow_alpha(glyph_Ry_l, 1) // Ry left\n                arrow_alpha(glyph_Ry_r, alpha) // Ry right\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_Rx, alpha) //Rx\n                arrow_alpha(glyph_Ry_l, alpha) //Ry left\n                arrow_alpha(glyph_Ry_r, 1) // Ry right\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        update_arrow(glyph_Rx, -P, -P, 0, 0, 0) // Rx\n        update_arrow(glyph_Ry_r, Ry_r, L, L, -Ry_r, 0) // Ry right\n        update_arrow(glyph_Ry_l, Ry_l, 0, 0, -Ry_l, 0) // Ry left\n    }\n    \n\n    function update_external_forces(data, glyph_P, div_P, alpha=0.3) {\n        const P = data['P'][0]\n        const L = data['L'][0]*data['SCALE'][0]\n        \n        // update visibility\n        switch(data['state'][0]) {\n            case 'IDLE':\n                arrow_alpha(glyph_P) // P\n                break\n            case 'R_SEC':\n                arrow_alpha(glyph_P, alpha) // P\n                break\n            case 'L_SEC':\n                arrow_alpha(glyph_P, 1) //P\n                break\n            default:\n                console.log(\"error in state machine\")\n        }\n        \n        // update size\n        if (P==0) {\n            div_P.text = \"Axial force P: removed\"\n            update_arrow(glyph_P) // P\n        } else {\n            div_P.text = \"Axial force P: applied\"\n            update_arrow(glyph_P, P, L+P, L, 0, 0) // P\n        }\n    }\n    \n\n    function arrow_alpha(straight_arrow, alpha=1) {\n        straight_arrow.end.line_alpha = alpha\n        straight_arrow.end.fill_alpha = alpha\n        straight_arrow.line_alpha = alpha\n    }\n    \n\n    function update_NVM_section(data, glyph_N, glyph_V, glyph_M_head, source_M, label_N_section, label_V_section, label_M_section, lambda=0.25, offset_N=1.5, offset_V=2) {\n        const x = 0\n        const y = 0\n        const N = data['N'][0]\n        const V = data['V'][0]\n        const M = data['M'][0]\n        \n        update_arrow(glyph_N, -N, x-N+offset_N, x+offset_N, y, y)\n        update_arrow(glyph_V, -V, x+offset_V, x+offset_V, y-V/2, y+V/2)\n        var b = 6\n        var c = -M/2*0.8\n        var a = b-lambda*c\n        update_curvedArrow(a, b, c, x, y, source_M, glyph_M_head)\n        \n        if (N==0) {\n            label_N_section.glyph.text=''\n        } else {\n            label_N_section.glyph.text='N'\n        }\n        \n        if (V==0) {\n            label_V_section.glyph.text=''\n        } else {\n            label_V_section.glyph.text='V'\n        }\n        \n        if (M==0) {\n            label_M_section.glyph.text=''\n        } else {\n            label_M_section.glyph.text='M'\n        }\n    }\n    \n\n    function arrow_growth(variable) {\n        return Math.log(Math.abs(variable)+1)\n    }\n    \n"},"id":"6835","type":"CustomJS"},{"attributes":{"fill_color":{"value":"white"},"radius":{"value":0.125},"x":{"field":"x"},"y":{"field":"y"}},"id":"5848","type":"Circle"},{"attributes":{},"id":"7098","type":"AllLabels"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0},"height":{"value":320.0},"line_alpha":{"value":0},"line_color":{"value":"#1f77b4"},"width":{"value":160.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"5899","type":"Rect"},{"attributes":{"data":{"text":["q"],"x":[-0.2],"y":[400]},"selected":{"id":"7037"},"selection_policy":{"id":"7036"}},"id":"5859","type":"ColumnDataSource"},{"attributes":{},"id":"7100","type":"BasicTickFormatter"},{"attributes":{"fill_alpha":0.2,"fill_color":"white","hatch_alpha":0.2,"line_alpha":0.2,"x":{"field":"x"},"y":{"field":"y"}},"id":"5844","type":"Patch"},{"attributes":{"source":{"id":"5841"}},"id":"5846","type":"CDSView"},{"attributes":{"source":{"id":"5853"}},"id":"5858","type":"CDSView"},{"attributes":{},"id":"7101","type":"AllLabels"},{"attributes":{},"id":"5868","type":"DataRange1d"},{"attributes":{"data":{"x":[6],"y":[-40.0]},"selected":{"id":"7033"},"selection_policy":{"id":"7032"}},"id":"5847","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"white"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"radius":{"value":0.125},"x":{"field":"x"},"y":{"field":"y"}},"id":"5849","type":"Circle"},{"attributes":{"data":{"x":[0],"y":[0]},"selected":{"id":"7111"},"selection_policy":{"id":"7110"}},"id":"5907","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"5876"},"coordinates":null,"group":null,"ticker":null},"id":"5879","type":"Grid"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"white"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"radius":{"value":0.125},"x":{"field":"x"},"y":{"field":"y"}},"id":"5850","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"blue"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"navy"},"height":{"value":158.4},"line_alpha":{"value":0.2},"line_color":{"value":"navy"},"width":{"value":6},"x":{"field":"x"},"y":{"field":"y"}},"id":"5856","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"5847"},"glyph":{"id":"5848"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5850"},"nonselection_glyph":{"id":"5849"},"view":{"id":"5852"}},"id":"5851","type":"GlyphRenderer"},{"attributes":{"source":{"id":"5847"}},"id":"5852","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"5853"},"glyph":{"id":"5854"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5856"},"nonselection_glyph":{"id":"5855"},"view":{"id":"5858"}},"id":"5857","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"white"},"hatch_pattern":{"value":"/"},"height":{"value":200},"line_width":{"value":3},"width":{"value":100},"x":{"field":"x"},"y":{"field":"y"}},"id":"5908","type":"Rect"},{"attributes":{"data":{"x":[0],"y":[0]},"selected":{"id":"7109"},"selection_policy":{"id":"7108"}},"id":"5898","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"5859"},"glyph":{"id":"5860"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5862"},"nonselection_glyph":{"id":"5861"},"view":{"id":"5864"}},"id":"5863","type":"GlyphRenderer"},{"attributes":{},"id":"5874","type":"LinearScale"},{"attributes":{"coordinates":null,"group":null,"text":"Cross-section of the beam"},"id":"5866","type":"Title"},{"attributes":{"text_color":{"value":"blue"},"x":{"field":"x"},"y":{"field":"y"}},"id":"5860","type":"Text"},{"attributes":{"source":{"id":"5859"}},"id":"5864","type":"CDSView"},{"attributes":{"text":"\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Geometrical and mechanical parameters:&lt;/b&gt;&lt;/p&gt;\n    h = 200 mm&lt;br&gt;\n    b = 100 mm&lt;br&gt;\n    L = 6 m&lt;br&gt;\n    A = 2.00e+04 mm&lt;sup&gt;2&lt;/sup&gt;&lt;br&gt;\n    Iy = 6.67e+07 mm&lt;sup&gt;4&lt;/sup&gt;&lt;br&gt;\n    Iz = 1.67e+07 mm&lt;sup&gt;4&lt;/sup&gt;","width":170},"id":"5913","type":"Div"},{"attributes":{},"id":"5872","type":"LinearScale"},{"attributes":{"text_alpha":{"value":0.1},"text_color":{"value":"blue"},"x":{"field":"x"},"y":{"field":"y"}},"id":"5861","type":"Text"},{"attributes":{"text_alpha":{"value":0.2},"text_color":{"value":"blue"},"x":{"field":"x"},"y":{"field":"y"}},"id":"5862","type":"Text"},{"attributes":{},"id":"5870","type":"DataRange1d"},{"attributes":{"axis_label":"Width b [mm]","coordinates":null,"formatter":{"id":"7026"},"group":null,"major_label_policy":{"id":"7027"},"ticker":{"id":"5904"}},"id":"5876","type":"LinearAxis"},{"attributes":{},"id":"6706","type":"BasicTicker"},{"attributes":{"axis":{"id":"6705"},"coordinates":null,"dimension":1,"grid_line_alpha":0,"group":null,"ticker":null},"id":"6708","type":"Grid"},{"attributes":{"overlay":{"id":"6715"}},"id":"6711","type":"BoxZoomTool"},{"attributes":{},"id":"6709","type":"PanTool"},{"attributes":{},"id":"6714","type":"HelpTool"},{"attributes":{},"id":"7130","type":"UnionRenderers"},{"attributes":{},"id":"6710","type":"WheelZoomTool"},{"attributes":{},"id":"6712","type":"SaveTool"},{"attributes":{},"id":"6713","type":"ResetTool"},{"attributes":{},"id":"7131","type":"Selection"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6715","type":"BoxAnnotation"},{"attributes":{"fill_alpha":{"value":0},"fill_color":{"value":"black"},"height":{"value":30.0},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6736","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"6747"},"glyph":{"id":"6748"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6750"},"nonselection_glyph":{"id":"6749"},"view":{"id":"6752"}},"id":"6751","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6759","type":"VeeHead"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6765","type":"VeeHead"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":2.8382557567571505}},"id":"6753","type":"VeeHead"},{"attributes":{"source":{"id":"6741"}},"id":"6746","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.1},"height":{"value":180.0},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"width":{"value":180.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6725","type":"Rect"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"#1f77b4"},"hatch_alpha":{"value":0.2},"height":{"value":180.0},"line_alpha":{"value":0.2},"line_color":{"value":"#1f77b4"},"width":{"value":180.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6726","type":"Rect"},{"attributes":{},"id":"7133","type":"UnionRenderers"},{"attributes":{"source":{"id":"6723"}},"id":"6728","type":"CDSView"},{"attributes":{},"id":"7134","type":"Selection"},{"attributes":{"tools":[{"id":"6709"},{"id":"6710"},{"id":"6711"},{"id":"6712"},{"id":"6713"},{"id":"6714"}]},"id":"6716","type":"Toolbar"},{"attributes":{"line_alpha":0.2,"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6744","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"6723"},"glyph":{"id":"6724"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6726"},"nonselection_glyph":{"id":"6725"},"view":{"id":"6728"}},"id":"6727","type":"GlyphRenderer"},{"attributes":{"data":{"x":[120],"y":[0]},"selected":{"id":"6912"},"selection_policy":{"id":"6911"}},"id":"6735","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"black"},"hatch_alpha":{"value":0.1},"height":{"value":30.0},"line_alpha":{"value":0.1},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6731","type":"Rect"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"black"},"hatch_alpha":{"value":0.1},"height":{"value":30.0},"line_alpha":{"value":0.1},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6737","type":"Rect"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"black"},"hatch_alpha":{"value":0.2},"height":{"value":30.0},"line_alpha":{"value":0.2},"line_width":{"value":2},"width":{"value":30.0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6732","type":"Rect"},{"attributes":{"coordinates":null,"data_source":{"id":"6741"},"glyph":{"id":"6742"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6744"},"nonselection_glyph":{"id":"6743"},"view":{"id":"6746"}},"id":"6745","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"6729"},"glyph":{"id":"6730"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6732"},"nonselection_glyph":{"id":"6731"},"view":{"id":"6734"}},"id":"6733","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6771","type":"VeeHead"},{"attributes":{"data":{"x":[0,150.0],"y":[0,0]},"selected":{"id":"6914"},"selection_policy":{"id":"6913"}},"id":"6741","type":"ColumnDataSource"},{"attributes":{"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6742","type":"Line"},{"attributes":{"source":{"id":"6729"}},"id":"6734","type":"CDSView"},{"attributes":{"line_alpha":0.1,"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6743","type":"Line"},{"attributes":{"line_alpha":0.1,"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6749","type":"Line"},{"attributes":{"coordinates":null,"end":{"id":"6753"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.4054651081081644},"source":{"id":"6873"},"start":null,"x_end":{"value":25.0},"x_start":{"value":25.5},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"6754","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"6768"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6878"},"start":null,"x_end":{"value":-20.0},"x_start":{"value":-20.0},"y_end":{"value":-0.0},"y_start":{"value":0.0}},"id":"6769","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"6759"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6875"},"start":null,"x_end":{"value":0.0},"x_start":{"value":0.0},"y_end":{"value":25.0},"y_start":{"value":25.0}},"id":"6760","type":"Arrow"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6768","type":"VeeHead"},{"attributes":{"coordinates":null,"end":{"id":"6777"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.4054651081081644},"source":{"id":"6881"},"start":null,"x_end":{"value":145.0},"x_start":{"value":145.5},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"6778","type":"Arrow"},{"attributes":{},"id":"7135","type":"UnionRenderers"},{"attributes":{"line_alpha":0.2,"line_dash":[4,4],"line_width":0.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6750","type":"Line"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6774","type":"VeeHead"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":2.8382557567571505}},"id":"6756","type":"VeeHead"},{"attributes":{},"id":"7136","type":"Selection"},{"attributes":{"coordinates":null,"end":{"id":"6756"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.4054651081081644},"source":{"id":"6874"},"start":null,"x_end":{"value":-25.0},"x_start":{"value":-25.5},"y_end":{"value":-0.0},"y_start":{"value":-0.0}},"id":"6757","type":"Arrow"},{"attributes":{"source":{"id":"6747"}},"id":"6752","type":"CDSView"},{"attributes":{"coordinates":null,"end":{"id":"6771"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6879"},"start":null,"x_end":{"value":0.0},"x_start":{"value":0.0},"y_end":{"value":20.0},"y_start":{"value":20.0}},"id":"6772","type":"Arrow"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":2.8382557567571505}},"id":"6777","type":"VeeHead"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":0.0}},"id":"6762","type":"VeeHead"},{"attributes":{"coordinates":null,"end":{"id":"6762"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6876"},"start":null,"x_end":{"value":0.0},"x_start":{"value":0.0},"y_end":{"value":-25.0},"y_start":{"value":-25.0}},"id":"6763","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"6765"},"group":null,"line_color":{"value":"blue"},"line_width":{"value":0.0},"source":{"id":"6877"},"start":null,"x_end":{"value":20.0},"x_start":{"value":20.0},"y_end":{"value":0.0},"y_start":{"value":0.0}},"id":"6766","type":"Arrow"},{"attributes":{},"id":"7009","type":"UnionRenderers"},{"attributes":{},"id":"7010","type":"Selection"},{"attributes":{},"id":"6863","type":"AllLabels"},{"attributes":{},"id":"6866","type":"AllLabels"},{"attributes":{},"id":"6872","type":"AllLabels"},{"attributes":{},"id":"6865","type":"BasicTickFormatter"},{"attributes":{},"id":"6871","type":"BasicTickFormatter"},{"attributes":{},"id":"6868","type":"BasicTickFormatter"},{"attributes":{},"id":"7051","type":"UnionRenderers"},{"attributes":{},"id":"7052","type":"Selection"},{"attributes":{},"id":"7012","type":"UnionRenderers"},{"attributes":{},"id":"7013","type":"Selection"},{"attributes":{},"id":"7014","type":"UnionRenderers"},{"attributes":{},"id":"7015","type":"Selection"},{"attributes":{},"id":"7016","type":"UnionRenderers"},{"attributes":{},"id":"7017","type":"Selection"},{"attributes":{},"id":"6869","type":"AllLabels"},{"attributes":{},"id":"7018","type":"UnionRenderers"},{"attributes":{},"id":"7019","type":"Selection"},{"attributes":{},"id":"6266","type":"HelpTool"},{"attributes":{},"id":"7121","type":"UnionRenderers"},{"attributes":{},"id":"6264","type":"SaveTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"5941","type":"BoxAnnotation"},{"attributes":{},"id":"6265","type":"ResetTool"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6267","type":"BoxAnnotation"},{"attributes":{},"id":"6281","type":"LinearScale"},{"attributes":{"text":"\n    &lt;p style='font-size:14px'&gt;&lt;b&gt;Forces and Moments:&lt;/b&gt;&lt;/p&gt;\n    P = 10 kN&lt;br&gt;\n    Rx = 10 kN&lt;br&gt;\n    Ry (left) = 12.0 kN&lt;br&gt;\n    Ry (right) = 12.0 kN&lt;br&gt;\n    No cross section analysed.&lt;br&gt;\n    N = 0 kN&lt;br&gt;\n    V = 0 kN&lt;br&gt;\n    M = 0 kNm\n    \n    ","width":170},"id":"6031","type":"Div"},{"attributes":{"below":[{"id":"6318"}],"center":[{"id":"6321"},{"id":"6325"}],"height":200,"left":[{"id":"6322"}],"renderers":[{"id":"6444"},{"id":"6450"},{"id":"6456"}],"title":{"id":"6308"},"toolbar":{"id":"6333"},"toolbar_location":null,"width":200,"x_range":{"id":"6310"},"x_scale":{"id":"6314"},"y_range":{"id":"6312"},"y_scale":{"id":"6316"}},"id":"6307","subtype":"Figure","type":"Plot"},{"attributes":{"text":"Axial force P: applied"},"id":"6029","type":"Div"},{"attributes":{"end":5.0,"js_property_callbacks":{"change:value":[{"id":"6836"}]},"start":0.1,"step":0.1,"title":"Change the uniform load q [kN/m]","value":4},"id":"6025","type":"Slider"},{"attributes":{},"id":"7122","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"5949"},"glyph":{"id":"5950"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5952"},"nonselection_glyph":{"id":"5951"},"view":{"id":"5954"}},"id":"5953","type":"GlyphRenderer"},{"attributes":{"source":{"id":"6019"}},"id":"6024","type":"CDSView"},{"attributes":{"text_color":{"value":"green"},"x":{"field":"x"},"y":{"field":"y"}},"id":"5959","type":"Text"},{"attributes":{},"id":"7165","type":"UnionRenderers"},{"attributes":{},"id":"7166","type":"Selection"},{"attributes":{},"id":"6283","type":"LinearScale"},{"attributes":{"coordinates":null,"data_source":{"id":"5976"},"glyph":{"id":"5977"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5979"},"nonselection_glyph":{"id":"5978"},"view":{"id":"5981"}},"id":"5980","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"group":null,"text":"Bending strain"},"id":"6276","type":"Title"},{"attributes":{"text_alpha":{"value":0.2},"text_color":{"value":"green"},"x":{"field":"x"},"y":{"field":"y"}},"id":"5961","type":"Text"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":0.0}},"id":"6615","type":"VeeHead"},{"attributes":{"coordinates":null,"data_source":{"id":"5958"},"glyph":{"id":"5959"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5961"},"nonselection_glyph":{"id":"5960"},"view":{"id":"5963"}},"id":"5962","type":"GlyphRenderer"},{"attributes":{"coordinates":null,"data_source":{"id":"5800"},"glyph":{"id":"6411"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6413"},"nonselection_glyph":{"id":"6412"},"view":{"id":"6415"}},"id":"6414","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.5},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.5},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.5},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"xF"},"y":{"field":"y"}},"id":"5965","type":"Circle"},{"attributes":{},"id":"6343","type":"DataRange1d"},{"attributes":{"coordinates":null,"data_source":{"id":"5798"},"glyph":{"id":"5971"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5973"},"nonselection_glyph":{"id":"5972"},"view":{"id":"5975"}},"id":"5974","type":"GlyphRenderer"},{"attributes":{"source":{"id":"5958"}},"id":"5963","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"5799"},"glyph":{"id":"5983"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5985"},"nonselection_glyph":{"id":"5984"},"view":{"id":"5987"}},"id":"5986","type":"GlyphRenderer"},{"attributes":{"tools":[{"id":"6261"},{"id":"6262"},{"id":"6263"},{"id":"6264"},{"id":"6265"},{"id":"6266"}]},"id":"6268","type":"Toolbar"},{"attributes":{"data":{"text":["P"],"x":[6.5],"y":[0.2]},"selected":{"id":"7039"},"selection_policy":{"id":"7038"}},"id":"5958","type":"ColumnDataSource"},{"attributes":{"axis":{"id":"6285"},"coordinates":null,"group":null,"ticker":null},"id":"6288","type":"Grid"},{"attributes":{"text":"Free-body diagram (FBD):"},"id":"6027","type":"Div"},{"attributes":{},"id":"6294","type":"WheelZoomTool"},{"attributes":{"coordinates":null,"data_source":{"id":"5801"},"glyph":{"id":"5965"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5967"},"nonselection_glyph":{"id":"5966"},"view":{"id":"5969"}},"id":"5968","type":"GlyphRenderer"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6299","type":"BoxAnnotation"},{"attributes":{"text_alpha":{"value":0.1},"text_color":{"value":"green"},"x":{"field":"x"},"y":{"field":"y"}},"id":"5960","type":"Text"},{"attributes":{"active":[0],"js_property_callbacks":{"change:active":[{"id":"6834"}]},"labels":["Apply or remove axial force P"]},"id":"6030","type":"CheckboxButtonGroup"},{"attributes":{"axis_label":"Strain \u03b5\u2098 [%]","coordinates":null,"formatter":{"id":"7075"},"group":null,"major_label_policy":{"id":"7076"},"ticker":{"id":"6532"}},"id":"6285","type":"LinearAxis"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"orange"},"size":{"value":17.954645502230758}},"id":"6000","type":"VeeHead"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.1},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.1},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"xF"},"y":{"field":"y"}},"id":"5966","type":"Circle"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7073"},"group":null,"major_label_policy":{"id":"7074"},"ticker":{"id":"6290"},"visible":false},"id":"6289","type":"LinearAxis"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"magenta"},"hatch_alpha":{"value":0.2},"hatch_color":{"value":"magenta"},"line_alpha":{"value":0.2},"line_color":{"value":"magenta"},"size":{"value":10},"x":{"field":"xF"},"y":{"field":"y"}},"id":"5967","type":"Circle"},{"attributes":{"axis":{"id":"6289"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6292","type":"Grid"},{"attributes":{},"id":"7124","type":"UnionRenderers"},{"attributes":{},"id":"7167","type":"UnionRenderers"},{"attributes":{"source":{"id":"5801"}},"id":"5969","type":"CDSView"},{"attributes":{"end":6,"js_property_callbacks":{"change:value":[{"id":"6831"}]},"start":0,"step":0.02,"title":"Change the position x along the beam [m]","value":6},"id":"6026","type":"Slider"},{"attributes":{},"id":"6290","type":"BasicTicker"},{"attributes":{"data":{"x":[0,60],"y":[0,0]},"selected":{"id":"7004"},"selection_policy":{"id":"7003"}},"id":"5976","type":"ColumnDataSource"},{"attributes":{"tools":[{"id":"6293"},{"id":"6294"},{"id":"6295"},{"id":"6296"},{"id":"6297"},{"id":"6298"}]},"id":"6300","type":"Toolbar"},{"attributes":{},"id":"7125","type":"Selection"},{"attributes":{"fill_alpha":0.3,"fill_color":"blue","hatch_alpha":0.3,"hatch_color":"navy","line_alpha":0.3,"line_color":"navy","x":{"field":"x"},"y":{"field":"y"}},"id":"5983","type":"Patch"},{"attributes":{},"id":"7168","type":"Selection"},{"attributes":{"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"5971","type":"Line"},{"attributes":{},"id":"6298","type":"HelpTool"},{"attributes":{},"id":"7126","type":"UnionRenderers"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"orange"},"size":{"value":17.954645502230758}},"id":"5997","type":"VeeHead"},{"attributes":{},"id":"6293","type":"PanTool"},{"attributes":{"coordinates":null,"data_source":{"id":"6019"},"glyph":{"id":"6020"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6022"},"nonselection_glyph":{"id":"6021"},"view":{"id":"6024"}},"id":"6023","type":"GlyphRenderer"},{"attributes":{"overlay":{"id":"6299"}},"id":"6295","type":"BoxZoomTool"},{"attributes":{"line_alpha":0.1,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"5972","type":"Line"},{"attributes":{},"id":"7127","type":"Selection"},{"attributes":{"fill_alpha":0.2,"fill_color":"blue","hatch_alpha":0.2,"hatch_color":"navy","line_alpha":0.2,"line_color":"navy","x":{"field":"x_fade"},"y":{"field":"y"}},"id":"5991","type":"Patch"},{"attributes":{},"id":"6296","type":"SaveTool"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"orange"},"size":{"value":16.785266909588593}},"id":"6003","type":"VeeHead"},{"attributes":{},"id":"6297","type":"ResetTool"},{"attributes":{"coordinates":null,"data_source":{"id":"5799"},"glyph":{"id":"5989"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"5991"},"nonselection_glyph":{"id":"5990"},"view":{"id":"5993"}},"id":"5992","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"5973","type":"Line"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6020","type":"Scatter"},{"attributes":{"fill_color":{"value":"green"},"line_color":{"value":"green"},"size":{"value":16.785266909588593}},"id":"5994","type":"VeeHead"},{"attributes":{"source":{"id":"5798"}},"id":"5975","type":"CDSView"},{"attributes":{"coordinates":null,"end":{"id":"5997"},"group":null,"line_color":{"value":"orange"},"line_width":{"value":2.5649493574615367},"source":{"id":"6957"},"start":null,"x_end":{"value":60},"x_start":{"value":60},"y_end":{"value":0},"y_start":{"value":-12.0}},"id":"5998","type":"Arrow"},{"attributes":{"source":{"id":"5976"}},"id":"5981","type":"CDSView"},{"attributes":{"coordinates":null,"end":{"id":"5994"},"group":null,"line_color":{"value":"green"},"line_width":{"value":2.3978952727983707},"source":{"id":"6956"},"start":null,"x_end":{"value":60},"x_start":{"value":70},"y_end":{"value":0},"y_start":{"value":0}},"id":"5995","type":"Arrow"},{"attributes":{"line_alpha":0.2,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"5977","type":"Line"},{"attributes":{"source":{"id":"5799"}},"id":"5993","type":"CDSView"},{"attributes":{"line_alpha":0.2,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"5979","type":"Line"},{"attributes":{"fill_alpha":0.1,"fill_color":"blue","hatch_alpha":0.1,"hatch_color":"navy","line_alpha":0.1,"line_color":"navy","x":{"field":"x"},"y":{"field":"y"}},"id":"5984","type":"Patch"},{"attributes":{},"id":"7128","type":"UnionRenderers"},{"attributes":{"line_alpha":0.1,"line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"5978","type":"Line"},{"attributes":{"active":0,"js_property_callbacks":{"change:active":[{"id":"6835"}]},"labels":["Right-hand","Left-hand"]},"id":"6028","type":"RadioButtonGroup"},{"attributes":{"fill_alpha":0.1,"fill_color":"blue","hatch_alpha":0.1,"hatch_color":"navy","line_alpha":0.1,"line_color":"navy","x":{"field":"x_fade"},"y":{"field":"y"}},"id":"5990","type":"Patch"},{"attributes":{},"id":"7129","type":"Selection"},{"attributes":{"source":{"id":"5799"}},"id":"5987","type":"CDSView"},{"attributes":{"fill_alpha":0.3,"fill_color":"blue","hatch_alpha":0.3,"hatch_color":"navy","line_alpha":0.3,"line_color":"navy","x":{"field":"x_fade"},"y":{"field":"y"}},"id":"5989","type":"Patch"},{"attributes":{"fill_alpha":{"value":0.2},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.2},"line_alpha":{"value":0.2},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6022","type":"Scatter"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":0.0}},"id":"6006","type":"VeeHead"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"hatch_alpha":{"value":0.1},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"marker":{"value":"triangle"},"size":{"value":0},"x":{"field":"x"},"y":{"field":"y"}},"id":"6021","type":"Scatter"},{"attributes":{"fill_alpha":0.2,"fill_color":"blue","hatch_alpha":0.2,"hatch_color":"navy","line_alpha":0.2,"line_color":"navy","x":{"field":"x"},"y":{"field":"y"}},"id":"5985","type":"Patch"},{"attributes":{"coordinates":null,"end":{"id":"6003"},"group":null,"line_color":{"value":"orange"},"line_width":{"value":2.3978952727983707},"source":{"id":"6959"},"start":null,"x_end":{"value":0},"x_start":{"value":-10},"y_end":{"value":0},"y_start":{"value":0}},"id":"6004","type":"Arrow"},{"attributes":{"coordinates":null,"end":{"id":"6000"},"group":null,"line_color":{"value":"orange"},"line_width":{"value":2.5649493574615367},"source":{"id":"6958"},"start":null,"x_end":{"value":0},"x_start":{"value":0},"y_end":{"value":0},"y_start":{"value":-12.0}},"id":"6001","type":"Arrow"},{"attributes":{},"id":"6948","type":"UnionRenderers"},{"attributes":{},"id":"7081","type":"BasicTickFormatter"},{"attributes":{},"id":"7082","type":"AllLabels"},{"attributes":{},"id":"6949","type":"Selection"},{"attributes":{},"id":"6378","type":"LinearScale"},{"attributes":{},"id":"6383","type":"BasicTicker"},{"attributes":{"axis":{"id":"6382"},"coordinates":null,"group":null,"ticker":null},"id":"6385","type":"Grid"},{"attributes":{"coordinates":null,"group":null,"text":"Total stress \u03c4"},"id":"6373","type":"Title"},{"attributes":{"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6405","type":"Line"},{"attributes":{},"id":"6391","type":"WheelZoomTool"},{"attributes":{},"id":"6380","type":"LinearScale"},{"attributes":{"axis_label":"Stress \u03c4 [MPa]","coordinates":null,"formatter":{"id":"7106"},"group":null,"major_label_policy":{"id":"7107"},"ticker":{"id":"6383"}},"id":"6382","type":"LinearAxis"},{"attributes":{"axis_label":"Height h [mm]","coordinates":null,"formatter":{"id":"7103"},"group":null,"major_label_policy":{"id":"7104"},"ticker":{"id":"6387"}},"id":"6386","type":"LinearAxis"},{"attributes":{"axis":{"id":"6386"},"coordinates":null,"dimension":1,"group":null,"ticker":null},"id":"6389","type":"Grid"},{"attributes":{},"id":"6387","type":"BasicTicker"},{"attributes":{},"id":"7158","type":"UnionRenderers"},{"attributes":{},"id":"6395","type":"HelpTool"},{"attributes":{},"id":"7159","type":"Selection"},{"attributes":{},"id":"6390","type":"PanTool"},{"attributes":{"overlay":{"id":"6396"}},"id":"6392","type":"BoxZoomTool"},{"attributes":{},"id":"7160","type":"UnionRenderers"},{"attributes":{},"id":"6393","type":"SaveTool"},{"attributes":{},"id":"7084","type":"BasicTickFormatter"},{"attributes":{},"id":"6394","type":"ResetTool"},{"attributes":{},"id":"7161","type":"Selection"},{"attributes":{},"id":"7085","type":"AllLabels"},{"attributes":{"bottom_units":"screen","coordinates":null,"fill_alpha":0.5,"fill_color":"lightgrey","group":null,"left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"6396","type":"BoxAnnotation"},{"attributes":{"line_alpha":0.2,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6407","type":"Line"},{"attributes":{},"id":"7087","type":"BasicTickFormatter"},{"attributes":{"source":{"id":"6404"}},"id":"6409","type":"CDSView"},{"attributes":{},"id":"7088","type":"AllLabels"},{"attributes":{},"id":"6951","type":"BasicTickFormatter"},{"attributes":{},"id":"6862","type":"BasicTickFormatter"},{"attributes":{},"id":"6952","type":"AllLabels"},{"attributes":{},"id":"6954","type":"BasicTickFormatter"},{"attributes":{"coordinates":null,"data_source":{"id":"6422"},"glyph":{"id":"6423"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6425"},"nonselection_glyph":{"id":"6424"},"view":{"id":"6427"}},"id":"6426","type":"GlyphRenderer"},{"attributes":{},"id":"6955","type":"AllLabels"},{"attributes":{"data":{"x":[-3.0,3.0],"y":[0,0]},"selected":{"id":"7136"},"selection_policy":{"id":"7135"}},"id":"6416","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"5800"},"glyph":{"id":"6501"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6503"},"nonselection_glyph":{"id":"6502"},"view":{"id":"6505"}},"id":"6504","type":"GlyphRenderer"},{"attributes":{"data":{},"selected":{"id":"7017"},"selection_policy":{"id":"7016"}},"id":"6958","type":"ColumnDataSource"},{"attributes":{"tools":[{"id":"6390"},{"id":"6391"},{"id":"6392"},{"id":"6393"},{"id":"6394"},{"id":"6395"}]},"id":"6397","type":"Toolbar"},{"attributes":{"line_alpha":0.1,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6412","type":"Line"},{"attributes":{"source":{"id":"5800"}},"id":"6415","type":"CDSView"},{"attributes":{},"id":"7162","type":"UnionRenderers"},{"attributes":{"data":{"x":[0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"7134"},"selection_policy":{"id":"7133"}},"id":"6404","type":"ColumnDataSource"},{"attributes":{"data":{},"selected":{"id":"7013"},"selection_policy":{"id":"7012"}},"id":"6956","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.1,"line_color":"blue","x":{"field":"x"},"y":{"field":"y"}},"id":"6406","type":"Line"},{"attributes":{},"id":"7163","type":"Selection"},{"attributes":{"coordinates":null,"data_source":{"id":"5800"},"glyph":{"id":"6429"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6431"},"nonselection_glyph":{"id":"6430"},"view":{"id":"6433"}},"id":"6432","type":"GlyphRenderer"},{"attributes":{"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6411","type":"Line"},{"attributes":{"data":{},"selected":{"id":"7015"},"selection_policy":{"id":"7014"}},"id":"6957","type":"ColumnDataSource"},{"attributes":{"line_alpha":0.2,"line_width":1.5,"x":{"field":"x"},"y":{"field":"y"}},"id":"6413","type":"Line"},{"attributes":{"coordinates":null,"data_source":{"id":"6488"},"glyph":{"id":"6489"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6491"},"nonselection_glyph":{"id":"6490"},"view":{"id":"6493"}},"id":"6492","type":"GlyphRenderer"},{"attributes":{"line_alpha":0,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6417","type":"Line"},{"attributes":{"data":{"x":[0,-0.0,-0.0,-0.0,-0.0,-0.0,0.0,0.0,0.0,0.0,0.0,0],"y":[0,0.0,22.22222222222222,44.44444444444444,66.66666666666666,88.88888888888889,111.11111111111111,133.33333333333331,155.55555555555554,177.77777777777777,200.0,200]},"selected":{"id":"7144"},"selection_policy":{"id":"7143"}},"id":"6422","type":"ColumnDataSource"},{"attributes":{"coordinates":null,"data_source":{"id":"6440"},"glyph":{"id":"6441"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6443"},"nonselection_glyph":{"id":"6442"},"view":{"id":"6445"}},"id":"6444","type":"GlyphRenderer"},{"attributes":{"source":{"id":"6416"}},"id":"6421","type":"CDSView"},{"attributes":{"coordinates":null,"data_source":{"id":"6416"},"glyph":{"id":"6417"},"group":null,"hover_glyph":null,"muted_glyph":{"id":"6419"},"nonselection_glyph":{"id":"6418"},"view":{"id":"6421"}},"id":"6420","type":"GlyphRenderer"},{"attributes":{"line_alpha":0.2,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6419","type":"Line"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","x":{"field":"x"},"y":{"field":"y"}},"id":"6418","type":"Line"}],"root_ids":["6858"]},"title":"Bokeh Application","version":"2.4.2"}}
        </script>
        <script type="text/javascript">
          (function() {
            const fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  const docs_json = document.getElementById('10591').textContent;
                  const render_items = [{"docid":"5c043f96-a055-4bec-b2b1-002fbff75659","root_ids":["6858"],"roots":{"6858":"50a654f0-f7e1-4f79-b545-aa236d11267e"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    let attempts = 0;
                    const timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>